(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e4={exports:{}},fu={},t4={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),_3=Symbol.for("react.portal"),x3=Symbol.for("react.fragment"),b3=Symbol.for("react.strict_mode"),S3=Symbol.for("react.profiler"),T3=Symbol.for("react.provider"),E3=Symbol.for("react.context"),k3=Symbol.for("react.forward_ref"),A3=Symbol.for("react.suspense"),I3=Symbol.for("react.memo"),C3=Symbol.for("react.lazy"),L1=Symbol.iterator;function R3(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var n4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r4=Object.assign,s4={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=s4,this.updater=n||n4}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i4(){}i4.prototype=Lo.prototype;function gd(t,e,n){this.props=t,this.context=e,this.refs=s4,this.updater=n||n4}var yd=gd.prototype=new i4;yd.constructor=gd;r4(yd,Lo.prototype);yd.isPureReactComponent=!0;var F1=Array.isArray,o4=Object.prototype.hasOwnProperty,vd={current:null},a4={key:!0,ref:!0,__self:!0,__source:!0};function l4(t,e,n){var r,s={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)o4.call(e,r)&&!a4.hasOwnProperty(r)&&(s[r]=e[r]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];s.children=g}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)s[r]===void 0&&(s[r]=d[r]);return{$$typeof:gl,type:t,key:o,ref:c,props:s,_owner:vd.current}}function N3(t,e){return{$$typeof:gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===gl}function P3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var B1=/\/+/g;function gc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P3(""+t.key):e.toString(36)}function f0(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case gl:case _3:c=!0}}if(c)return c=t,s=s(c),t=r===""?"."+gc(c,0):r,F1(s)?(n="",t!=null&&(n=t.replace(B1,"$&/")+"/"),f0(s,e,n,"",function(_){return _})):s!=null&&(wd(s)&&(s=N3(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(B1,"$&/")+"/")+t)),e.push(s)),1;if(c=0,r=r===""?".":r+":",F1(t))for(var d=0;d<t.length;d++){o=t[d];var g=r+gc(o,d);c+=f0(o,e,n,g,s)}else if(g=R3(t),typeof g=="function")for(t=g.call(t),d=0;!(o=t.next()).done;)o=o.value,g=r+gc(o,d++),c+=f0(o,e,n,g,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function Wl(t,e,n){if(t==null)return t;var r=[],s=0;return f0(t,r,"","",function(o){return e.call(n,o,s++)}),r}function M3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},m0={transition:null},D3={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:m0,ReactCurrentOwner:vd};function u4(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Lo;Me.Fragment=x3;Me.Profiler=S3;Me.PureComponent=gd;Me.StrictMode=b3;Me.Suspense=A3;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;Me.act=u4;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=r4({},t.props),s=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=vd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(g in e)o4.call(e,g)&&!a4.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&d!==void 0?d[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];r.children=d}return{$$typeof:gl,type:t.type,key:s,ref:o,props:r,_owner:c}};Me.createContext=function(t){return t={$$typeof:E3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T3,_context:t},t.Consumer=t};Me.createElement=l4;Me.createFactory=function(t){var e=l4.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:k3,render:t}};Me.isValidElement=wd;Me.lazy=function(t){return{$$typeof:C3,_payload:{_status:-1,_result:t},_init:M3}};Me.memo=function(t,e){return{$$typeof:I3,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=m0.transition;m0.transition={};try{t()}finally{m0.transition=e}};Me.unstable_act=u4;Me.useCallback=function(t,e){return bn.current.useCallback(t,e)};Me.useContext=function(t){return bn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return bn.current.useEffect(t,e)};Me.useId=function(){return bn.current.useId()};Me.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return bn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Me.useRef=function(t){return bn.current.useRef(t)};Me.useState=function(t){return bn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return bn.current.useTransition()};Me.version="18.3.1";t4.exports=Me;var Le=t4.exports;const V3=w3(Le);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3=Le,O3=Symbol.for("react.element"),L3=Symbol.for("react.fragment"),F3=Object.prototype.hasOwnProperty,B3=z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j3={key:!0,ref:!0,__self:!0,__source:!0};function c4(t,e,n){var r,s={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)F3.call(e,r)&&!j3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:O3,type:t,key:o,ref:c,props:s,_owner:B3.current}}fu.Fragment=L3;fu.jsx=c4;fu.jsxs=c4;e4.exports=fu;var Z=e4.exports,nh={},h4={exports:{}},Hn={},d4={exports:{}},f4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(fe,ke){var oe=fe.length;fe.push(ke);e:for(;0<oe;){var Ye=oe-1>>>1,Ge=fe[Ye];if(0<s(Ge,ke))fe[Ye]=ke,fe[oe]=Ge,oe=Ye;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var ke=fe[0],oe=fe.pop();if(oe!==ke){fe[0]=oe;e:for(var Ye=0,Ge=fe.length,st=Ge>>>1;Ye<st;){var Tn=2*(Ye+1)-1,Rt=fe[Tn],sn=Tn+1,Vn=fe[sn];if(0>s(Rt,oe))sn<Ge&&0>s(Vn,Rt)?(fe[Ye]=Vn,fe[sn]=oe,Ye=sn):(fe[Ye]=Rt,fe[Tn]=oe,Ye=Tn);else if(sn<Ge&&0>s(Vn,oe))fe[Ye]=Vn,fe[sn]=oe,Ye=sn;else break e}}return ke}function s(fe,ke){var oe=fe.sortIndex-ke.sortIndex;return oe!==0?oe:fe.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var g=[],_=[],E=1,C=null,R=3,H=!1,Y=!1,ee=!1,W=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(fe){for(var ke=n(_);ke!==null;){if(ke.callback===null)r(_);else if(ke.startTime<=fe)r(_),ke.sortIndex=ke.expirationTime,e(g,ke);else break;ke=n(_)}}function te(fe){if(ee=!1,F(fe),!Y)if(n(g)!==null)Y=!0,Ft(le);else{var ke=n(_);ke!==null&&Bt(te,ke.startTime-fe)}}function le(fe,ke){Y=!1,ee&&(ee=!1,L(A),A=-1),H=!0;var oe=R;try{for(F(ke),C=n(g);C!==null&&(!(C.expirationTime>ke)||fe&&!U());){var Ye=C.callback;if(typeof Ye=="function"){C.callback=null,R=C.priorityLevel;var Ge=Ye(C.expirationTime<=ke);ke=t.unstable_now(),typeof Ge=="function"?C.callback=Ge:C===n(g)&&r(g),F(ke)}else r(g);C=n(g)}if(C!==null)var st=!0;else{var Tn=n(_);Tn!==null&&Bt(te,Tn.startTime-ke),st=!1}return st}finally{C=null,R=oe,H=!1}}var ce=!1,D=null,A=-1,P=5,z=-1;function U(){return!(t.unstable_now()-z<P)}function q(){if(D!==null){var fe=t.unstable_now();z=fe;var ke=!0;try{ke=D(!0,fe)}finally{ke?O():(ce=!1,D=null)}}else ce=!1}var O;if(typeof M=="function")O=function(){M(q)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Dn=Wt.port2;Wt.port1.onmessage=q,O=function(){Dn.postMessage(null)}}else O=function(){W(q,0)};function Ft(fe){D=fe,ce||(ce=!0,O())}function Bt(fe,ke){A=W(function(){fe(t.unstable_now())},ke)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){Y||H||(Y=!0,Ft(le))},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return n(g)},t.unstable_next=function(fe){switch(R){case 1:case 2:case 3:var ke=3;break;default:ke=R}var oe=R;R=ke;try{return fe()}finally{R=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,ke){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var oe=R;R=fe;try{return ke()}finally{R=oe}},t.unstable_scheduleCallback=function(fe,ke,oe){var Ye=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ye+oe:Ye):oe=Ye,fe){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=oe+Ge,fe={id:E++,callback:ke,priorityLevel:fe,startTime:oe,expirationTime:Ge,sortIndex:-1},oe>Ye?(fe.sortIndex=oe,e(_,fe),n(g)===null&&fe===n(_)&&(ee?(L(A),A=-1):ee=!0,Bt(te,oe-Ye))):(fe.sortIndex=Ge,e(g,fe),Y||H||(Y=!0,Ft(le))),fe},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(fe){var ke=R;return function(){var oe=R;R=ke;try{return fe.apply(this,arguments)}finally{R=oe}}}})(f4);d4.exports=f4;var U3=d4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=Le,qn=U3;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m4=new Set,Ha={};function Ri(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ha[t]=e,t=0;t<e.length;t++)m4.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,H3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},U1={};function $3(t){return rh.call(U1,t)?!0:rh.call(j1,t)?!1:H3.test(t)?U1[t]=!0:(j1[t]=!0,!1)}function W3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G3(t,e,n,r){if(e===null||typeof e>"u"||W3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,s,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _d=/[\-:]([a-z])/g;function xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_d,xd);nn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_d,xd);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_d,xd);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G3(e,n,s,r)&&(n=null),r||s===null?$3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),g4=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),ih=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),y4=Symbol.for("react.offscreen"),q1=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=q1&&t[q1]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,yc;function Sa(t){if(yc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yc=e&&e[1]||""}return`
`+yc+t}var vc=!1;function wc(t,e){if(!t||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var r=_}Reflect.construct(t,[],e)}else{try{e.call()}catch(_){r=_}t.call(e.prototype)}else{try{throw Error()}catch(_){r=_}t()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),o=r.stack.split(`
`),c=s.length-1,d=o.length-1;1<=c&&0<=d&&s[c]!==o[d];)d--;for(;1<=c&&0<=d;c--,d--)if(s[c]!==o[d]){if(c!==1||d!==1)do if(c--,d--,0>d||s[c]!==o[d]){var g=`
`+s[c].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=c&&0<=d);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sa(t):""}function K3(t){switch(t.tag){case 5:return Sa(t.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return t=wc(t.type,!1),t;case 11:return t=wc(t.type.render,!1),t;case 1:return t=wc(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case sh:return"Profiler";case Sd:return"StrictMode";case ih:return"Suspense";case oh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g4:return(t.displayName||"Context")+".Consumer";case p4:return(t._context.displayName||"Context")+".Provider";case Td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ed:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function Q3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y3(t){var e=v4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kl(t){t._valueTracker||(t._valueTracker=Y3(t))}function w4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function R0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function H1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _4(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function uh(t,e){_4(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&ch(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ch(t,e,n){(e!=="number"||R0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ta=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Ta(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function x4(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function G1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,S4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X3=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){X3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function T4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function E4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=T4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var J3=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(J3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gh=null,go=null,yo=null;function K1(t){if(t=wl(t)){if(typeof gh!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=vu(e),gh(t.stateNode,t.type,e))}}function k4(t){go?yo?yo.push(t):yo=[t]:go=t}function A4(){if(go){var t=go,e=yo;if(yo=go=null,K1(t),e)for(t=0;t<e.length;t++)K1(e[t])}}function I4(t,e){return t(e)}function C4(){}var _c=!1;function R4(t,e,n){if(_c)return t(e,n);_c=!0;try{return I4(t,e,n)}finally{_c=!1,(go!==null||yo!==null)&&(C4(),A4())}}function Wa(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var yh=!1;if(Jr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){yh=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{yh=!1}function Z3(t,e,n,r,s,o,c,d,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(n,_)}catch(E){this.onError(E)}}var Pa=!1,N0=null,P0=!1,vh=null,e6={onError:function(t){Pa=!0,N0=t}};function t6(t,e,n,r,s,o,c,d,g){Pa=!1,N0=null,Z3.apply(e6,arguments)}function n6(t,e,n,r,s,o,c,d,g){if(t6.apply(this,arguments),Pa){if(Pa){var _=N0;Pa=!1,N0=null}else throw Error(ue(198));P0||(P0=!0,vh=_)}}function Ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q1(t){if(Ni(t)!==t)throw Error(ue(188))}function r6(t){var e=t.alternate;if(!e){if(e=Ni(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Q1(s),t;if(o===r)return Q1(s),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,d=s.child;d;){if(d===n){c=!0,n=s,r=o;break}if(d===r){c=!0,r=s,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,r=s;break}if(d===r){c=!0,r=o,n=s;break}d=d.sibling}if(!c)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function P4(t){return t=r6(t),t!==null?M4(t):null}function M4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M4(t);if(e!==null)return e;t=t.sibling}return null}var D4=qn.unstable_scheduleCallback,Y1=qn.unstable_cancelCallback,s6=qn.unstable_shouldYield,i6=qn.unstable_requestPaint,Ct=qn.unstable_now,o6=qn.unstable_getCurrentPriorityLevel,Ad=qn.unstable_ImmediatePriority,V4=qn.unstable_UserBlockingPriority,M0=qn.unstable_NormalPriority,a6=qn.unstable_LowPriority,z4=qn.unstable_IdlePriority,mu=null,Rr=null;function l6(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(mu,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:h6,u6=Math.log,c6=Math.LN2;function h6(t){return t>>>=0,t===0?32:31-(u6(t)/c6|0)|0}var Yl=64,Xl=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function D0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var d=c&~s;d!==0?r=Ea(d):(o&=c,o!==0&&(r=Ea(o)))}else c=n&~s,c!==0?r=Ea(c):o!==0&&(r=Ea(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),s=1<<n,r|=t[n],e&=~s;return r}function d6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-vr(o),d=1<<c,g=s[c];g===-1?(!(d&n)||d&r)&&(s[c]=d6(d,e)):g<=e&&(t.expiredLanes|=d),o&=~d}}function wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O4(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function xc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function m6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Id(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function L4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F4,Cd,B4,j4,U4,_h=!1,Jl=[],Rs=null,Ns=null,Ps=null,Ga=new Map,Ka=new Map,Ts=[],p6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X1(t,e){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function ga(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=wl(e),e!==null&&Cd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function g6(t,e,n,r,s){switch(e){case"focusin":return Rs=ga(Rs,t,e,n,r,s),!0;case"dragenter":return Ns=ga(Ns,t,e,n,r,s),!0;case"mouseover":return Ps=ga(Ps,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ga.set(o,ga(Ga.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ka.set(o,ga(Ka.get(o)||null,t,e,n,r,s)),!0}return!1}function q4(t){var e=fi(t.target);if(e!==null){var n=Ni(e);if(n!==null){if(e=n.tag,e===13){if(e=N4(n),e!==null){t.blockedOn=e,U4(t.priority,function(){B4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function p0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ph=r,n.target.dispatchEvent(r),ph=null}else return e=wl(n),e!==null&&Cd(e),t.blockedOn=n,!1;e.shift()}return!0}function J1(t,e,n){p0(t)&&n.delete(e)}function y6(){_h=!1,Rs!==null&&p0(Rs)&&(Rs=null),Ns!==null&&p0(Ns)&&(Ns=null),Ps!==null&&p0(Ps)&&(Ps=null),Ga.forEach(J1),Ka.forEach(J1)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,_h||(_h=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,y6)))}function Qa(t){function e(s){return ya(s,t)}if(0<Jl.length){ya(Jl[0],t);for(var n=1;n<Jl.length;n++){var r=Jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rs!==null&&ya(Rs,t),Ns!==null&&ya(Ns,t),Ps!==null&&ya(Ps,t),Ga.forEach(e),Ka.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)q4(n),n.blockedOn===null&&Ts.shift()}var vo=is.ReactCurrentBatchConfig,V0=!0;function v6(t,e,n,r){var s=nt,o=vo.transition;vo.transition=null;try{nt=1,Rd(t,e,n,r)}finally{nt=s,vo.transition=o}}function w6(t,e,n,r){var s=nt,o=vo.transition;vo.transition=null;try{nt=4,Rd(t,e,n,r)}finally{nt=s,vo.transition=o}}function Rd(t,e,n,r){if(V0){var s=xh(t,e,n,r);if(s===null)Nc(t,e,r,z0,n),X1(t,r);else if(g6(s,t,e,n,r))r.stopPropagation();else if(X1(t,r),e&4&&-1<p6.indexOf(t)){for(;s!==null;){var o=wl(s);if(o!==null&&F4(o),o=xh(t,e,n,r),o===null&&Nc(t,e,r,z0,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Nc(t,e,r,null,n)}}var z0=null;function xh(t,e,n,r){if(z0=null,t=kd(r),t=fi(t),t!==null)if(e=Ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return z0=t,null}function H4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o6()){case Ad:return 1;case V4:return 4;case M0:case a6:return 16;case z4:return 536870912;default:return 16}default:return 16}}var As=null,Nd=null,g0=null;function $4(){if(g0)return g0;var t,e=Nd,n=e.length,r,s="value"in As?As.value:As.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===s[o-r];r++);return g0=s.slice(t,1<r?1-r:void 0)}function y0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function Z1(){return!1}function $n(t){function e(n,r,s,o,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zl:Z1,this.isPropagationStopped=Z1,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=$n(Fo),vl=bt({},Fo,{view:0,detail:0}),_6=$n(vl),bc,Sc,va,pu=bt({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(bc=t.screenX-va.screenX,Sc=t.screenY-va.screenY):Sc=bc=0,va=t),bc)},movementY:function(t){return"movementY"in t?t.movementY:Sc}}),em=$n(pu),x6=bt({},pu,{dataTransfer:0}),b6=$n(x6),S6=bt({},vl,{relatedTarget:0}),Tc=$n(S6),T6=bt({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),E6=$n(T6),k6=bt({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A6=$n(k6),I6=bt({},Fo,{data:0}),tm=$n(I6),C6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N6[t])?!!e[t]:!1}function Md(){return P6}var M6=bt({},vl,{key:function(t){if(t.key){var e=C6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=y0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(t){return t.type==="keypress"?y0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?y0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D6=$n(M6),V6=bt({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=$n(V6),z6=bt({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),O6=$n(z6),L6=bt({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=$n(L6),B6=bt({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j6=$n(B6),U6=[9,13,27,32],Dd=Jr&&"CompositionEvent"in window,Ma=null;Jr&&"documentMode"in document&&(Ma=document.documentMode);var q6=Jr&&"TextEvent"in window&&!Ma,W4=Jr&&(!Dd||Ma&&8<Ma&&11>=Ma),rm=" ",sm=!1;function G4(t,e){switch(t){case"keyup":return U6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function H6(t,e){switch(t){case"compositionend":return K4(e);case"keypress":return e.which!==32?null:(sm=!0,rm);case"textInput":return t=e.data,t===rm&&sm?null:t;default:return null}}function $6(t,e){if(so)return t==="compositionend"||!Dd&&G4(t,e)?(t=$4(),g0=Nd=As=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W4&&e.locale!=="ko"?null:e.data;default:return null}}var W6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W6[t.type]:e==="textarea"}function Q4(t,e,n,r){k4(r),e=O0(e,"onChange"),0<e.length&&(n=new Pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,Ya=null;function G6(t){o2(t,0)}function gu(t){var e=ao(t);if(w4(e))return t}function K6(t,e){if(t==="change")return e}var Y4=!1;if(Jr){var Ec;if(Jr){var kc="oninput"in document;if(!kc){var om=document.createElement("div");om.setAttribute("oninput","return;"),kc=typeof om.oninput=="function"}Ec=kc}else Ec=!1;Y4=Ec&&(!document.documentMode||9<document.documentMode)}function am(){Da&&(Da.detachEvent("onpropertychange",X4),Ya=Da=null)}function X4(t){if(t.propertyName==="value"&&gu(Ya)){var e=[];Q4(e,Ya,t,kd(t)),R4(G6,e)}}function Q6(t,e,n){t==="focusin"?(am(),Da=e,Ya=n,Da.attachEvent("onpropertychange",X4)):t==="focusout"&&am()}function Y6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(Ya)}function X6(t,e){if(t==="click")return gu(e)}function J6(t,e){if(t==="input"||t==="change")return gu(e)}function Z6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:Z6;function Xa(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rh.call(e,s)||!_r(t[s],e[s]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,e){var n=lm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lm(n)}}function J4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z4(){for(var t=window,e=R0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=R0(t.document)}return e}function Vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e7(t){var e=Z4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J4(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=um(n,o);var c=um(n,r);s&&c&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t7=Jr&&"documentMode"in document&&11>=document.documentMode,io=null,bh=null,Va=null,Sh=!1;function cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sh||io==null||io!==R0(r)||(r=io,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&Xa(Va,r)||(Va=r,r=O0(bh,"onSelect"),0<r.length&&(e=new Pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=io)))}function e0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:e0("Animation","AnimationEnd"),animationiteration:e0("Animation","AnimationIteration"),animationstart:e0("Animation","AnimationStart"),transitionend:e0("Transition","TransitionEnd")},Ac={},e2={};Jr&&(e2=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function yu(t){if(Ac[t])return Ac[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e2)return Ac[t]=e[n];return t}var t2=yu("animationend"),n2=yu("animationiteration"),r2=yu("animationstart"),s2=yu("transitionend"),i2=new Map,hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){i2.set(t,e),Ri(e,[t])}for(var Ic=0;Ic<hm.length;Ic++){var Cc=hm[Ic],n7=Cc.toLowerCase(),r7=Cc[0].toUpperCase()+Cc.slice(1);Ws(n7,"on"+r7)}Ws(t2,"onAnimationEnd");Ws(n2,"onAnimationIteration");Ws(r2,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(s2,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s7=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function dm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n6(r,e,void 0,t),t.currentTarget=null}function o2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var d=r[c],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==o&&s.isPropagationStopped())break e;dm(s,d,_),o=g}else for(c=0;c<r.length;c++){if(d=r[c],g=d.instance,_=d.currentTarget,d=d.listener,g!==o&&s.isPropagationStopped())break e;dm(s,d,_),o=g}}}if(P0)throw t=vh,P0=!1,vh=null,t}function ht(t,e){var n=e[Ih];n===void 0&&(n=e[Ih]=new Set);var r=t+"__bubble";n.has(r)||(a2(e,t,2,!1),n.add(r))}function Rc(t,e,n){var r=0;e&&(r|=4),a2(n,t,r,e)}var t0="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[t0]){t[t0]=!0,m4.forEach(function(n){n!=="selectionchange"&&(s7.has(n)||Rc(n,!1,t),Rc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[t0]||(e[t0]=!0,Rc("selectionchange",!1,e))}}function a2(t,e,n,r){switch(H4(e)){case 1:var s=v6;break;case 4:s=w6;break;default:s=Rd}n=s.bind(null,e,n,t),s=void 0,!yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nc(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;c=c.return}for(;d!==null;){if(c=fi(d),c===null)return;if(g=c.tag,g===5||g===6){r=o=c;continue e}d=d.parentNode}}r=r.return}R4(function(){var _=o,E=kd(n),C=[];e:{var R=i2.get(t);if(R!==void 0){var H=Pd,Y=t;switch(t){case"keypress":if(y0(n)===0)break e;case"keydown":case"keyup":H=D6;break;case"focusin":Y="focus",H=Tc;break;case"focusout":Y="blur",H=Tc;break;case"beforeblur":case"afterblur":H=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=b6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=O6;break;case t2:case n2:case r2:H=E6;break;case s2:H=F6;break;case"scroll":H=_6;break;case"wheel":H=j6;break;case"copy":case"cut":case"paste":H=A6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nm}var ee=(e&4)!==0,W=!ee&&t==="scroll",L=ee?R!==null?R+"Capture":null:R;ee=[];for(var M=_,F;M!==null;){F=M;var te=F.stateNode;if(F.tag===5&&te!==null&&(F=te,L!==null&&(te=Wa(M,L),te!=null&&ee.push(Za(M,te,F)))),W)break;M=M.return}0<ee.length&&(R=new H(R,Y,null,n,E),C.push({event:R,listeners:ee}))}}if(!(e&7)){e:{if(R=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",R&&n!==ph&&(Y=n.relatedTarget||n.fromElement)&&(fi(Y)||Y[Zr]))break e;if((H||R)&&(R=E.window===E?E:(R=E.ownerDocument)?R.defaultView||R.parentWindow:window,H?(Y=n.relatedTarget||n.toElement,H=_,Y=Y?fi(Y):null,Y!==null&&(W=Ni(Y),Y!==W||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(H=null,Y=_),H!==Y)){if(ee=em,te="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ee=nm,te="onPointerLeave",L="onPointerEnter",M="pointer"),W=H==null?R:ao(H),F=Y==null?R:ao(Y),R=new ee(te,M+"leave",H,n,E),R.target=W,R.relatedTarget=F,te=null,fi(E)===_&&(ee=new ee(L,M+"enter",Y,n,E),ee.target=F,ee.relatedTarget=W,te=ee),W=te,H&&Y)t:{for(ee=H,L=Y,M=0,F=ee;F;F=Ji(F))M++;for(F=0,te=L;te;te=Ji(te))F++;for(;0<M-F;)ee=Ji(ee),M--;for(;0<F-M;)L=Ji(L),F--;for(;M--;){if(ee===L||L!==null&&ee===L.alternate)break t;ee=Ji(ee),L=Ji(L)}ee=null}else ee=null;H!==null&&fm(C,R,H,ee,!1),Y!==null&&W!==null&&fm(C,W,Y,ee,!0)}}e:{if(R=_?ao(_):window,H=R.nodeName&&R.nodeName.toLowerCase(),H==="select"||H==="input"&&R.type==="file")var le=K6;else if(im(R))if(Y4)le=J6;else{le=Y6;var ce=Q6}else(H=R.nodeName)&&H.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(le=X6);if(le&&(le=le(t,_))){Q4(C,le,n,E);break e}ce&&ce(t,R,_),t==="focusout"&&(ce=R._wrapperState)&&ce.controlled&&R.type==="number"&&ch(R,"number",R.value)}switch(ce=_?ao(_):window,t){case"focusin":(im(ce)||ce.contentEditable==="true")&&(io=ce,bh=_,Va=null);break;case"focusout":Va=bh=io=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,cm(C,n,E);break;case"selectionchange":if(t7)break;case"keydown":case"keyup":cm(C,n,E)}var D;if(Dd)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else so?G4(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(W4&&n.locale!=="ko"&&(so||A!=="onCompositionStart"?A==="onCompositionEnd"&&so&&(D=$4()):(As=E,Nd="value"in As?As.value:As.textContent,so=!0)),ce=O0(_,A),0<ce.length&&(A=new tm(A,t,null,n,E),C.push({event:A,listeners:ce}),D?A.data=D:(D=K4(n),D!==null&&(A.data=D)))),(D=q6?H6(t,n):$6(t,n))&&(_=O0(_,"onBeforeInput"),0<_.length&&(E=new tm("onBeforeInput","beforeinput",null,n,E),C.push({event:E,listeners:_}),E.data=D))}o2(C,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function O0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Wa(t,n),o!=null&&r.unshift(Za(t,o,s)),o=Wa(t,e),o!=null&&r.push(Za(t,o,s))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,n,r,s){for(var o=e._reactName,c=[];n!==null&&n!==r;){var d=n,g=d.alternate,_=d.stateNode;if(g!==null&&g===r)break;d.tag===5&&_!==null&&(d=_,s?(g=Wa(n,o),g!=null&&c.unshift(Za(n,g,d))):s||(g=Wa(n,o),g!=null&&c.push(Za(n,g,d)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var i7=/\r\n?/g,o7=/\u0000|\uFFFD/g;function mm(t){return(typeof t=="string"?t:""+t).replace(i7,`
`).replace(o7,"")}function n0(t,e,n){if(e=mm(e),mm(t)!==e&&n)throw Error(ue(425))}function L0(){}var Th=null,Eh=null;function kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,a7=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,l7=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(u7)}:Ah;function u7(t){setTimeout(function(){throw t})}function Pc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qa(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Bo,el="__reactProps$"+Bo,Zr="__reactContainer$"+Bo,Ih="__reactEvents$"+Bo,c7="__reactListeners$"+Bo,h7="__reactHandles$"+Bo;function fi(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gm(t);t!==null;){if(n=t[Cr])return n;t=gm(t)}return e}t=n,n=t.parentNode}return null}function wl(t){return t=t[Cr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function vu(t){return t[el]||null}var Ch=[],lo=-1;function Gs(t){return{current:t}}function dt(t){0>lo||(t.current=Ch[lo],Ch[lo]=null,lo--)}function lt(t,e){lo++,Ch[lo]=t.current,t.current=e}var Us={},gn=Gs(Us),Nn=Gs(!1),bi=Us;function To(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pn(t){return t=t.childContextTypes,t!=null}function F0(){dt(Nn),dt(gn)}function ym(t,e,n){if(gn.current!==Us)throw Error(ue(168));lt(gn,e),lt(Nn,n)}function l2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ue(108,Q3(t)||"Unknown",s));return bt({},n,r)}function B0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,bi=gn.current,lt(gn,t),lt(Nn,Nn.current),!0}function vm(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=l2(t,e,bi),r.__reactInternalMemoizedMergedChildContext=t,dt(Nn),dt(gn),lt(gn,t)):dt(Nn),lt(Nn,n)}var Kr=null,wu=!1,Mc=!1;function u2(t){Kr===null?Kr=[t]:Kr.push(t)}function d7(t){wu=!0,u2(t)}function Ks(){if(!Mc&&Kr!==null){Mc=!0;var t=0,e=nt;try{var n=Kr;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,wu=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),D4(Ad,Ks),s}finally{nt=e,Mc=!1}}return null}var uo=[],co=0,j0=null,U0=0,Zn=[],er=0,Si=null,Qr=1,Yr="";function ci(t,e){uo[co++]=U0,uo[co++]=j0,j0=t,U0=e}function c2(t,e,n){Zn[er++]=Qr,Zn[er++]=Yr,Zn[er++]=Si,Si=t;var r=Qr;t=Yr;var s=32-vr(r)-1;r&=~(1<<s),n+=1;var o=32-vr(e)+s;if(30<o){var c=s-s%5;o=(r&(1<<c)-1).toString(32),r>>=c,s-=c,Qr=1<<32-vr(e)+s|n<<s|r,Yr=o+t}else Qr=1<<o|n<<s|r,Yr=t}function zd(t){t.return!==null&&(ci(t,1),c2(t,1,0))}function Od(t){for(;t===j0;)j0=uo[--co],uo[co]=null,U0=uo[--co],uo[co]=null;for(;t===Si;)Si=Zn[--er],Zn[er]=null,Yr=Zn[--er],Zn[er]=null,Qr=Zn[--er],Zn[er]=null}var jn=null,Bn=null,pt=!1,gr=null;function h2(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Bn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:Qr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Bn=null,!0):!1;default:return!1}}function Rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nh(t){if(pt){var e=Bn;if(e){var n=e;if(!wm(t,e)){if(Rh(t))throw Error(ue(418));e=Ms(n.nextSibling);var r=jn;e&&wm(t,e)?h2(r,n):(t.flags=t.flags&-4097|2,pt=!1,jn=t)}}else{if(Rh(t))throw Error(ue(418));t.flags=t.flags&-4097|2,pt=!1,jn=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function r0(t){if(t!==jn)return!1;if(!pt)return _m(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kh(t.type,t.memoizedProps)),e&&(e=Bn)){if(Rh(t))throw d2(),Error(ue(418));for(;e;)h2(t,e),e=Ms(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=jn?Ms(t.stateNode.nextSibling):null;return!0}function d2(){for(var t=Bn;t;)t=Ms(t.nextSibling)}function Eo(){Bn=jn=null,pt=!1}function Ld(t){gr===null?gr=[t]:gr.push(t)}var f7=is.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var d=s.refs;c===null?delete d[o]:d[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function s0(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xm(t){var e=t._init;return e(t._payload)}function f2(t){function e(L,M){if(t){var F=L.deletions;F===null?(L.deletions=[M],L.flags|=16):F.push(M)}}function n(L,M){if(!t)return null;for(;M!==null;)e(L,M),M=M.sibling;return null}function r(L,M){for(L=new Map;M!==null;)M.key!==null?L.set(M.key,M):L.set(M.index,M),M=M.sibling;return L}function s(L,M){return L=Os(L,M),L.index=0,L.sibling=null,L}function o(L,M,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<M?(L.flags|=2,M):F):(L.flags|=2,M)):(L.flags|=1048576,M)}function c(L){return t&&L.alternate===null&&(L.flags|=2),L}function d(L,M,F,te){return M===null||M.tag!==6?(M=Bc(F,L.mode,te),M.return=L,M):(M=s(M,F),M.return=L,M)}function g(L,M,F,te){var le=F.type;return le===ro?E(L,M,F.props.children,te,F.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===bs&&xm(le)===M.type)?(te=s(M,F.props),te.ref=wa(L,M,F),te.return=L,te):(te=T0(F.type,F.key,F.props,null,L.mode,te),te.ref=wa(L,M,F),te.return=L,te)}function _(L,M,F,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=jc(F,L.mode,te),M.return=L,M):(M=s(M,F.children||[]),M.return=L,M)}function E(L,M,F,te,le){return M===null||M.tag!==7?(M=vi(F,L.mode,te,le),M.return=L,M):(M=s(M,F),M.return=L,M)}function C(L,M,F){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Bc(""+M,L.mode,F),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Gl:return F=T0(M.type,M.key,M.props,null,L.mode,F),F.ref=wa(L,null,M),F.return=L,F;case no:return M=jc(M,L.mode,F),M.return=L,M;case bs:var te=M._init;return C(L,te(M._payload),F)}if(Ta(M)||ma(M))return M=vi(M,L.mode,F,null),M.return=L,M;s0(L,M)}return null}function R(L,M,F,te){var le=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return le!==null?null:d(L,M,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Gl:return F.key===le?g(L,M,F,te):null;case no:return F.key===le?_(L,M,F,te):null;case bs:return le=F._init,R(L,M,le(F._payload),te)}if(Ta(F)||ma(F))return le!==null?null:E(L,M,F,te,null);s0(L,F)}return null}function H(L,M,F,te,le){if(typeof te=="string"&&te!==""||typeof te=="number")return L=L.get(F)||null,d(M,L,""+te,le);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Gl:return L=L.get(te.key===null?F:te.key)||null,g(M,L,te,le);case no:return L=L.get(te.key===null?F:te.key)||null,_(M,L,te,le);case bs:var ce=te._init;return H(L,M,F,ce(te._payload),le)}if(Ta(te)||ma(te))return L=L.get(F)||null,E(M,L,te,le,null);s0(M,te)}return null}function Y(L,M,F,te){for(var le=null,ce=null,D=M,A=M=0,P=null;D!==null&&A<F.length;A++){D.index>A?(P=D,D=null):P=D.sibling;var z=R(L,D,F[A],te);if(z===null){D===null&&(D=P);break}t&&D&&z.alternate===null&&e(L,D),M=o(z,M,A),ce===null?le=z:ce.sibling=z,ce=z,D=P}if(A===F.length)return n(L,D),pt&&ci(L,A),le;if(D===null){for(;A<F.length;A++)D=C(L,F[A],te),D!==null&&(M=o(D,M,A),ce===null?le=D:ce.sibling=D,ce=D);return pt&&ci(L,A),le}for(D=r(L,D);A<F.length;A++)P=H(D,L,A,F[A],te),P!==null&&(t&&P.alternate!==null&&D.delete(P.key===null?A:P.key),M=o(P,M,A),ce===null?le=P:ce.sibling=P,ce=P);return t&&D.forEach(function(U){return e(L,U)}),pt&&ci(L,A),le}function ee(L,M,F,te){var le=ma(F);if(typeof le!="function")throw Error(ue(150));if(F=le.call(F),F==null)throw Error(ue(151));for(var ce=le=null,D=M,A=M=0,P=null,z=F.next();D!==null&&!z.done;A++,z=F.next()){D.index>A?(P=D,D=null):P=D.sibling;var U=R(L,D,z.value,te);if(U===null){D===null&&(D=P);break}t&&D&&U.alternate===null&&e(L,D),M=o(U,M,A),ce===null?le=U:ce.sibling=U,ce=U,D=P}if(z.done)return n(L,D),pt&&ci(L,A),le;if(D===null){for(;!z.done;A++,z=F.next())z=C(L,z.value,te),z!==null&&(M=o(z,M,A),ce===null?le=z:ce.sibling=z,ce=z);return pt&&ci(L,A),le}for(D=r(L,D);!z.done;A++,z=F.next())z=H(D,L,A,z.value,te),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?A:z.key),M=o(z,M,A),ce===null?le=z:ce.sibling=z,ce=z);return t&&D.forEach(function(q){return e(L,q)}),pt&&ci(L,A),le}function W(L,M,F,te){if(typeof F=="object"&&F!==null&&F.type===ro&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Gl:e:{for(var le=F.key,ce=M;ce!==null;){if(ce.key===le){if(le=F.type,le===ro){if(ce.tag===7){n(L,ce.sibling),M=s(ce,F.props.children),M.return=L,L=M;break e}}else if(ce.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===bs&&xm(le)===ce.type){n(L,ce.sibling),M=s(ce,F.props),M.ref=wa(L,ce,F),M.return=L,L=M;break e}n(L,ce);break}else e(L,ce);ce=ce.sibling}F.type===ro?(M=vi(F.props.children,L.mode,te,F.key),M.return=L,L=M):(te=T0(F.type,F.key,F.props,null,L.mode,te),te.ref=wa(L,M,F),te.return=L,L=te)}return c(L);case no:e:{for(ce=F.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){n(L,M.sibling),M=s(M,F.children||[]),M.return=L,L=M;break e}else{n(L,M);break}else e(L,M);M=M.sibling}M=jc(F,L.mode,te),M.return=L,L=M}return c(L);case bs:return ce=F._init,W(L,M,ce(F._payload),te)}if(Ta(F))return Y(L,M,F,te);if(ma(F))return ee(L,M,F,te);s0(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,M!==null&&M.tag===6?(n(L,M.sibling),M=s(M,F),M.return=L,L=M):(n(L,M),M=Bc(F,L.mode,te),M.return=L,L=M),c(L)):n(L,M)}return W}var ko=f2(!0),m2=f2(!1),q0=Gs(null),H0=null,ho=null,Fd=null;function Bd(){Fd=ho=H0=null}function jd(t){var e=q0.current;dt(q0),t._currentValue=e}function Ph(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){H0=t,Fd=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(Fd!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(H0===null)throw Error(ue(308));ho=t,H0.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var mi=null;function Ud(t){mi===null?mi=[t]:mi.push(t)}function p2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ud(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Ud(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function v0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}function bm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $0(t,e,n,r){var s=t.updateQueue;Ss=!1;var o=s.firstBaseUpdate,c=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var g=d,_=g.next;g.next=null,c===null?o=_:c.next=_,c=g;var E=t.alternate;E!==null&&(E=E.updateQueue,d=E.lastBaseUpdate,d!==c&&(d===null?E.firstBaseUpdate=_:d.next=_,E.lastBaseUpdate=g))}if(o!==null){var C=s.baseState;c=0,E=_=g=null,d=o;do{var R=d.lane,H=d.eventTime;if((r&R)===R){E!==null&&(E=E.next={eventTime:H,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var Y=t,ee=d;switch(R=e,H=n,ee.tag){case 1:if(Y=ee.payload,typeof Y=="function"){C=Y.call(H,C,R);break e}C=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ee.payload,R=typeof Y=="function"?Y.call(H,C,R):Y,R==null)break e;C=bt({},C,R);break e;case 2:Ss=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,R=s.effects,R===null?s.effects=[d]:R.push(d))}else H={eventTime:H,lane:R,tag:d.tag,payload:d.payload,callback:d.callback,next:null},E===null?(_=E=H,g=C):E=E.next=H,c|=R;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;R=d,d=R.next,R.next=null,s.lastBaseUpdate=R,s.shared.pending=null}}while(!0);if(E===null&&(g=C),s.baseState=g,s.firstBaseUpdate=_,s.lastBaseUpdate=E,e=s.shared.interleaved,e!==null){s=e;do c|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ei|=c,t.lanes=c,t.memoizedState=C}}function Sm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ue(191,s));s.call(r)}}}var _l={},Nr=Gs(_l),tl=Gs(_l),nl=Gs(_l);function pi(t){if(t===_l)throw Error(ue(174));return t}function Hd(t,e){switch(lt(nl,e),lt(tl,t),lt(Nr,_l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dh(e,t)}dt(Nr),lt(Nr,e)}function Ao(){dt(Nr),dt(tl),dt(nl)}function y2(t){pi(nl.current);var e=pi(Nr.current),n=dh(e,t.type);e!==n&&(lt(tl,t),lt(Nr,n))}function $d(t){tl.current===t&&(dt(Nr),dt(tl))}var _t=Gs(0);function W0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dc=[];function Wd(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var w0=is.ReactCurrentDispatcher,Vc=is.ReactCurrentBatchConfig,Ti=0,xt=null,Vt=null,Ht=null,G0=!1,za=!1,rl=0,m7=0;function cn(){throw Error(ue(321))}function Gd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function Kd(t,e,n,r,s,o){if(Ti=o,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w0.current=t===null||t.memoizedState===null?v7:w7,t=n(r,s),za){o=0;do{if(za=!1,rl=0,25<=o)throw Error(ue(301));o+=1,Ht=Vt=null,e.updateQueue=null,w0.current=_7,t=n(r,s)}while(za)}if(w0.current=K0,e=Vt!==null&&Vt.next!==null,Ti=0,Ht=Vt=xt=null,G0=!1,e)throw Error(ue(300));return t}function Qd(){var t=rl!==0;return rl=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?xt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function ir(){if(Vt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Ht===null?xt.memoizedState:Ht.next;if(e!==null)Ht=e,Vt=t;else{if(t===null)throw Error(ue(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ht===null?xt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function sl(t,e){return typeof e=="function"?e(t):e}function zc(t){var e=ir(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Vt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var c=s.next;s.next=o.next,o.next=c}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var d=c=null,g=null,_=o;do{var E=_.lane;if((Ti&E)===E)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:t(r,_.action);else{var C={lane:E,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(d=g=C,c=r):g=g.next=C,xt.lanes|=E,Ei|=E}_=_.next}while(_!==null&&_!==o);g===null?c=r:g.next=d,_r(r,e.memoizedState)||(Rn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=g,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,xt.lanes|=o,Ei|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oc(t){var e=ir(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do o=t(o,c.action),c=c.next;while(c!==s);_r(o,e.memoizedState)||(Rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function v2(){}function w2(t,e){var n=xt,r=ir(),s=e(),o=!_r(r.memoizedState,s);if(o&&(r.memoizedState=s,Rn=!0),r=r.queue,Yd(b2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,il(9,x2.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(ue(349));Ti&30||_2(n,e,s)}return s}function _2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x2(t,e,n,r){e.value=n,e.getSnapshot=r,S2(e)&&T2(t)}function b2(t,e,n){return n(function(){S2(e)&&T2(t)})}function S2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function T2(t){var e=es(t,1);e!==null&&wr(e,t,1,-1)}function Tm(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=y7.bind(null,xt,t),[e.memoizedState,t]}function il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E2(){return ir().memoizedState}function _0(t,e,n,r){var s=Ir();xt.flags|=t,s.memoizedState=il(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var s=ir();r=r===void 0?null:r;var o=void 0;if(Vt!==null){var c=Vt.memoizedState;if(o=c.destroy,r!==null&&Gd(r,c.deps)){s.memoizedState=il(e,n,o,r);return}}xt.flags|=t,s.memoizedState=il(1|e,n,o,r)}function Em(t,e){return _0(8390656,8,t,e)}function Yd(t,e){return _u(2048,8,t,e)}function k2(t,e){return _u(4,2,t,e)}function A2(t,e){return _u(4,4,t,e)}function I2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C2(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,I2.bind(null,e,t),n)}function Xd(){}function R2(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N2(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P2(t,e,n){return Ti&21?(_r(n,e)||(n=O4(),xt.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function p7(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Vc.transition;Vc.transition={};try{t(!1),e()}finally{nt=n,Vc.transition=r}}function M2(){return ir().memoizedState}function g7(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D2(t))V2(e,n);else if(n=p2(t,e,n,r),n!==null){var s=xn();wr(n,t,r,s),z2(n,e,r)}}function y7(t,e,n){var r=zs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D2(t))V2(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,d=o(c,n);if(s.hasEagerState=!0,s.eagerState=d,_r(d,c)){var g=e.interleaved;g===null?(s.next=s,Ud(e)):(s.next=g.next,g.next=s),e.interleaved=s;return}}catch{}finally{}n=p2(t,e,s,r),n!==null&&(s=xn(),wr(n,t,r,s),z2(n,e,r))}}function D2(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function V2(t,e){za=G0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}var K0={readContext:sr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},v7={readContext:sr,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:Em,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_0(4194308,4,I2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _0(4194308,4,t,e)},useInsertionEffect:function(t,e){return _0(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g7.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:Tm,useDebugValue:Xd,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=Tm(!1),e=t[0];return t=p7.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,s=Ir();if(pt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),$t===null)throw Error(ue(349));Ti&30||_2(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Em(b2.bind(null,r,o,t),[t]),r.flags|=2048,il(9,x2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=$t.identifierPrefix;if(pt){var n=Yr,r=Qr;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w7={readContext:sr,useCallback:R2,useContext:sr,useEffect:Yd,useImperativeHandle:C2,useInsertionEffect:k2,useLayoutEffect:A2,useMemo:N2,useReducer:zc,useRef:E2,useState:function(){return zc(sl)},useDebugValue:Xd,useDeferredValue:function(t){var e=ir();return P2(e,Vt.memoizedState,t)},useTransition:function(){var t=zc(sl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:v2,useSyncExternalStore:w2,useId:M2,unstable_isNewReconciler:!1},_7={readContext:sr,useCallback:R2,useContext:sr,useEffect:Yd,useImperativeHandle:C2,useInsertionEffect:k2,useLayoutEffect:A2,useMemo:N2,useReducer:Oc,useRef:E2,useState:function(){return Oc(sl)},useDebugValue:Xd,useDeferredValue:function(t){var e=ir();return Vt===null?e.memoizedState=t:P2(e,Vt.memoizedState,t)},useTransition:function(){var t=Oc(sl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:v2,useSyncExternalStore:w2,useId:M2,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xu={isMounted:function(t){return(t=t._reactInternals)?Ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),s=zs(t),o=Xr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ds(t,o,s),e!==null&&(wr(e,t,s,r),v0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),s=zs(t),o=Xr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ds(t,o,s),e!==null&&(wr(e,t,s,r),v0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=zs(t),s=Xr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ds(t,s,r),e!==null&&(wr(e,t,r,n),v0(e,t,r))}};function km(t,e,n,r,s,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!Xa(n,r)||!Xa(s,o):!0}function O2(t,e,n){var r=!1,s=Us,o=e.contextType;return typeof o=="object"&&o!==null?o=sr(o):(s=Pn(e)?bi:gn.current,r=e.contextTypes,o=(r=r!=null)?To(t,s):Us),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Am(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xu.enqueueReplaceState(e,e.state,null)}function Dh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qd(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=sr(o):(o=Pn(e)?bi:gn.current,s.context=To(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mh(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xu.enqueueReplaceState(s,s.state,null),$0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=K3(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Lc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x7=typeof WeakMap=="function"?WeakMap:Map;function L2(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Y0||(Y0=!0,$h=r),Vh(t,e)},n}function F2(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vh(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function Im(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x7;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=V7.bind(null,t,e,n),e.then(t,t))}function Cm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var b7=is.ReactCurrentOwner,Rn=!1;function _n(t,e,n,r){e.child=t===null?m2(e,null,n,r):ko(e,t.child,n,r)}function Nm(t,e,n,r,s){n=n.render;var o=e.ref;return wo(e,s),r=Kd(t,e,n,r,o,s),n=Qd(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(pt&&n&&zd(e),e.flags|=1,_n(t,e,r,s),e.child)}function Pm(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!of(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,B2(t,e,o,r,s)):(t=T0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(c,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Os(o,r),t.ref=e.ref,t.return=e,e.child=t}function B2(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Xa(o,r)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return zh(t,e,n,r,s)}function j2(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(mo,Fn),Fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(mo,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,lt(mo,Fn),Fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,lt(mo,Fn),Fn|=r;return _n(t,e,s,n),e.child}function U2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zh(t,e,n,r,s){var o=Pn(n)?bi:gn.current;return o=To(e,o),wo(e,s),n=Kd(t,e,n,r,o,s),r=Qd(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(pt&&r&&zd(e),e.flags|=1,_n(t,e,n,s),e.child)}function Mm(t,e,n,r,s){if(Pn(n)){var o=!0;B0(e)}else o=!1;if(wo(e,s),e.stateNode===null)x0(t,e),O2(e,n,r),Dh(e,n,r,s),r=!0;else if(t===null){var c=e.stateNode,d=e.memoizedProps;c.props=d;var g=c.context,_=n.contextType;typeof _=="object"&&_!==null?_=sr(_):(_=Pn(n)?bi:gn.current,_=To(e,_));var E=n.getDerivedStateFromProps,C=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||g!==_)&&Am(e,c,r,_),Ss=!1;var R=e.memoizedState;c.state=R,$0(e,r,c,s),g=e.memoizedState,d!==r||R!==g||Nn.current||Ss?(typeof E=="function"&&(Mh(e,n,E,r),g=e.memoizedState),(d=Ss||km(e,n,d,r,R,g,_))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),c.props=r,c.state=g,c.context=_,r=d):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,g2(t,e),d=e.memoizedProps,_=e.type===e.elementType?d:mr(e.type,d),c.props=_,C=e.pendingProps,R=c.context,g=n.contextType,typeof g=="object"&&g!==null?g=sr(g):(g=Pn(n)?bi:gn.current,g=To(e,g));var H=n.getDerivedStateFromProps;(E=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==C||R!==g)&&Am(e,c,r,g),Ss=!1,R=e.memoizedState,c.state=R,$0(e,r,c,s);var Y=e.memoizedState;d!==C||R!==Y||Nn.current||Ss?(typeof H=="function"&&(Mh(e,n,H,r),Y=e.memoizedState),(_=Ss||km(e,n,_,r,R,Y,g)||!1)?(E||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,g)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),c.props=r,c.state=Y,c.context=g,r=_):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),r=!1)}return Oh(t,e,n,r,o,s)}function Oh(t,e,n,r,s,o){U2(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return s&&vm(e,n,!1),ts(t,e,o);r=e.stateNode,b7.current=e;var d=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,d,o)):_n(t,e,d,o),e.memoizedState=r.state,s&&vm(e,n,!0),e.child}function q2(t){var e=t.stateNode;e.pendingContext?ym(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ym(t,e.context,!1),Hd(t,e.containerInfo)}function Dm(t,e,n,r,s){return Eo(),Ld(s),e.flags|=256,_n(t,e,n,r),e.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function Fh(t){return{baseLanes:t,cachePool:null,transitions:null}}function H2(t,e,n){var r=e.pendingProps,s=_t.current,o=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(s&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(_t,s&1),t===null)return Nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Tu(c,r,0,null),t=vi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Fh(n),e.memoizedState=Lh,t):Jd(e,c));if(s=t.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return S7(t,e,c,r,d,s,n);if(o){o=r.fallback,c=e.mode,s=t.child,d=s.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=Os(s,g),r.subtreeFlags=s.subtreeFlags&14680064),d!==null?o=Os(d,o):(o=vi(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?Fh(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=Lh,r}return o=t.child,t=o.sibling,r=Os(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jd(t,e){return e=Tu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function i0(t,e,n,r){return r!==null&&Ld(r),ko(e,t.child,null,n),t=Jd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S7(t,e,n,r,s,o,c){if(n)return e.flags&256?(e.flags&=-257,r=Lc(Error(ue(422))),i0(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Tu({mode:"visible",children:r.children},s,0,null),o=vi(o,s,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ko(e,t.child,null,c),e.child.memoizedState=Fh(c),e.memoizedState=Lh,o);if(!(e.mode&1))return i0(t,e,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(ue(419)),r=Lc(o,r,void 0),i0(t,e,c,r)}if(d=(c&t.childLanes)!==0,Rn||d){if(r=$t,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,es(t,s),wr(r,t,s,-1))}return sf(),r=Lc(Error(ue(421))),i0(t,e,c,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z7.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Bn=Ms(s.nextSibling),jn=e,pt=!0,gr=null,t!==null&&(Zn[er++]=Qr,Zn[er++]=Yr,Zn[er++]=Si,Qr=t.id,Yr=t.overflow,Si=e),e=Jd(e,r.children),e.flags|=4096,e)}function Vm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ph(t.return,e,n)}function Fc(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $2(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(_n(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vm(t,n,e);else if(t.tag===19)Vm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&W0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fc(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&W0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fc(e,!0,n,null,o);break;case"together":Fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function x0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T7(t,e,n){switch(e.tag){case 3:q2(e),Eo();break;case 5:y2(e);break;case 1:Pn(e.type)&&B0(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(q0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?H2(t,e,n):(lt(_t,_t.current&1),t=ts(t,e,n),t!==null?t.sibling:null);lt(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,j2(t,e,n)}return ts(t,e,n)}var W2,Bh,G2,K2;W2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};G2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pi(Nr.current);var o=null;switch(n){case"input":s=lh(t,s),r=lh(t,r),o=[];break;case"select":s=bt({},s,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":s=hh(t,s),r=hh(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=L0)}fh(n,r);var c;n=null;for(_ in s)if(!r.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var d=s[_];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Ha.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in r){var g=r[_];if(d=s!=null?s[_]:void 0,r.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style")if(d){for(c in d)!d.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in g)g.hasOwnProperty(c)&&d[c]!==g[c]&&(n||(n={}),n[c]=g[c])}else n||(o||(o=[]),o.push(_,n)),n=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(o=o||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&ht("scroll",t),o||d===g||(o=[])):(o=o||[]).push(_,g))}n&&(o=o||[]).push("style",n);var _=o;(e.updateQueue=_)&&(e.flags|=4)}};K2=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E7(t,e,n){var r=e.pendingProps;switch(Od(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Pn(e.type)&&F0(),hn(e),null;case 3:return r=e.stateNode,Ao(),dt(Nn),dt(gn),Wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(r0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(Kh(gr),gr=null))),Bh(t,e),hn(e),null;case 5:$d(e);var s=pi(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)G2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return hn(e),null}if(t=pi(Nr.current),r0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cr]=e,r[el]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(s=0;s<ka.length;s++)ht(ka[s],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":H1(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":W1(r,o),ht("invalid",r)}fh(n,o),s=null;for(var c in o)if(o.hasOwnProperty(c)){var d=o[c];c==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&n0(r.textContent,d,t),s=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&n0(r.textContent,d,t),s=["children",""+d]):Ha.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&ht("scroll",r)}switch(n){case"input":Kl(r),$1(r,o,!0);break;case"textarea":Kl(r),G1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=L0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Cr]=e,t[el]=r,W2(t,e,!1,!1),e.stateNode=t;e:{switch(c=mh(n,r),n){case"dialog":ht("cancel",t),ht("close",t),s=r;break;case"iframe":case"object":case"embed":ht("load",t),s=r;break;case"video":case"audio":for(s=0;s<ka.length;s++)ht(ka[s],t);s=r;break;case"source":ht("error",t),s=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),s=r;break;case"details":ht("toggle",t),s=r;break;case"input":H1(t,r),s=lh(t,r),ht("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=bt({},r,{value:void 0}),ht("invalid",t);break;case"textarea":W1(t,r),s=hh(t,r),ht("invalid",t);break;default:s=r}fh(n,s),d=s;for(o in d)if(d.hasOwnProperty(o)){var g=d[o];o==="style"?E4(t,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&S4(t,g)):o==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&$a(t,g):typeof g=="number"&&$a(t,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ha.hasOwnProperty(o)?g!=null&&o==="onScroll"&&ht("scroll",t):g!=null&&bd(t,o,g,c))}switch(n){case"input":Kl(t),$1(t,r,!1);break;case"textarea":Kl(t),G1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?po(t,!!r.multiple,o,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=L0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)K2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=pi(nl.current),pi(Nr.current),r0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(o=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:n0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&n0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return hn(e),null;case 13:if(dt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Bn!==null&&e.mode&1&&!(e.flags&128))d2(),Eo(),e.flags|=98560,o=!1;else if(o=r0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[Cr]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),o=!1}else gr!==null&&(Kh(gr),gr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ot===0&&(Ot=3):sf())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Ao(),Bh(t,e),t===null&&Ja(e.stateNode.containerInfo),hn(e),null;case 10:return jd(e.type._context),hn(e),null;case 17:return Pn(e.type)&&F0(),hn(e),null;case 19:if(dt(_t),o=e.memoizedState,o===null)return hn(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)_a(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=W0(t),c!==null){for(e.flags|=128,_a(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(_t,_t.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>Co&&(e.flags|=128,r=!0,_a(o,!1),e.lanes=4194304)}else{if(!r)if(t=W0(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!pt)return hn(e),null}else 2*Ct()-o.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,_a(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=_t.current,lt(_t,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return rf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function k7(t,e){switch(Od(e),e.tag){case 1:return Pn(e.type)&&F0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),dt(Nn),dt(gn),Wd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $d(e),null;case 13:if(dt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(_t),null;case 4:return Ao(),null;case 10:return jd(e.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var o0=!1,mn=!1,A7=typeof WeakSet=="function"?WeakSet:Set,ve=null;function fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function jh(t,e,n){try{n()}catch(r){kt(t,e,r)}}var zm=!1;function I7(t,e){if(Th=V0,t=Z4(),Vd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,d=-1,g=-1,_=0,E=0,C=t,R=null;t:for(;;){for(var H;C!==n||s!==0&&C.nodeType!==3||(d=c+s),C!==o||r!==0&&C.nodeType!==3||(g=c+r),C.nodeType===3&&(c+=C.nodeValue.length),(H=C.firstChild)!==null;)R=C,C=H;for(;;){if(C===t)break t;if(R===n&&++_===s&&(d=c),R===o&&++E===r&&(g=c),(H=C.nextSibling)!==null)break;C=R,R=C.parentNode}C=H}n=d===-1||g===-1?null:{start:d,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eh={focusedElem:t,selectionRange:n},V0=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var Y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var ee=Y.memoizedProps,W=Y.memoizedState,L=e.stateNode,M=L.getSnapshotBeforeUpdate(e.elementType===e.type?ee:mr(e.type,ee),W);L.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var F=e.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(te){kt(e,e.return,te)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return Y=zm,zm=!1,Y}function Oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&jh(e,n,o)}s=s.next}while(s!==r)}}function bu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q2(t){var e=t.alternate;e!==null&&(t.alternate=null,Q2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[el],delete e[Ih],delete e[c7],delete e[h7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y2(t){return t.tag===5||t.tag===3||t.tag===4}function Om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=L0));else if(r!==4&&(t=t.child,t!==null))for(qh(t,e,n),t=t.sibling;t!==null;)qh(t,e,n),t=t.sibling}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}var Xt=null,pr=!1;function xs(t,e,n){for(n=n.child;n!==null;)X2(t,e,n),n=n.sibling}function X2(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:mn||fo(n,e);case 6:var r=Xt,s=pr;Xt=null,xs(t,e,n),Xt=r,pr=s,Xt!==null&&(pr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(pr?(t=Xt,n=n.stateNode,t.nodeType===8?Pc(t.parentNode,n):t.nodeType===1&&Pc(t,n),Qa(t)):Pc(Xt,n.stateNode));break;case 4:r=Xt,s=pr,Xt=n.stateNode.containerInfo,pr=!0,xs(t,e,n),Xt=r,pr=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&jh(n,e,c),s=s.next}while(s!==r)}xs(t,e,n);break;case 1:if(!mn&&(fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){kt(n,e,d)}xs(t,e,n);break;case 21:xs(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,xs(t,e,n),mn=r):xs(t,e,n);break;default:xs(t,e,n)}}function Lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A7),e.forEach(function(r){var s=O7.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,c=e,d=c;e:for(;d!==null;){switch(d.tag){case 5:Xt=d.stateNode,pr=!1;break e;case 3:Xt=d.stateNode.containerInfo,pr=!0;break e;case 4:Xt=d.stateNode.containerInfo,pr=!0;break e}d=d.return}if(Xt===null)throw Error(ue(160));X2(o,c,s),Xt=null,pr=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(_){kt(s,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J2(e,t),e=e.sibling}function J2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Ar(t),r&4){try{Oa(3,t,t.return),bu(3,t)}catch(ee){kt(t,t.return,ee)}try{Oa(5,t,t.return)}catch(ee){kt(t,t.return,ee)}}break;case 1:fr(e,t),Ar(t),r&512&&n!==null&&fo(n,n.return);break;case 5:if(fr(e,t),Ar(t),r&512&&n!==null&&fo(n,n.return),t.flags&32){var s=t.stateNode;try{$a(s,"")}catch(ee){kt(t,t.return,ee)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,d=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&_4(s,o),mh(d,c);var _=mh(d,o);for(c=0;c<g.length;c+=2){var E=g[c],C=g[c+1];E==="style"?E4(s,C):E==="dangerouslySetInnerHTML"?S4(s,C):E==="children"?$a(s,C):bd(s,E,C,_)}switch(d){case"input":uh(s,o);break;case"textarea":x4(s,o);break;case"select":var R=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var H=o.value;H!=null?po(s,!!o.multiple,H,!1):R!==!!o.multiple&&(o.defaultValue!=null?po(s,!!o.multiple,o.defaultValue,!0):po(s,!!o.multiple,o.multiple?[]:"",!1))}s[el]=o}catch(ee){kt(t,t.return,ee)}}break;case 6:if(fr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(ue(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(ee){kt(t,t.return,ee)}}break;case 3:if(fr(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(ee){kt(t,t.return,ee)}break;case 4:fr(e,t),Ar(t);break;case 13:fr(e,t),Ar(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(tf=Ct())),r&4&&Lm(t);break;case 22:if(E=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(_=mn)||E,fr(e,t),mn=_):fr(e,t),Ar(t),r&8192){if(_=t.memoizedState!==null,(t.stateNode.isHidden=_)&&!E&&t.mode&1)for(ve=t,E=t.child;E!==null;){for(C=ve=E;ve!==null;){switch(R=ve,H=R.child,R.tag){case 0:case 11:case 14:case 15:Oa(4,R,R.return);break;case 1:fo(R,R.return);var Y=R.stateNode;if(typeof Y.componentWillUnmount=="function"){r=R,n=R.return;try{e=r,Y.props=e.memoizedProps,Y.state=e.memoizedState,Y.componentWillUnmount()}catch(ee){kt(r,n,ee)}}break;case 5:fo(R,R.return);break;case 22:if(R.memoizedState!==null){Bm(C);continue}}H!==null?(H.return=R,ve=H):Bm(C)}E=E.sibling}e:for(E=null,C=t;;){if(C.tag===5){if(E===null){E=C;try{s=C.stateNode,_?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=C.stateNode,g=C.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=T4("display",c))}catch(ee){kt(t,t.return,ee)}}}else if(C.tag===6){if(E===null)try{C.stateNode.nodeValue=_?"":C.memoizedProps}catch(ee){kt(t,t.return,ee)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;E===C&&(E=null),C=C.return}E===C&&(E=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:fr(e,t),Ar(t),r&4&&Lm(t);break;case 21:break;default:fr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y2(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($a(s,""),r.flags&=-33);var o=Om(t);Hh(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,d=Om(t);qh(t,d,c);break;default:throw Error(ue(161))}}catch(g){kt(t,t.return,g)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C7(t,e,n){ve=t,Z2(t)}function Z2(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var s=ve,o=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||o0;if(!c){var d=s.alternate,g=d!==null&&d.memoizedState!==null||mn;d=o0;var _=mn;if(o0=c,(mn=g)&&!_)for(ve=s;ve!==null;)c=ve,g=c.child,c.tag===22&&c.memoizedState!==null?jm(s):g!==null?(g.return=c,ve=g):jm(s);for(;o!==null;)ve=o,Z2(o),o=o.sibling;ve=s,o0=d,mn=_}Fm(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ve=o):Fm(t)}}function Fm(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||bu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Sm(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sm(e,c,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var E=_.memoizedState;if(E!==null){var C=E.dehydrated;C!==null&&Qa(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}mn||e.flags&512&&Uh(e)}catch(R){kt(e,e.return,R)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function Bm(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function jm(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bu(4,e)}catch(g){kt(e,n,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(g){kt(e,s,g)}}var o=e.return;try{Uh(e)}catch(g){kt(e,o,g)}break;case 5:var c=e.return;try{Uh(e)}catch(g){kt(e,c,g)}}}catch(g){kt(e,e.return,g)}if(e===t){ve=null;break}var d=e.sibling;if(d!==null){d.return=e.return,ve=d;break}ve=e.return}}var R7=Math.ceil,Q0=is.ReactCurrentDispatcher,Zd=is.ReactCurrentOwner,rr=is.ReactCurrentBatchConfig,qe=0,$t=null,Pt=null,en=0,Fn=0,mo=Gs(0),Ot=0,ol=null,Ei=0,Su=0,ef=0,La=null,Cn=null,tf=0,Co=1/0,Gr=null,Y0=!1,$h=null,Vs=null,a0=!1,Is=null,X0=0,Fa=0,Wh=null,b0=-1,S0=0;function xn(){return qe&6?Ct():b0!==-1?b0:b0=Ct()}function zs(t){return t.mode&1?qe&2&&en!==0?en&-en:f7.transition!==null?(S0===0&&(S0=O4()),S0):(t=nt,t!==0||(t=window.event,t=t===void 0?16:H4(t.type)),t):1}function wr(t,e,n,r){if(50<Fa)throw Fa=0,Wh=null,Error(ue(185));yl(t,n,r),(!(qe&2)||t!==$t)&&(t===$t&&(!(qe&2)&&(Su|=n),Ot===4&&Es(t,en)),Mn(t,r),n===1&&qe===0&&!(e.mode&1)&&(Co=Ct()+500,wu&&Ks()))}function Mn(t,e){var n=t.callbackNode;f6(t,e);var r=D0(t,t===$t?en:0);if(r===0)n!==null&&Y1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y1(n),e===1)t.tag===0?d7(Um.bind(null,t)):u2(Um.bind(null,t)),l7(function(){!(qe&6)&&Ks()}),n=null;else{switch(L4(r)){case 1:n=Ad;break;case 4:n=V4;break;case 16:n=M0;break;case 536870912:n=z4;break;default:n=M0}n=ag(n,eg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eg(t,e){if(b0=-1,S0=0,qe&6)throw Error(ue(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=D0(t,t===$t?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=J0(t,r);else{e=r;var s=qe;qe|=2;var o=ng();($t!==t||en!==e)&&(Gr=null,Co=Ct()+500,yi(t,e));do try{M7();break}catch(d){tg(t,d)}while(!0);Bd(),Q0.current=o,qe=s,Pt!==null?e=0:($t=null,en=0,e=Ot)}if(e!==0){if(e===2&&(s=wh(t),s!==0&&(r=s,e=Gh(t,s))),e===1)throw n=ol,yi(t,0),Es(t,r),Mn(t,Ct()),n;if(e===6)Es(t,r);else{if(s=t.current.alternate,!(r&30)&&!N7(s)&&(e=J0(t,r),e===2&&(o=wh(t),o!==0&&(r=o,e=Gh(t,o))),e===1))throw n=ol,yi(t,0),Es(t,r),Mn(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:hi(t,Cn,Gr);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=tf+500-Ct(),10<e)){if(D0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ah(hi.bind(null,t,Cn,Gr),e);break}hi(t,Cn,Gr);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var c=31-vr(r);o=1<<c,c=e[c],c>s&&(s=c),r&=~o}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R7(r/1960))-r,10<r){t.timeoutHandle=Ah(hi.bind(null,t,Cn,Gr),r);break}hi(t,Cn,Gr);break;case 5:hi(t,Cn,Gr);break;default:throw Error(ue(329))}}}return Mn(t,Ct()),t.callbackNode===n?eg.bind(null,t):null}function Gh(t,e){var n=La;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=J0(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&Kh(e)),t}function Kh(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function N7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!_r(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~ef,e&=~Su,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function Um(t){if(qe&6)throw Error(ue(327));_o();var e=D0(t,0);if(!(e&1))return Mn(t,Ct()),null;var n=J0(t,e);if(t.tag!==0&&n===2){var r=wh(t);r!==0&&(e=r,n=Gh(t,r))}if(n===1)throw n=ol,yi(t,0),Es(t,e),Mn(t,Ct()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,Cn,Gr),Mn(t,Ct()),null}function nf(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Co=Ct()+500,wu&&Ks())}}function ki(t){Is!==null&&Is.tag===0&&!(qe&6)&&_o();var e=qe;qe|=1;var n=rr.transition,r=nt;try{if(rr.transition=null,nt=1,t)return t()}finally{nt=r,rr.transition=n,qe=e,!(qe&6)&&Ks()}}function rf(){Fn=mo.current,dt(mo)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a7(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Od(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&F0();break;case 3:Ao(),dt(Nn),dt(gn),Wd();break;case 5:$d(r);break;case 4:Ao();break;case 13:dt(_t);break;case 19:dt(_t);break;case 10:jd(r.type._context);break;case 22:case 23:rf()}n=n.return}if($t=t,Pt=t=Os(t.current,null),en=Fn=e,Ot=0,ol=null,ef=Su=Ei=0,Cn=La=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=s,r.next=c}n.pending=r}mi=null}return t}function tg(t,e){do{var n=Pt;try{if(Bd(),w0.current=K0,G0){for(var r=xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}G0=!1}if(Ti=0,Ht=Vt=xt=null,za=!1,rl=0,Zd.current=null,n===null||n.return===null){Ot=1,ol=e,Pt=null;break}e:{var o=t,c=n.return,d=n,g=e;if(e=en,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,E=d,C=E.tag;if(!(E.mode&1)&&(C===0||C===11||C===15)){var R=E.alternate;R?(E.updateQueue=R.updateQueue,E.memoizedState=R.memoizedState,E.lanes=R.lanes):(E.updateQueue=null,E.memoizedState=null)}var H=Cm(c);if(H!==null){H.flags&=-257,Rm(H,c,d,o,e),H.mode&1&&Im(o,_,e),e=H,g=_;var Y=e.updateQueue;if(Y===null){var ee=new Set;ee.add(g),e.updateQueue=ee}else Y.add(g);break e}else{if(!(e&1)){Im(o,_,e),sf();break e}g=Error(ue(426))}}else if(pt&&d.mode&1){var W=Cm(c);if(W!==null){!(W.flags&65536)&&(W.flags|=256),Rm(W,c,d,o,e),Ld(Io(g,d));break e}}o=g=Io(g,d),Ot!==4&&(Ot=2),La===null?La=[o]:La.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var L=L2(o,g,e);bm(o,L);break e;case 1:d=g;var M=o.type,F=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Vs===null||!Vs.has(F)))){o.flags|=65536,e&=-e,o.lanes|=e;var te=F2(o,d,e);bm(o,te);break e}}o=o.return}while(o!==null)}sg(n)}catch(le){e=le,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function ng(){var t=Q0.current;return Q0.current=K0,t===null?K0:t}function sf(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(Ei&268435455)&&!(Su&268435455)||Es($t,en)}function J0(t,e){var n=qe;qe|=2;var r=ng();($t!==t||en!==e)&&(Gr=null,yi(t,e));do try{P7();break}catch(s){tg(t,s)}while(!0);if(Bd(),qe=n,Q0.current=r,Pt!==null)throw Error(ue(261));return $t=null,en=0,Ot}function P7(){for(;Pt!==null;)rg(Pt)}function M7(){for(;Pt!==null&&!s6();)rg(Pt)}function rg(t){var e=og(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?sg(t):Pt=e,Zd.current=null}function sg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k7(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=E7(n,e,Fn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function hi(t,e,n){var r=nt,s=rr.transition;try{rr.transition=null,nt=1,D7(t,e,n,r)}finally{rr.transition=s,nt=r}return null}function D7(t,e,n,r){do _o();while(Is!==null);if(qe&6)throw Error(ue(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(m6(t,o),t===$t&&(Pt=$t=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||a0||(a0=!0,ag(M0,function(){return _o(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var c=nt;nt=1;var d=qe;qe|=4,Zd.current=null,I7(t,n),J2(n,t),e7(Eh),V0=!!Th,Eh=Th=null,t.current=n,C7(n),i6(),qe=d,nt=c,rr.transition=o}else t.current=n;if(a0&&(a0=!1,Is=t,X0=s),o=t.pendingLanes,o===0&&(Vs=null),l6(n.stateNode),Mn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Y0)throw Y0=!1,t=$h,$h=null,t;return X0&1&&t.tag!==0&&_o(),o=t.pendingLanes,o&1?t===Wh?Fa++:(Fa=0,Wh=t):Fa=0,Ks(),null}function _o(){if(Is!==null){var t=L4(X0),e=rr.transition,n=nt;try{if(rr.transition=null,nt=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,X0=0,qe&6)throw Error(ue(331));var s=qe;for(qe|=4,ve=t.current;ve!==null;){var o=ve,c=o.child;if(ve.flags&16){var d=o.deletions;if(d!==null){for(var g=0;g<d.length;g++){var _=d[g];for(ve=_;ve!==null;){var E=ve;switch(E.tag){case 0:case 11:case 15:Oa(8,E,o)}var C=E.child;if(C!==null)C.return=E,ve=C;else for(;ve!==null;){E=ve;var R=E.sibling,H=E.return;if(Q2(E),E===_){ve=null;break}if(R!==null){R.return=H,ve=R;break}ve=H}}}var Y=o.alternate;if(Y!==null){var ee=Y.child;if(ee!==null){Y.child=null;do{var W=ee.sibling;ee.sibling=null,ee=W}while(ee!==null)}}ve=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,ve=c;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var L=o.sibling;if(L!==null){L.return=o.return,ve=L;break e}ve=o.return}}var M=t.current;for(ve=M;ve!==null;){c=ve;var F=c.child;if(c.subtreeFlags&2064&&F!==null)F.return=c,ve=F;else e:for(c=M;ve!==null;){if(d=ve,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:bu(9,d)}}catch(le){kt(d,d.return,le)}if(d===c){ve=null;break e}var te=d.sibling;if(te!==null){te.return=d.return,ve=te;break e}ve=d.return}}if(qe=s,Ks(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(mu,t)}catch{}r=!0}return r}finally{nt=n,rr.transition=e}}return!1}function qm(t,e,n){e=Io(n,e),e=L2(t,e,1),t=Ds(t,e,1),e=xn(),t!==null&&(yl(t,1,e),Mn(t,e))}function kt(t,e,n){if(t.tag===3)qm(t,t,n);else for(;e!==null;){if(e.tag===3){qm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=Io(n,t),t=F2(e,t,1),e=Ds(e,t,1),t=xn(),e!==null&&(yl(e,1,t),Mn(e,t));break}}e=e.return}}function V7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(en&n)===n&&(Ot===4||Ot===3&&(en&130023424)===en&&500>Ct()-tf?yi(t,0):ef|=n),Mn(t,e)}function ig(t,e){e===0&&(t.mode&1?(e=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):e=1);var n=xn();t=es(t,e),t!==null&&(yl(t,e,n),Mn(t,n))}function z7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ig(t,n)}function O7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),ig(t,n)}var og;og=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,T7(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,pt&&e.flags&1048576&&c2(e,U0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;x0(t,e),t=e.pendingProps;var s=To(e,gn.current);wo(e,n),s=Kd(null,e,r,t,s,n);var o=Qd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(o=!0,B0(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qd(e),s.updater=xu,e.stateNode=s,s._reactInternals=e,Dh(e,r,t,n),e=Oh(null,e,r,!0,o,n)):(e.tag=0,pt&&o&&zd(e),_n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(x0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=F7(r),t=mr(r,t),s){case 0:e=zh(null,e,r,t,n);break e;case 1:e=Mm(null,e,r,t,n);break e;case 11:e=Nm(null,e,r,t,n);break e;case 14:e=Pm(null,e,r,mr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),zh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),Mm(t,e,r,s,n);case 3:e:{if(q2(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,s=o.element,g2(t,e),$0(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Io(Error(ue(423)),e),e=Dm(t,e,r,n,s);break e}else if(r!==s){s=Io(Error(ue(424)),e),e=Dm(t,e,r,n,s);break e}else for(Bn=Ms(e.stateNode.containerInfo.firstChild),jn=e,pt=!0,gr=null,n=m2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===s){e=ts(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return y2(e),t===null&&Nh(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,c=s.children,kh(r,s)?c=null:o!==null&&kh(r,o)&&(e.flags|=32),U2(t,e),_n(t,e,c,n),e.child;case 6:return t===null&&Nh(e),null;case 13:return H2(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),Nm(t,e,r,s,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,c=s.value,lt(q0,r._currentValue),r._currentValue=c,o!==null)if(_r(o.value,c)){if(o.children===s.children&&!Nn.current){e=ts(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){c=o.child;for(var g=d.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=Xr(-1,n&-n),g.tag=2;var _=o.updateQueue;if(_!==null){_=_.shared;var E=_.pending;E===null?g.next=g:(g.next=E.next,E.next=g),_.pending=g}}o.lanes|=n,g=o.alternate,g!==null&&(g.lanes|=n),Ph(o.return,n,e),d.lanes|=n;break}g=g.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(ue(341));c.lanes|=n,d=c.alternate,d!==null&&(d.lanes|=n),Ph(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}_n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wo(e,n),s=sr(s),r=r(s),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,s=mr(r,e.pendingProps),s=mr(r.type,s),Pm(t,e,r,s,n);case 15:return B2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),x0(t,e),e.tag=1,Pn(r)?(t=!0,B0(e)):t=!1,wo(e,n),O2(e,r,s),Dh(e,r,s,n),Oh(null,e,r,!0,t,n);case 19:return $2(t,e,n);case 22:return j2(t,e,n)}throw Error(ue(156,e.tag))};function ag(t,e){return D4(t,e)}function L7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new L7(t,e,n,r)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F7(t){if(typeof t=="function")return of(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Td)return 11;if(t===Ed)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function T0(t,e,n,r,s,o){var c=2;if(r=t,typeof t=="function")of(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case ro:return vi(n.children,s,o,e);case Sd:c=8,s|=8;break;case sh:return t=nr(12,n,e,s|2),t.elementType=sh,t.lanes=o,t;case ih:return t=nr(13,n,e,s),t.elementType=ih,t.lanes=o,t;case oh:return t=nr(19,n,e,s),t.elementType=oh,t.lanes=o,t;case y4:return Tu(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p4:c=10;break e;case g4:c=9;break e;case Td:c=11;break e;case Ed:c=14;break e;case bs:c=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=nr(c,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function Tu(t,e,n,r){return t=nr(22,t,r,e),t.elementType=y4,t.lanes=n,t.stateNode={isHidden:!1},t}function Bc(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function jc(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B7(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function af(t,e,n,r,s,o,c,d,g){return t=new B7(t,e,n,d,g),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(o),t}function j7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lg(t){if(!t)return Us;t=t._reactInternals;e:{if(Ni(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Pn(n))return l2(t,n,e)}return e}function ug(t,e,n,r,s,o,c,d,g){return t=af(n,r,!0,t,s,o,c,d,g),t.context=lg(null),n=t.current,r=xn(),s=zs(n),o=Xr(r,s),o.callback=e??null,Ds(n,o,s),t.current.lanes=s,yl(t,s,r),Mn(t,r),t}function Eu(t,e,n,r){var s=e.current,o=xn(),c=zs(s);return n=lg(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(s,e,c),t!==null&&(wr(t,s,c,o),v0(t,s,c)),c}function Z0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lf(t,e){Hm(t,e),(t=t.alternate)&&Hm(t,e)}function U7(){return null}var cg=typeof reportError=="function"?reportError:function(t){console.error(t)};function uf(t){this._internalRoot=t}ku.prototype.render=uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Eu(t,e,null,null)};ku.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ki(function(){Eu(null,t,null,null)}),e[Zr]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=j4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&q4(t)}};function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $m(){}function q7(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var _=Z0(c);o.call(_)}}var c=ug(e,r,t,0,null,!1,!1,"",$m);return t._reactRootContainer=c,t[Zr]=c.current,Ja(t.nodeType===8?t.parentNode:t),ki(),c}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var d=r;r=function(){var _=Z0(g);d.call(_)}}var g=af(t,0,!1,null,null,!1,!1,"",$m);return t._reactRootContainer=g,t[Zr]=g.current,Ja(t.nodeType===8?t.parentNode:t),ki(function(){Eu(e,g,n,r)}),g}function Iu(t,e,n,r,s){var o=n._reactRootContainer;if(o){var c=o;if(typeof s=="function"){var d=s;s=function(){var g=Z0(c);d.call(g)}}Eu(e,c,t,s)}else c=q7(n,e,t,s,r);return Z0(c)}F4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(Id(e,n|1),Mn(e,Ct()),!(qe&6)&&(Co=Ct()+500,Ks()))}break;case 13:ki(function(){var r=es(t,1);if(r!==null){var s=xn();wr(r,t,1,s)}}),lf(t,1)}};Cd=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=xn();wr(e,t,134217728,n)}lf(t,134217728)}};B4=function(t){if(t.tag===13){var e=zs(t),n=es(t,e);if(n!==null){var r=xn();wr(n,t,e,r)}lf(t,e)}};j4=function(){return nt};U4=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};gh=function(t,e,n){switch(e){case"input":if(uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vu(r);if(!s)throw Error(ue(90));w4(r),uh(r,s)}}}break;case"textarea":x4(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};I4=nf;C4=ki;var H7={usingClientEntryPoint:!1,Events:[wl,ao,vu,k4,A4,nf]},xa={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$7={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P4(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||U7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l0.isDisabled&&l0.supportsFiber)try{mu=l0.inject($7),Rr=l0}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H7;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(e))throw Error(ue(200));return j7(t,e,null,n)};Hn.createRoot=function(t,e){if(!cf(t))throw Error(ue(299));var n=!1,r="",s=cg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=af(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new uf(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=P4(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return ki(t)};Hn.hydrate=function(t,e,n){if(!Au(e))throw Error(ue(200));return Iu(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!cf(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",c=cg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=ug(e,null,t,1,n??null,s,!1,o,c),t[Zr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ku(e)};Hn.render=function(t,e,n){if(!Au(e))throw Error(ue(200));return Iu(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!Au(t))throw Error(ue(40));return t._reactRootContainer?(ki(function(){Iu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Hn.unstable_batchedUpdates=nf;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Au(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Iu(t,e,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hg)}catch(t){console.error(t)}}hg(),h4.exports=Hn;var W7=h4.exports,Wm=W7;nh.createRoot=Wm.createRoot,nh.hydrateRoot=Wm.hydrateRoot;const G7=({title:t,score:e,total:n,questionIndex:r})=>Z.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[Z.jsxs("div",{children:[Z.jsx("h1",{className:"font-display text-3xl font-semibold text-rose-500",children:t}),Z.jsxs("p",{className:"text-base font-medium text-cocoa-300",children:["Question ",r+1," of ",n]})]}),Z.jsxs("div",{className:"text-right text-lg font-semibold text-rose-500",children:["Score: ",e,"/",n]})]});var Qh={exports:{}},Uc={exports:{}},qc,Gm;function K7(){if(Gm)return qc;Gm=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qc=t,qc}var Hc,Km;function Q7(){if(Km)return Hc;Km=1;var t=K7();function e(){}function n(){}return n.resetWarningCache=e,Hc=function(){function r(c,d,g,_,E,C){if(C!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Hc}var Qm;function Y7(){return Qm||(Qm=1,Uc.exports=Q7()()),Uc.exports}var $c={exports:{}},Ym;function X7(){return Ym||(Ym=1,function(t,e){(function(r,s){t.exports=s()})(typeof self<"u"?self:Zp,function(){return function(){var n={};(function(){n.d=function(a,i){for(var l in i)n.o(i,l)&&!n.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:i[l]})}})(),function(){n.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)}}();var r={};n.d(r,{default:function(){return g3}});class s{constructor(i,l){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let h="KaTeX parse error: "+i,f,y;const x=l&&l.loc;if(x&&x.start<=x.end){const I=x.lexer.input;f=x.start,y=x.end,f===I.length?h+=" at end of input: ":h+=" at position "+(f+1)+": ";const B=I.slice(f,y).replace(/[^]/g,"$&̲");let $;f>15?$="…"+I.slice(f-15,f):$=I.slice(0,f);let G;y+15<I.length?G=I.slice(y,y+15)+"…":G=I.slice(y),h+=$+B+G}const S=new Error(h);return S.name="ParseError",S.__proto__=s.prototype,S.position=f,f!=null&&y!=null&&(S.length=y-f),S.rawMessage=i,S}}s.prototype.__proto__=Error.prototype;var o=s;const c=function(a,i){return a===void 0?i:a},d=/([A-Z])/g,g=function(a){return a.replace(d,"-$1").toLowerCase()},_={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},E=/[&><"']/g;function C(a){return String(a).replace(E,i=>_[i])}const R=function(a){return a.type==="ordgroup"||a.type==="color"?a.body.length===1?R(a.body[0]):a:a.type==="font"?R(a.body):a},H=function(a){const i=R(a);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},Y=function(a){if(!a)throw new Error("Expected non-null, but got "+String(a));return a};var W={deflt:c,escape:C,hyphenate:g,getBaseElem:R,isCharacterBox:H,protocolFromUrl:function(a){const i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(a);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"}};const L={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,i)=>(i.push(a),i)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function M(a){if(a.default)return a.default;const i=a.type,l=Array.isArray(i)?i[0]:i;if(typeof l!="string")return l.enum[0];switch(l){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class F{constructor(i){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,i=i||{};for(const l in L)if(L.hasOwnProperty(l)){const h=L[l];this[l]=i[l]!==void 0?h.processor?h.processor(i[l]):i[l]:M(h)}}reportNonstrict(i,l,h){let f=this.strict;if(typeof f=="function"&&(f=f(i,l,h)),!(!f||f==="ignore")){if(f===!0||f==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(l+" ["+i+"]"),h);f==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]"))}}useStrictBehavior(i,l,h){let f=this.strict;if(typeof f=="function")try{f=f(i,l,h)}catch{f="error"}return!f||f==="ignore"?!1:f===!0||f==="error"?!0:f==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]")),!1)}isTrusted(i){if(i.url&&!i.protocol){const h=W.protocolFromUrl(i.url);if(h==null)return!1;i.protocol=h}return!!(typeof this.trust=="function"?this.trust(i):this.trust)}}class te{constructor(i,l,h){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=i,this.size=l,this.cramped=h}sup(){return O[Wt[this.id]]}sub(){return O[Dn[this.id]]}fracNum(){return O[Ft[this.id]]}fracDen(){return O[Bt[this.id]]}cramp(){return O[fe[this.id]]}text(){return O[ke[this.id]]}isTight(){return this.size>=2}}const le=0,ce=1,D=2,A=3,P=4,z=5,U=6,q=7,O=[new te(le,0,!1),new te(ce,0,!0),new te(D,1,!1),new te(A,1,!0),new te(P,2,!1),new te(z,2,!0),new te(U,3,!1),new te(q,3,!0)],Wt=[P,z,P,z,U,q,U,q],Dn=[z,z,z,z,q,q,q,q],Ft=[D,A,P,z,U,q,U,q],Bt=[A,A,z,z,q,q,q,q],fe=[ce,ce,A,A,z,z,q,q],ke=[le,ce,D,A,D,A,D,A];var oe={DISPLAY:O[le],TEXT:O[D],SCRIPT:O[P],SCRIPTSCRIPT:O[U]};const Ye=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Ge(a){for(let i=0;i<Ye.length;i++){const l=Ye[i];for(let h=0;h<l.blocks.length;h++){const f=l.blocks[h];if(a>=f[0]&&a<=f[1])return l.name}}return null}const st=[];Ye.forEach(a=>a.blocks.forEach(i=>st.push(...i)));function Tn(a){for(let i=0;i<st.length;i+=2)if(a>=st[i]&&a<=st[i+1])return!0;return!1}const Rt=80,sn=function(a,i){return"M95,"+(622+a+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+a/2.075+" -"+a+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+a)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},Vn=function(a,i){return"M263,"+(601+a+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+a/2.084+" -"+a+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+a)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},Wo=function(a,i){return"M983 "+(10+a+i)+`
l`+a/3.13+" -"+a+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+a)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},Go=function(a,i){return"M424,"+(2398+a+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+a/4.223+" -"+a+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+a)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+a)+" "+i+`
h400000v`+(40+a)+"h-400000z"},os=function(a,i){return"M473,"+(2713+a+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+a/5.298+" -"+a+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+a)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+a)+" "+i+"h400000v"+(40+a)+"H1017.7z"},as=function(a){const i=a/2;return"M400000 "+a+" H0 L"+i+" 0 l65 45 L145 "+(a-80)+" H400000z"},Qs=function(a,i,l){const h=l-54-i-a;return"M702 "+(a+i)+"H400000"+(40+a)+`
H742v`+h+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+a)+"H742z"},ls=function(a,i,l){i=1e3*i;let h="";switch(a){case"sqrtMain":h=sn(i,Rt);break;case"sqrtSize1":h=Vn(i,Rt);break;case"sqrtSize2":h=Wo(i,Rt);break;case"sqrtSize3":h=Go(i,Rt);break;case"sqrtSize4":h=os(i,Rt);break;case"sqrtTall":h=Qs(i,Rt,l)}return h},Or=function(a,i){switch(a){case"⎜":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"∣":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"∥":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"⎟":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"⎢":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"⎥":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"⎪":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"⏐":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"‖":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},us={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},cs=function(a,i){switch(a){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var En={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const xr={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},me={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Ne(a,i){En[a]=i}function De(a,i,l){if(!En[i])throw new Error("Font metrics not found for font: "+i+".");let h=a.charCodeAt(0),f=En[i][h];if(!f&&a[0]in me&&(h=me[a[0]].charCodeAt(0),f=En[i][h]),!f&&l==="text"&&Tn(h)&&(f=En[i][77]),f)return{depth:f[0],height:f[1],italic:f[2],skew:f[3],width:f[4]}}const He={};function on(a){let i;if(a>=5?i=0:a>=3?i=1:i=2,!He[i]){const l=He[i]={cssEmPerMu:xr.quad[i]/18};for(const h in xr)xr.hasOwnProperty(h)&&(l[h]=xr[h][i])}return He[i]}const hs=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ds=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],yt=function(a,i){return i.size<2?a:hs[a-1][i.size-1]};class Xe{constructor(i){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=i.style,this.color=i.color,this.size=i.size||Xe.BASESIZE,this.textSize=i.textSize||this.size,this.phantom=!!i.phantom,this.font=i.font||"",this.fontFamily=i.fontFamily||"",this.fontWeight=i.fontWeight||"",this.fontShape=i.fontShape||"",this.sizeMultiplier=ds[this.size-1],this.maxSize=i.maxSize,this.minRuleThickness=i.minRuleThickness,this._fontMetrics=void 0}extend(i){const l={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const h in i)i.hasOwnProperty(h)&&(l[h]=i[h]);return new Xe(l)}havingStyle(i){return this.style===i?this:this.extend({style:i,size:yt(this.textSize,i)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(i){return this.size===i&&this.textSize===i?this:this.extend({style:this.style.text(),size:i,textSize:i,sizeMultiplier:ds[i-1]})}havingBaseStyle(i){i=i||this.style.text();const l=yt(Xe.BASESIZE,i);return this.size===l&&this.textSize===Xe.BASESIZE&&this.style===i?this:this.extend({style:i,size:l})}havingBaseSizing(){let i;switch(this.style.id){case 4:case 5:i=3;break;case 6:case 7:i=1;break;default:i=6}return this.extend({style:this.style.text(),size:i})}withColor(i){return this.extend({color:i})}withPhantom(){return this.extend({phantom:!0})}withFont(i){return this.extend({font:i})}withTextFontFamily(i){return this.extend({fontFamily:i,font:""})}withTextFontWeight(i){return this.extend({fontWeight:i,font:""})}withTextFontShape(i){return this.extend({fontShape:i,font:""})}sizingClasses(i){return i.size!==this.size?["sizing","reset-size"+i.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Xe.BASESIZE?["sizing","reset-size"+this.size,"size"+Xe.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=on(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Xe.BASESIZE=6;var Di=Xe;const Vi={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Al={ex:!0,em:!0,mu:!0},Il=function(a){return typeof a!="string"&&(a=a.unit),a in Vi||a in Al||a==="ex"},Je=function(a,i){let l;if(a.unit in Vi)l=Vi[a.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(a.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{let h;if(i.style.isTight()?h=i.havingStyle(i.style.text()):h=i,a.unit==="ex")l=h.fontMetrics().xHeight;else if(a.unit==="em")l=h.fontMetrics().quad;else throw new o("Invalid unit: '"+a.unit+"'");h!==i&&(l*=h.sizeMultiplier/i.sizeMultiplier)}return Math.min(a.number*l,i.maxSize)},he=function(a){return+a.toFixed(4)+"em"},or=function(a){return a.filter(i=>i).join(" ")},zi=function(a,i,l){if(this.classes=a||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");const h=i.getColor();h&&(this.style.color=h)}},Cl=function(a){const i=document.createElement(a);i.className=or(this.classes);for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(const l in this.attributes)this.attributes.hasOwnProperty(l)&&i.setAttribute(l,this.attributes[l]);for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i},ju=/[\s"'>/=\x00-\x1f]/,Oi=function(a){let i="<"+a;this.classes.length&&(i+=' class="'+W.escape(or(this.classes))+'"');let l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=W.hyphenate(h)+":"+this.style[h]+";");l&&(i+=' style="'+W.escape(l)+'"');for(const h in this.attributes)if(this.attributes.hasOwnProperty(h)){if(ju.test(h))throw new o("Invalid attribute name '"+h+"'");i+=" "+h+'="'+W.escape(this.attributes[h])+'"'}i+=">";for(let h=0;h<this.children.length;h++)i+=this.children[h].toMarkup();return i+="</"+a+">",i};class fs{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,zi.call(this,i,h,f),this.children=l||[]}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return Cl.call(this,"span")}toMarkup(){return Oi.call(this,"span")}}class Li{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,zi.call(this,l,f),this.children=h||[],this.setAttribute("href",i)}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return Cl.call(this,"a")}toMarkup(){return Oi.call(this,"a")}}class Ys{constructor(i,l,h){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=l,this.src=i,this.classes=["mord"],this.style=h}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createElement("img");i.src=this.src,i.alt=this.alt,i.className="mord";for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);return i}toMarkup(){let i='<img src="'+W.escape(this.src)+'"'+(' alt="'+W.escape(this.alt)+'"'),l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=W.hyphenate(h)+":"+this.style[h]+";");return l&&(i+=' style="'+W.escape(l)+'"'),i+="'/>",i}}const Ko={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class an{constructor(i,l,h,f,y,x,S,I){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=i,this.height=l||0,this.depth=h||0,this.italic=f||0,this.skew=y||0,this.width=x||0,this.classes=S||[],this.style=I||{},this.maxFontSize=0;const B=Ge(this.text.charCodeAt(0));B&&this.classes.push(B+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Ko[this.text])}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createTextNode(this.text);let l=null;this.italic>0&&(l=document.createElement("span"),l.style.marginRight=he(this.italic)),this.classes.length>0&&(l=l||document.createElement("span"),l.className=or(this.classes));for(const h in this.style)this.style.hasOwnProperty(h)&&(l=l||document.createElement("span"),l.style[h]=this.style[h]);return l?(l.appendChild(i),l):i}toMarkup(){let i=!1,l="<span";this.classes.length&&(i=!0,l+=' class="',l+=W.escape(or(this.classes)),l+='"');let h="";this.italic>0&&(h+="margin-right:"+this.italic+"em;");for(const y in this.style)this.style.hasOwnProperty(y)&&(h+=W.hyphenate(y)+":"+this.style[y]+";");h&&(i=!0,l+=' style="'+W.escape(h)+'"');const f=W.escape(this.text);return i?(l+=">",l+=f,l+="</span>",l):f}}class Gt{constructor(i,l){this.children=void 0,this.attributes=void 0,this.children=i||[],this.attributes=l||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);for(let h=0;h<this.children.length;h++)l.appendChild(this.children[h].toNode());return l}toMarkup(){let i='<svg xmlns="http://www.w3.org/2000/svg"';for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+W.escape(this.attributes[l])+'"');i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</svg>",i}}class ar{constructor(i,l){this.pathName=void 0,this.alternate=void 0,this.pathName=i,this.alternate=l}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?l.setAttribute("d",this.alternate):l.setAttribute("d",us[this.pathName]),l}toMarkup(){return this.alternate?'<path d="'+W.escape(this.alternate)+'"/>':'<path d="'+W.escape(us[this.pathName])+'"/>'}}class ms{constructor(i){this.attributes=void 0,this.attributes=i||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","line");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);return l}toMarkup(){let i="<line";for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+W.escape(this.attributes[l])+'"');return i+="/>",i}}function Qo(a){if(a instanceof an)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function Xs(a){if(a instanceof fs)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}const Rl={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Kt={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Js={math:{},text:{}};var Ze=Js;function m(a,i,l,h,f,y){Js[a][f]={font:i,group:l,replace:h},y&&h&&(Js[a][h]=Js[a][f])}const v="math",ne="text",b="main",N="ams",ot="accent-token",ge="bin",jt="close",br="inner",xe="mathord",et="op-token",ln="open",Zs="punct",V="rel",zn="spacing",j="textord";m(v,b,V,"≡","\\equiv",!0),m(v,b,V,"≺","\\prec",!0),m(v,b,V,"≻","\\succ",!0),m(v,b,V,"∼","\\sim",!0),m(v,b,V,"⊥","\\perp"),m(v,b,V,"⪯","\\preceq",!0),m(v,b,V,"⪰","\\succeq",!0),m(v,b,V,"≃","\\simeq",!0),m(v,b,V,"∣","\\mid",!0),m(v,b,V,"≪","\\ll",!0),m(v,b,V,"≫","\\gg",!0),m(v,b,V,"≍","\\asymp",!0),m(v,b,V,"∥","\\parallel"),m(v,b,V,"⋈","\\bowtie",!0),m(v,b,V,"⌣","\\smile",!0),m(v,b,V,"⊑","\\sqsubseteq",!0),m(v,b,V,"⊒","\\sqsupseteq",!0),m(v,b,V,"≐","\\doteq",!0),m(v,b,V,"⌢","\\frown",!0),m(v,b,V,"∋","\\ni",!0),m(v,b,V,"∝","\\propto",!0),m(v,b,V,"⊢","\\vdash",!0),m(v,b,V,"⊣","\\dashv",!0),m(v,b,V,"∋","\\owns"),m(v,b,Zs,".","\\ldotp"),m(v,b,Zs,"⋅","\\cdotp"),m(v,b,j,"#","\\#"),m(ne,b,j,"#","\\#"),m(v,b,j,"&","\\&"),m(ne,b,j,"&","\\&"),m(v,b,j,"ℵ","\\aleph",!0),m(v,b,j,"∀","\\forall",!0),m(v,b,j,"ℏ","\\hbar",!0),m(v,b,j,"∃","\\exists",!0),m(v,b,j,"∇","\\nabla",!0),m(v,b,j,"♭","\\flat",!0),m(v,b,j,"ℓ","\\ell",!0),m(v,b,j,"♮","\\natural",!0),m(v,b,j,"♣","\\clubsuit",!0),m(v,b,j,"℘","\\wp",!0),m(v,b,j,"♯","\\sharp",!0),m(v,b,j,"♢","\\diamondsuit",!0),m(v,b,j,"ℜ","\\Re",!0),m(v,b,j,"♡","\\heartsuit",!0),m(v,b,j,"ℑ","\\Im",!0),m(v,b,j,"♠","\\spadesuit",!0),m(v,b,j,"§","\\S",!0),m(ne,b,j,"§","\\S"),m(v,b,j,"¶","\\P",!0),m(ne,b,j,"¶","\\P"),m(v,b,j,"†","\\dag"),m(ne,b,j,"†","\\dag"),m(ne,b,j,"†","\\textdagger"),m(v,b,j,"‡","\\ddag"),m(ne,b,j,"‡","\\ddag"),m(ne,b,j,"‡","\\textdaggerdbl"),m(v,b,jt,"⎱","\\rmoustache",!0),m(v,b,ln,"⎰","\\lmoustache",!0),m(v,b,jt,"⟯","\\rgroup",!0),m(v,b,ln,"⟮","\\lgroup",!0),m(v,b,ge,"∓","\\mp",!0),m(v,b,ge,"⊖","\\ominus",!0),m(v,b,ge,"⊎","\\uplus",!0),m(v,b,ge,"⊓","\\sqcap",!0),m(v,b,ge,"∗","\\ast"),m(v,b,ge,"⊔","\\sqcup",!0),m(v,b,ge,"◯","\\bigcirc",!0),m(v,b,ge,"∙","\\bullet",!0),m(v,b,ge,"‡","\\ddagger"),m(v,b,ge,"≀","\\wr",!0),m(v,b,ge,"⨿","\\amalg"),m(v,b,ge,"&","\\And"),m(v,b,V,"⟵","\\longleftarrow",!0),m(v,b,V,"⇐","\\Leftarrow",!0),m(v,b,V,"⟸","\\Longleftarrow",!0),m(v,b,V,"⟶","\\longrightarrow",!0),m(v,b,V,"⇒","\\Rightarrow",!0),m(v,b,V,"⟹","\\Longrightarrow",!0),m(v,b,V,"↔","\\leftrightarrow",!0),m(v,b,V,"⟷","\\longleftrightarrow",!0),m(v,b,V,"⇔","\\Leftrightarrow",!0),m(v,b,V,"⟺","\\Longleftrightarrow",!0),m(v,b,V,"↦","\\mapsto",!0),m(v,b,V,"⟼","\\longmapsto",!0),m(v,b,V,"↗","\\nearrow",!0),m(v,b,V,"↩","\\hookleftarrow",!0),m(v,b,V,"↪","\\hookrightarrow",!0),m(v,b,V,"↘","\\searrow",!0),m(v,b,V,"↼","\\leftharpoonup",!0),m(v,b,V,"⇀","\\rightharpoonup",!0),m(v,b,V,"↙","\\swarrow",!0),m(v,b,V,"↽","\\leftharpoondown",!0),m(v,b,V,"⇁","\\rightharpoondown",!0),m(v,b,V,"↖","\\nwarrow",!0),m(v,b,V,"⇌","\\rightleftharpoons",!0),m(v,N,V,"≮","\\nless",!0),m(v,N,V,"","\\@nleqslant"),m(v,N,V,"","\\@nleqq"),m(v,N,V,"⪇","\\lneq",!0),m(v,N,V,"≨","\\lneqq",!0),m(v,N,V,"","\\@lvertneqq"),m(v,N,V,"⋦","\\lnsim",!0),m(v,N,V,"⪉","\\lnapprox",!0),m(v,N,V,"⊀","\\nprec",!0),m(v,N,V,"⋠","\\npreceq",!0),m(v,N,V,"⋨","\\precnsim",!0),m(v,N,V,"⪹","\\precnapprox",!0),m(v,N,V,"≁","\\nsim",!0),m(v,N,V,"","\\@nshortmid"),m(v,N,V,"∤","\\nmid",!0),m(v,N,V,"⊬","\\nvdash",!0),m(v,N,V,"⊭","\\nvDash",!0),m(v,N,V,"⋪","\\ntriangleleft"),m(v,N,V,"⋬","\\ntrianglelefteq",!0),m(v,N,V,"⊊","\\subsetneq",!0),m(v,N,V,"","\\@varsubsetneq"),m(v,N,V,"⫋","\\subsetneqq",!0),m(v,N,V,"","\\@varsubsetneqq"),m(v,N,V,"≯","\\ngtr",!0),m(v,N,V,"","\\@ngeqslant"),m(v,N,V,"","\\@ngeqq"),m(v,N,V,"⪈","\\gneq",!0),m(v,N,V,"≩","\\gneqq",!0),m(v,N,V,"","\\@gvertneqq"),m(v,N,V,"⋧","\\gnsim",!0),m(v,N,V,"⪊","\\gnapprox",!0),m(v,N,V,"⊁","\\nsucc",!0),m(v,N,V,"⋡","\\nsucceq",!0),m(v,N,V,"⋩","\\succnsim",!0),m(v,N,V,"⪺","\\succnapprox",!0),m(v,N,V,"≆","\\ncong",!0),m(v,N,V,"","\\@nshortparallel"),m(v,N,V,"∦","\\nparallel",!0),m(v,N,V,"⊯","\\nVDash",!0),m(v,N,V,"⋫","\\ntriangleright"),m(v,N,V,"⋭","\\ntrianglerighteq",!0),m(v,N,V,"","\\@nsupseteqq"),m(v,N,V,"⊋","\\supsetneq",!0),m(v,N,V,"","\\@varsupsetneq"),m(v,N,V,"⫌","\\supsetneqq",!0),m(v,N,V,"","\\@varsupsetneqq"),m(v,N,V,"⊮","\\nVdash",!0),m(v,N,V,"⪵","\\precneqq",!0),m(v,N,V,"⪶","\\succneqq",!0),m(v,N,V,"","\\@nsubseteqq"),m(v,N,ge,"⊴","\\unlhd"),m(v,N,ge,"⊵","\\unrhd"),m(v,N,V,"↚","\\nleftarrow",!0),m(v,N,V,"↛","\\nrightarrow",!0),m(v,N,V,"⇍","\\nLeftarrow",!0),m(v,N,V,"⇏","\\nRightarrow",!0),m(v,N,V,"↮","\\nleftrightarrow",!0),m(v,N,V,"⇎","\\nLeftrightarrow",!0),m(v,N,V,"△","\\vartriangle"),m(v,N,j,"ℏ","\\hslash"),m(v,N,j,"▽","\\triangledown"),m(v,N,j,"◊","\\lozenge"),m(v,N,j,"Ⓢ","\\circledS"),m(v,N,j,"®","\\circledR"),m(ne,N,j,"®","\\circledR"),m(v,N,j,"∡","\\measuredangle",!0),m(v,N,j,"∄","\\nexists"),m(v,N,j,"℧","\\mho"),m(v,N,j,"Ⅎ","\\Finv",!0),m(v,N,j,"⅁","\\Game",!0),m(v,N,j,"‵","\\backprime"),m(v,N,j,"▲","\\blacktriangle"),m(v,N,j,"▼","\\blacktriangledown"),m(v,N,j,"■","\\blacksquare"),m(v,N,j,"⧫","\\blacklozenge"),m(v,N,j,"★","\\bigstar"),m(v,N,j,"∢","\\sphericalangle",!0),m(v,N,j,"∁","\\complement",!0),m(v,N,j,"ð","\\eth",!0),m(ne,b,j,"ð","ð"),m(v,N,j,"╱","\\diagup"),m(v,N,j,"╲","\\diagdown"),m(v,N,j,"□","\\square"),m(v,N,j,"□","\\Box"),m(v,N,j,"◊","\\Diamond"),m(v,N,j,"¥","\\yen",!0),m(ne,N,j,"¥","\\yen",!0),m(v,N,j,"✓","\\checkmark",!0),m(ne,N,j,"✓","\\checkmark"),m(v,N,j,"ℶ","\\beth",!0),m(v,N,j,"ℸ","\\daleth",!0),m(v,N,j,"ℷ","\\gimel",!0),m(v,N,j,"ϝ","\\digamma",!0),m(v,N,j,"ϰ","\\varkappa"),m(v,N,ln,"┌","\\@ulcorner",!0),m(v,N,jt,"┐","\\@urcorner",!0),m(v,N,ln,"└","\\@llcorner",!0),m(v,N,jt,"┘","\\@lrcorner",!0),m(v,N,V,"≦","\\leqq",!0),m(v,N,V,"⩽","\\leqslant",!0),m(v,N,V,"⪕","\\eqslantless",!0),m(v,N,V,"≲","\\lesssim",!0),m(v,N,V,"⪅","\\lessapprox",!0),m(v,N,V,"≊","\\approxeq",!0),m(v,N,ge,"⋖","\\lessdot"),m(v,N,V,"⋘","\\lll",!0),m(v,N,V,"≶","\\lessgtr",!0),m(v,N,V,"⋚","\\lesseqgtr",!0),m(v,N,V,"⪋","\\lesseqqgtr",!0),m(v,N,V,"≑","\\doteqdot"),m(v,N,V,"≓","\\risingdotseq",!0),m(v,N,V,"≒","\\fallingdotseq",!0),m(v,N,V,"∽","\\backsim",!0),m(v,N,V,"⋍","\\backsimeq",!0),m(v,N,V,"⫅","\\subseteqq",!0),m(v,N,V,"⋐","\\Subset",!0),m(v,N,V,"⊏","\\sqsubset",!0),m(v,N,V,"≼","\\preccurlyeq",!0),m(v,N,V,"⋞","\\curlyeqprec",!0),m(v,N,V,"≾","\\precsim",!0),m(v,N,V,"⪷","\\precapprox",!0),m(v,N,V,"⊲","\\vartriangleleft"),m(v,N,V,"⊴","\\trianglelefteq"),m(v,N,V,"⊨","\\vDash",!0),m(v,N,V,"⊪","\\Vvdash",!0),m(v,N,V,"⌣","\\smallsmile"),m(v,N,V,"⌢","\\smallfrown"),m(v,N,V,"≏","\\bumpeq",!0),m(v,N,V,"≎","\\Bumpeq",!0),m(v,N,V,"≧","\\geqq",!0),m(v,N,V,"⩾","\\geqslant",!0),m(v,N,V,"⪖","\\eqslantgtr",!0),m(v,N,V,"≳","\\gtrsim",!0),m(v,N,V,"⪆","\\gtrapprox",!0),m(v,N,ge,"⋗","\\gtrdot"),m(v,N,V,"⋙","\\ggg",!0),m(v,N,V,"≷","\\gtrless",!0),m(v,N,V,"⋛","\\gtreqless",!0),m(v,N,V,"⪌","\\gtreqqless",!0),m(v,N,V,"≖","\\eqcirc",!0),m(v,N,V,"≗","\\circeq",!0),m(v,N,V,"≜","\\triangleq",!0),m(v,N,V,"∼","\\thicksim"),m(v,N,V,"≈","\\thickapprox"),m(v,N,V,"⫆","\\supseteqq",!0),m(v,N,V,"⋑","\\Supset",!0),m(v,N,V,"⊐","\\sqsupset",!0),m(v,N,V,"≽","\\succcurlyeq",!0),m(v,N,V,"⋟","\\curlyeqsucc",!0),m(v,N,V,"≿","\\succsim",!0),m(v,N,V,"⪸","\\succapprox",!0),m(v,N,V,"⊳","\\vartriangleright"),m(v,N,V,"⊵","\\trianglerighteq"),m(v,N,V,"⊩","\\Vdash",!0),m(v,N,V,"∣","\\shortmid"),m(v,N,V,"∥","\\shortparallel"),m(v,N,V,"≬","\\between",!0),m(v,N,V,"⋔","\\pitchfork",!0),m(v,N,V,"∝","\\varpropto"),m(v,N,V,"◀","\\blacktriangleleft"),m(v,N,V,"∴","\\therefore",!0),m(v,N,V,"∍","\\backepsilon"),m(v,N,V,"▶","\\blacktriangleright"),m(v,N,V,"∵","\\because",!0),m(v,N,V,"⋘","\\llless"),m(v,N,V,"⋙","\\gggtr"),m(v,N,ge,"⊲","\\lhd"),m(v,N,ge,"⊳","\\rhd"),m(v,N,V,"≂","\\eqsim",!0),m(v,b,V,"⋈","\\Join"),m(v,N,V,"≑","\\Doteq",!0),m(v,N,ge,"∔","\\dotplus",!0),m(v,N,ge,"∖","\\smallsetminus"),m(v,N,ge,"⋒","\\Cap",!0),m(v,N,ge,"⋓","\\Cup",!0),m(v,N,ge,"⩞","\\doublebarwedge",!0),m(v,N,ge,"⊟","\\boxminus",!0),m(v,N,ge,"⊞","\\boxplus",!0),m(v,N,ge,"⋇","\\divideontimes",!0),m(v,N,ge,"⋉","\\ltimes",!0),m(v,N,ge,"⋊","\\rtimes",!0),m(v,N,ge,"⋋","\\leftthreetimes",!0),m(v,N,ge,"⋌","\\rightthreetimes",!0),m(v,N,ge,"⋏","\\curlywedge",!0),m(v,N,ge,"⋎","\\curlyvee",!0),m(v,N,ge,"⊝","\\circleddash",!0),m(v,N,ge,"⊛","\\circledast",!0),m(v,N,ge,"⋅","\\centerdot"),m(v,N,ge,"⊺","\\intercal",!0),m(v,N,ge,"⋒","\\doublecap"),m(v,N,ge,"⋓","\\doublecup"),m(v,N,ge,"⊠","\\boxtimes",!0),m(v,N,V,"⇢","\\dashrightarrow",!0),m(v,N,V,"⇠","\\dashleftarrow",!0),m(v,N,V,"⇇","\\leftleftarrows",!0),m(v,N,V,"⇆","\\leftrightarrows",!0),m(v,N,V,"⇚","\\Lleftarrow",!0),m(v,N,V,"↞","\\twoheadleftarrow",!0),m(v,N,V,"↢","\\leftarrowtail",!0),m(v,N,V,"↫","\\looparrowleft",!0),m(v,N,V,"⇋","\\leftrightharpoons",!0),m(v,N,V,"↶","\\curvearrowleft",!0),m(v,N,V,"↺","\\circlearrowleft",!0),m(v,N,V,"↰","\\Lsh",!0),m(v,N,V,"⇈","\\upuparrows",!0),m(v,N,V,"↿","\\upharpoonleft",!0),m(v,N,V,"⇃","\\downharpoonleft",!0),m(v,b,V,"⊶","\\origof",!0),m(v,b,V,"⊷","\\imageof",!0),m(v,N,V,"⊸","\\multimap",!0),m(v,N,V,"↭","\\leftrightsquigarrow",!0),m(v,N,V,"⇉","\\rightrightarrows",!0),m(v,N,V,"⇄","\\rightleftarrows",!0),m(v,N,V,"↠","\\twoheadrightarrow",!0),m(v,N,V,"↣","\\rightarrowtail",!0),m(v,N,V,"↬","\\looparrowright",!0),m(v,N,V,"↷","\\curvearrowright",!0),m(v,N,V,"↻","\\circlearrowright",!0),m(v,N,V,"↱","\\Rsh",!0),m(v,N,V,"⇊","\\downdownarrows",!0),m(v,N,V,"↾","\\upharpoonright",!0),m(v,N,V,"⇂","\\downharpoonright",!0),m(v,N,V,"⇝","\\rightsquigarrow",!0),m(v,N,V,"⇝","\\leadsto"),m(v,N,V,"⇛","\\Rrightarrow",!0),m(v,N,V,"↾","\\restriction"),m(v,b,j,"‘","`"),m(v,b,j,"$","\\$"),m(ne,b,j,"$","\\$"),m(ne,b,j,"$","\\textdollar"),m(v,b,j,"%","\\%"),m(ne,b,j,"%","\\%"),m(v,b,j,"_","\\_"),m(ne,b,j,"_","\\_"),m(ne,b,j,"_","\\textunderscore"),m(v,b,j,"∠","\\angle",!0),m(v,b,j,"∞","\\infty",!0),m(v,b,j,"′","\\prime"),m(v,b,j,"△","\\triangle"),m(v,b,j,"Γ","\\Gamma",!0),m(v,b,j,"Δ","\\Delta",!0),m(v,b,j,"Θ","\\Theta",!0),m(v,b,j,"Λ","\\Lambda",!0),m(v,b,j,"Ξ","\\Xi",!0),m(v,b,j,"Π","\\Pi",!0),m(v,b,j,"Σ","\\Sigma",!0),m(v,b,j,"Υ","\\Upsilon",!0),m(v,b,j,"Φ","\\Phi",!0),m(v,b,j,"Ψ","\\Psi",!0),m(v,b,j,"Ω","\\Omega",!0),m(v,b,j,"A","Α"),m(v,b,j,"B","Β"),m(v,b,j,"E","Ε"),m(v,b,j,"Z","Ζ"),m(v,b,j,"H","Η"),m(v,b,j,"I","Ι"),m(v,b,j,"K","Κ"),m(v,b,j,"M","Μ"),m(v,b,j,"N","Ν"),m(v,b,j,"O","Ο"),m(v,b,j,"P","Ρ"),m(v,b,j,"T","Τ"),m(v,b,j,"X","Χ"),m(v,b,j,"¬","\\neg",!0),m(v,b,j,"¬","\\lnot"),m(v,b,j,"⊤","\\top"),m(v,b,j,"⊥","\\bot"),m(v,b,j,"∅","\\emptyset"),m(v,N,j,"∅","\\varnothing"),m(v,b,xe,"α","\\alpha",!0),m(v,b,xe,"β","\\beta",!0),m(v,b,xe,"γ","\\gamma",!0),m(v,b,xe,"δ","\\delta",!0),m(v,b,xe,"ϵ","\\epsilon",!0),m(v,b,xe,"ζ","\\zeta",!0),m(v,b,xe,"η","\\eta",!0),m(v,b,xe,"θ","\\theta",!0),m(v,b,xe,"ι","\\iota",!0),m(v,b,xe,"κ","\\kappa",!0),m(v,b,xe,"λ","\\lambda",!0),m(v,b,xe,"μ","\\mu",!0),m(v,b,xe,"ν","\\nu",!0),m(v,b,xe,"ξ","\\xi",!0),m(v,b,xe,"ο","\\omicron",!0),m(v,b,xe,"π","\\pi",!0),m(v,b,xe,"ρ","\\rho",!0),m(v,b,xe,"σ","\\sigma",!0),m(v,b,xe,"τ","\\tau",!0),m(v,b,xe,"υ","\\upsilon",!0),m(v,b,xe,"ϕ","\\phi",!0),m(v,b,xe,"χ","\\chi",!0),m(v,b,xe,"ψ","\\psi",!0),m(v,b,xe,"ω","\\omega",!0),m(v,b,xe,"ε","\\varepsilon",!0),m(v,b,xe,"ϑ","\\vartheta",!0),m(v,b,xe,"ϖ","\\varpi",!0),m(v,b,xe,"ϱ","\\varrho",!0),m(v,b,xe,"ς","\\varsigma",!0),m(v,b,xe,"φ","\\varphi",!0),m(v,b,ge,"∗","*",!0),m(v,b,ge,"+","+"),m(v,b,ge,"−","-",!0),m(v,b,ge,"⋅","\\cdot",!0),m(v,b,ge,"∘","\\circ",!0),m(v,b,ge,"÷","\\div",!0),m(v,b,ge,"±","\\pm",!0),m(v,b,ge,"×","\\times",!0),m(v,b,ge,"∩","\\cap",!0),m(v,b,ge,"∪","\\cup",!0),m(v,b,ge,"∖","\\setminus",!0),m(v,b,ge,"∧","\\land"),m(v,b,ge,"∨","\\lor"),m(v,b,ge,"∧","\\wedge",!0),m(v,b,ge,"∨","\\vee",!0),m(v,b,j,"√","\\surd"),m(v,b,ln,"⟨","\\langle",!0),m(v,b,ln,"∣","\\lvert"),m(v,b,ln,"∥","\\lVert"),m(v,b,jt,"?","?"),m(v,b,jt,"!","!"),m(v,b,jt,"⟩","\\rangle",!0),m(v,b,jt,"∣","\\rvert"),m(v,b,jt,"∥","\\rVert"),m(v,b,V,"=","="),m(v,b,V,":",":"),m(v,b,V,"≈","\\approx",!0),m(v,b,V,"≅","\\cong",!0),m(v,b,V,"≥","\\ge"),m(v,b,V,"≥","\\geq",!0),m(v,b,V,"←","\\gets"),m(v,b,V,">","\\gt",!0),m(v,b,V,"∈","\\in",!0),m(v,b,V,"","\\@not"),m(v,b,V,"⊂","\\subset",!0),m(v,b,V,"⊃","\\supset",!0),m(v,b,V,"⊆","\\subseteq",!0),m(v,b,V,"⊇","\\supseteq",!0),m(v,N,V,"⊈","\\nsubseteq",!0),m(v,N,V,"⊉","\\nsupseteq",!0),m(v,b,V,"⊨","\\models"),m(v,b,V,"←","\\leftarrow",!0),m(v,b,V,"≤","\\le"),m(v,b,V,"≤","\\leq",!0),m(v,b,V,"<","\\lt",!0),m(v,b,V,"→","\\rightarrow",!0),m(v,b,V,"→","\\to"),m(v,N,V,"≱","\\ngeq",!0),m(v,N,V,"≰","\\nleq",!0),m(v,b,zn," ","\\ "),m(v,b,zn," ","\\space"),m(v,b,zn," ","\\nobreakspace"),m(ne,b,zn," ","\\ "),m(ne,b,zn," "," "),m(ne,b,zn," ","\\space"),m(ne,b,zn," ","\\nobreakspace"),m(v,b,zn,null,"\\nobreak"),m(v,b,zn,null,"\\allowbreak"),m(v,b,Zs,",",","),m(v,b,Zs,";",";"),m(v,N,ge,"⊼","\\barwedge",!0),m(v,N,ge,"⊻","\\veebar",!0),m(v,b,ge,"⊙","\\odot",!0),m(v,b,ge,"⊕","\\oplus",!0),m(v,b,ge,"⊗","\\otimes",!0),m(v,b,j,"∂","\\partial",!0),m(v,b,ge,"⊘","\\oslash",!0),m(v,N,ge,"⊚","\\circledcirc",!0),m(v,N,ge,"⊡","\\boxdot",!0),m(v,b,ge,"△","\\bigtriangleup"),m(v,b,ge,"▽","\\bigtriangledown"),m(v,b,ge,"†","\\dagger"),m(v,b,ge,"⋄","\\diamond"),m(v,b,ge,"⋆","\\star"),m(v,b,ge,"◃","\\triangleleft"),m(v,b,ge,"▹","\\triangleright"),m(v,b,ln,"{","\\{"),m(ne,b,j,"{","\\{"),m(ne,b,j,"{","\\textbraceleft"),m(v,b,jt,"}","\\}"),m(ne,b,j,"}","\\}"),m(ne,b,j,"}","\\textbraceright"),m(v,b,ln,"{","\\lbrace"),m(v,b,jt,"}","\\rbrace"),m(v,b,ln,"[","\\lbrack",!0),m(ne,b,j,"[","\\lbrack",!0),m(v,b,jt,"]","\\rbrack",!0),m(ne,b,j,"]","\\rbrack",!0),m(v,b,ln,"(","\\lparen",!0),m(v,b,jt,")","\\rparen",!0),m(ne,b,j,"<","\\textless",!0),m(ne,b,j,">","\\textgreater",!0),m(v,b,ln,"⌊","\\lfloor",!0),m(v,b,jt,"⌋","\\rfloor",!0),m(v,b,ln,"⌈","\\lceil",!0),m(v,b,jt,"⌉","\\rceil",!0),m(v,b,j,"\\","\\backslash"),m(v,b,j,"∣","|"),m(v,b,j,"∣","\\vert"),m(ne,b,j,"|","\\textbar",!0),m(v,b,j,"∥","\\|"),m(v,b,j,"∥","\\Vert"),m(ne,b,j,"∥","\\textbardbl"),m(ne,b,j,"~","\\textasciitilde"),m(ne,b,j,"\\","\\textbackslash"),m(ne,b,j,"^","\\textasciicircum"),m(v,b,V,"↑","\\uparrow",!0),m(v,b,V,"⇑","\\Uparrow",!0),m(v,b,V,"↓","\\downarrow",!0),m(v,b,V,"⇓","\\Downarrow",!0),m(v,b,V,"↕","\\updownarrow",!0),m(v,b,V,"⇕","\\Updownarrow",!0),m(v,b,et,"∐","\\coprod"),m(v,b,et,"⋁","\\bigvee"),m(v,b,et,"⋀","\\bigwedge"),m(v,b,et,"⨄","\\biguplus"),m(v,b,et,"⋂","\\bigcap"),m(v,b,et,"⋃","\\bigcup"),m(v,b,et,"∫","\\int"),m(v,b,et,"∫","\\intop"),m(v,b,et,"∬","\\iint"),m(v,b,et,"∭","\\iiint"),m(v,b,et,"∏","\\prod"),m(v,b,et,"∑","\\sum"),m(v,b,et,"⨂","\\bigotimes"),m(v,b,et,"⨁","\\bigoplus"),m(v,b,et,"⨀","\\bigodot"),m(v,b,et,"∮","\\oint"),m(v,b,et,"∯","\\oiint"),m(v,b,et,"∰","\\oiiint"),m(v,b,et,"⨆","\\bigsqcup"),m(v,b,et,"∫","\\smallint"),m(ne,b,br,"…","\\textellipsis"),m(v,b,br,"…","\\mathellipsis"),m(ne,b,br,"…","\\ldots",!0),m(v,b,br,"…","\\ldots",!0),m(v,b,br,"⋯","\\@cdots",!0),m(v,b,br,"⋱","\\ddots",!0),m(v,b,j,"⋮","\\varvdots"),m(ne,b,j,"⋮","\\varvdots"),m(v,b,ot,"ˊ","\\acute"),m(v,b,ot,"ˋ","\\grave"),m(v,b,ot,"¨","\\ddot"),m(v,b,ot,"~","\\tilde"),m(v,b,ot,"ˉ","\\bar"),m(v,b,ot,"˘","\\breve"),m(v,b,ot,"ˇ","\\check"),m(v,b,ot,"^","\\hat"),m(v,b,ot,"⃗","\\vec"),m(v,b,ot,"˙","\\dot"),m(v,b,ot,"˚","\\mathring"),m(v,b,xe,"","\\@imath"),m(v,b,xe,"","\\@jmath"),m(v,b,j,"ı","ı"),m(v,b,j,"ȷ","ȷ"),m(ne,b,j,"ı","\\i",!0),m(ne,b,j,"ȷ","\\j",!0),m(ne,b,j,"ß","\\ss",!0),m(ne,b,j,"æ","\\ae",!0),m(ne,b,j,"œ","\\oe",!0),m(ne,b,j,"ø","\\o",!0),m(ne,b,j,"Æ","\\AE",!0),m(ne,b,j,"Œ","\\OE",!0),m(ne,b,j,"Ø","\\O",!0),m(ne,b,ot,"ˊ","\\'"),m(ne,b,ot,"ˋ","\\`"),m(ne,b,ot,"ˆ","\\^"),m(ne,b,ot,"˜","\\~"),m(ne,b,ot,"ˉ","\\="),m(ne,b,ot,"˘","\\u"),m(ne,b,ot,"˙","\\."),m(ne,b,ot,"¸","\\c"),m(ne,b,ot,"˚","\\r"),m(ne,b,ot,"ˇ","\\v"),m(ne,b,ot,"¨",'\\"'),m(ne,b,ot,"˝","\\H"),m(ne,b,ot,"◯","\\textcircled");const Yo={"--":!0,"---":!0,"``":!0,"''":!0};m(ne,b,j,"–","--",!0),m(ne,b,j,"–","\\textendash"),m(ne,b,j,"—","---",!0),m(ne,b,j,"—","\\textemdash"),m(ne,b,j,"‘","`",!0),m(ne,b,j,"‘","\\textquoteleft"),m(ne,b,j,"’","'",!0),m(ne,b,j,"’","\\textquoteright"),m(ne,b,j,"“","``",!0),m(ne,b,j,"“","\\textquotedblleft"),m(ne,b,j,"”","''",!0),m(ne,b,j,"”","\\textquotedblright"),m(v,b,j,"°","\\degree",!0),m(ne,b,j,"°","\\degree"),m(ne,b,j,"°","\\textdegree",!0),m(v,b,j,"£","\\pounds"),m(v,b,j,"£","\\mathsterling",!0),m(ne,b,j,"£","\\pounds"),m(ne,b,j,"£","\\textsterling",!0),m(v,N,j,"✠","\\maltese"),m(ne,N,j,"✠","\\maltese");const Nl='0123456789/@."';for(let a=0;a<Nl.length;a++){const i=Nl.charAt(a);m(v,b,j,i,i)}const ei='0123456789!@*()-=+";:?/.,';for(let a=0;a<ei.length;a++){const i=ei.charAt(a);m(ne,b,j,i,i)}const ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<ti.length;a++){const i=ti.charAt(a);m(v,b,xe,i,i),m(ne,b,j,i,i)}m(v,N,j,"C","ℂ"),m(ne,N,j,"C","ℂ"),m(v,N,j,"H","ℍ"),m(ne,N,j,"H","ℍ"),m(v,N,j,"N","ℕ"),m(ne,N,j,"N","ℕ"),m(v,N,j,"P","ℙ"),m(ne,N,j,"P","ℙ"),m(v,N,j,"Q","ℚ"),m(ne,N,j,"Q","ℚ"),m(v,N,j,"R","ℝ"),m(ne,N,j,"R","ℝ"),m(v,N,j,"Z","ℤ"),m(ne,N,j,"Z","ℤ"),m(v,b,xe,"h","ℎ"),m(ne,b,xe,"h","ℎ");let Te="";for(let a=0;a<ti.length;a++){const i=ti.charAt(a);Te=String.fromCharCode(55349,56320+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56372+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56424+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56580+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56684+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56736+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56788+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56840+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56944+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),a<26&&(Te=String.fromCharCode(55349,56632+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,56476+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te))}Te="𝕜",m(v,b,xe,"k",Te),m(ne,b,j,"k",Te);for(let a=0;a<10;a++){const i=a.toString();Te=String.fromCharCode(55349,57294+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,57314+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,57324+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te),Te=String.fromCharCode(55349,57334+a),m(v,b,xe,i,Te),m(ne,b,j,i,Te)}const Lr="ÐÞþ";for(let a=0;a<Lr.length;a++){const i=Lr.charAt(a);m(v,b,xe,i,i),m(ne,b,j,i,i)}const Wn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Fi=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Uu=function(a,i){const l=a.charCodeAt(0),h=a.charCodeAt(1),f=(l-55296)*1024+(h-56320)+65536,y=i==="math"?0:1;if(119808<=f&&f<120484){const x=Math.floor((f-119808)/26);return[Wn[x][2],Wn[x][y]]}else if(120782<=f&&f<=120831){const x=Math.floor((f-120782)/10);return[Fi[x][2],Fi[x][y]]}else{if(f===120485||f===120486)return[Wn[0][2],Wn[0][y]];if(120486<f&&f<120782)return["",""];throw new o("Unsupported character: "+a)}};class ps{constructor(i){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=i,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createDocumentFragment();for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i}toText(){const i=l=>l.toText();return this.children.map(i).join("")}}const ni=function(a,i,l){return Ze[l][a]&&Ze[l][a].replace&&(a=Ze[l][a].replace),{value:a,metrics:De(a,i,l)}},kn=function(a,i,l,h,f){const y=ni(a,i,l),x=y.metrics;a=y.value;let S;if(x){let I=x.italic;(l==="text"||h&&h.font==="mathit")&&(I=0),S=new an(a,x.height,x.depth,I,x.skew,x.width,f)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+a+"' in style '"+i+"' and mode '"+l+"'")),S=new an(a,0,0,0,0,0,f);if(h){S.maxFontSize=h.sizeMultiplier,h.style.isTight()&&S.classes.push("mtight");const I=h.getColor();I&&(S.style.color=I)}return S},Xo=function(a,i,l,h){return h===void 0&&(h=[]),l.font==="boldsymbol"&&ni(a,"Main-Bold",i).metrics?kn(a,"Main-Bold",i,l,h.concat(["mathbf"])):a==="\\"||Ze[i][a].font==="main"?kn(a,"Main-Regular",i,l,h):kn(a,"AMS-Regular",i,l,h.concat(["amsrm"]))},Jo=function(a,i,l,h,f){return f!=="textord"&&ni(a,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Pl=function(a,i,l){const h=a.mode,f=a.text,y=["mord"],x=h==="math"||h==="text"&&i.font,S=x?i.font:i.fontFamily;let I="",B="";if(f.charCodeAt(0)===55349&&([I,B]=Uu(f,h)),I.length>0)return kn(f,I,h,i,y.concat(B));if(S){let $,G;if(S==="boldsymbol"){const X=Jo(f,h,i,y,l);$=X.fontName,G=[X.fontClass]}else x?($=gs[S].fontName,G=[S]):($=Br(S,i.fontWeight,i.fontShape),G=[S,i.fontWeight,i.fontShape]);if(ni(f,$,h).metrics)return kn(f,$,h,i,y.concat(G));if(Yo.hasOwnProperty(f)&&$.slice(0,10)==="Typewriter"){const X=[];for(let re=0;re<f.length;re++)X.push(kn(f[re],$,h,i,y.concat(G)));return Gn(X)}}if(l==="mathord")return kn(f,"Math-Italic",h,i,y.concat(["mathnormal"]));if(l==="textord"){const $=Ze[h][f]&&Ze[h][f].font;if($==="ams"){const G=Br("amsrm",i.fontWeight,i.fontShape);return kn(f,G,h,i,y.concat("amsrm",i.fontWeight,i.fontShape))}else if($==="main"||!$){const G=Br("textrm",i.fontWeight,i.fontShape);return kn(f,G,h,i,y.concat(i.fontWeight,i.fontShape))}else{const G=Br($,i.fontWeight,i.fontShape);return kn(f,G,h,i,y.concat(G,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},Ml=(a,i)=>{if(or(a.classes)!==or(i.classes)||a.skew!==i.skew||a.maxFontSize!==i.maxFontSize)return!1;if(a.classes.length===1){const l=a.classes[0];if(l==="mbin"||l==="mord")return!1}for(const l in a.style)if(a.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;for(const l in i.style)if(i.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;return!0},qu=a=>{for(let i=0;i<a.length-1;i++){const l=a[i],h=a[i+1];l instanceof an&&h instanceof an&&Ml(l,h)&&(l.text+=h.text,l.height=Math.max(l.height,h.height),l.depth=Math.max(l.depth,h.depth),l.italic=h.italic,a.splice(i+1,1),i--)}return a},Zo=function(a){let i=0,l=0,h=0;for(let f=0;f<a.children.length;f++){const y=a.children[f];y.height>i&&(i=y.height),y.depth>l&&(l=y.depth),y.maxFontSize>h&&(h=y.maxFontSize)}a.height=i,a.depth=l,a.maxFontSize=h},Qt=function(a,i,l,h){const f=new fs(a,i,l,h);return Zo(f),f},ea=(a,i,l,h)=>new fs(a,i,l,h),Hu=function(a,i,l){const h=Qt([a],[],i);return h.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),h.style.borderBottomWidth=he(h.height),h.maxFontSize=1,h},Fr=function(a,i,l,h){const f=new Li(a,i,l,h);return Zo(f),f},Gn=function(a){const i=new ps(a);return Zo(i),i},Bi=function(a,i){return a instanceof ps?Qt([],[a],i):a},ji=function(a){if(a.positionType==="individualShift"){const l=a.children,h=[l[0]],f=-l[0].shift-l[0].elem.depth;let y=f;for(let x=1;x<l.length;x++){const S=-l[x].shift-y-l[x].elem.depth,I=S-(l[x-1].elem.height+l[x-1].elem.depth);y=y+S,h.push({type:"kern",size:I}),h.push(l[x])}return{children:h,depth:f}}let i;if(a.positionType==="top"){let l=a.positionData;for(let h=0;h<a.children.length;h++){const f=a.children[h];l-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}i=l}else if(a.positionType==="bottom")i=-a.positionData;else{const l=a.children[0];if(l.type!=="elem")throw new Error('First child must have type "elem".');if(a.positionType==="shift")i=-l.elem.depth-a.positionData;else if(a.positionType==="firstBaseline")i=-l.elem.depth;else throw new Error("Invalid positionType "+a.positionType+".")}return{children:a.children,depth:i}},Dl=function(a,i){const{children:l,depth:h}=ji(a);let f=0;for(let re=0;re<l.length;re++){const ye=l[re];if(ye.type==="elem"){const _e=ye.elem;f=Math.max(f,_e.maxFontSize,_e.height)}}f+=2;const y=Qt(["pstrut"],[]);y.style.height=he(f);const x=[];let S=h,I=h,B=h;for(let re=0;re<l.length;re++){const ye=l[re];if(ye.type==="kern")B+=ye.size;else{const _e=ye.elem,Oe=ye.wrapperClasses||[],Pe=ye.wrapperStyle||{},Fe=Qt(Oe,[y,_e],void 0,Pe);Fe.style.top=he(-f-B-_e.depth),ye.marginLeft&&(Fe.style.marginLeft=ye.marginLeft),ye.marginRight&&(Fe.style.marginRight=ye.marginRight),x.push(Fe),B+=_e.height+_e.depth}S=Math.min(S,B),I=Math.max(I,B)}const $=Qt(["vlist"],x);$.style.height=he(I);let G;if(S<0){const re=Qt([],[]),ye=Qt(["vlist"],[re]);ye.style.height=he(-S);const _e=Qt(["vlist-s"],[new an("​")]);G=[Qt(["vlist-r"],[$,_e]),Qt(["vlist-r"],[ye])]}else G=[Qt(["vlist-r"],[$])];const X=Qt(["vlist-t"],G);return G.length===2&&X.classes.push("vlist-t2"),X.height=I,X.depth=-S,X},it=(a,i)=>{const l=Qt(["mspace"],[],i),h=Je(a,i);return l.style.marginRight=he(h),l},Br=function(a,i,l){let h="";switch(a){case"amsrm":h="AMS";break;case"textrm":h="Main";break;case"textsf":h="SansSerif";break;case"texttt":h="Typewriter";break;default:h=a}let f;return i==="textbf"&&l==="textit"?f="BoldItalic":i==="textbf"?f="Bold":i==="textit"?f="Italic":f="Regular",h+"-"+f},gs={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ys={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Q={fontMap:gs,makeSymbol:kn,mathsym:Xo,makeSpan:Qt,makeSvgSpan:ea,makeLineSpan:Hu,makeAnchor:Fr,makeFragment:Gn,wrapFragment:Bi,makeVList:Dl,makeOrd:Pl,makeGlue:it,staticSvg:function(a,i){const[l,h,f]=ys[a],y=new ar(l),x=new Gt([y],{width:he(h),height:he(f),style:"width:"+he(h),viewBox:"0 0 "+1e3*h+" "+1e3*f,preserveAspectRatio:"xMinYMin"}),S=ea(["overlay"],[x],i);return S.height=f,S.style.height=he(f),S.style.width=he(h),S},svgData:ys,tryCombineChars:qu};const ut={number:3,unit:"mu"},jr={number:4,unit:"mu"},lr={number:5,unit:"mu"},$u={mord:{mop:ut,mbin:jr,mrel:lr,minner:ut},mop:{mord:ut,mop:ut,mrel:lr,minner:ut},mbin:{mord:jr,mop:jr,mopen:jr,minner:jr},mrel:{mord:lr,mop:lr,mopen:lr,minner:lr},mopen:{},mclose:{mop:ut,mbin:jr,mrel:lr,minner:ut},mpunct:{mord:ut,mop:ut,mrel:lr,mopen:ut,mclose:ut,mpunct:ut,minner:ut},minner:{mord:ut,mop:ut,mbin:jr,mrel:lr,mopen:ut,mpunct:ut,minner:ut}},ri={mord:{mop:ut},mop:{mord:ut,mop:ut},mbin:{},mrel:{},mopen:{},mclose:{mop:ut},mpunct:{},minner:{mop:ut}},ur={},si={},ii={};function pe(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:x}=a;const S={type:i,numArgs:h.numArgs,argTypes:h.argTypes,allowedInArgument:!!h.allowedInArgument,allowedInText:!!h.allowedInText,allowedInMath:h.allowedInMath===void 0?!0:h.allowedInMath,numOptionalArgs:h.numOptionalArgs||0,infix:!!h.infix,primitive:!!h.primitive,handler:f};for(let I=0;I<l.length;++I)ur[l[I]]=S;i&&(y&&(si[i]=y),x&&(ii[i]=x))}function An(a){let{type:i,htmlBuilder:l,mathmlBuilder:h}=a;pe({type:i,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:l,mathmlBuilder:h})}const Ui=function(a){return a.type==="ordgroup"&&a.body.length===1?a.body[0]:a},vt=function(a){return a.type==="ordgroup"?a.body:[a]},cr=Q.makeSpan,Sr=["leftmost","mbin","mopen","mrel","mop","mpunct"],Wu=["rightmost","mrel","mclose","mpunct"],Gu={display:oe.DISPLAY,text:oe.TEXT,script:oe.SCRIPT,scriptscript:oe.SCRIPTSCRIPT},qi={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ft=function(a,i,l,h){h===void 0&&(h=[null,null]);const f=[];for(let B=0;B<a.length;B++){const $=be(a[B],i);if($ instanceof ps){const G=$.children;f.push(...G)}else f.push($)}if(Q.tryCombineChars(f),!l)return f;let y=i;if(a.length===1){const B=a[0];B.type==="sizing"?y=i.havingSize(B.size):B.type==="styling"&&(y=i.havingStyle(Gu[B.style]))}const x=cr([h[0]||"leftmost"],[],i),S=cr([h[1]||"rightmost"],[],i),I=l==="root";return Hi(f,(B,$)=>{const G=$.classes[0],X=B.classes[0];G==="mbin"&&Wu.includes(X)?$.classes[0]="mord":X==="mbin"&&Sr.includes(G)&&(B.classes[0]="mord")},{node:x},S,I),Hi(f,(B,$)=>{const G=$i($),X=$i(B),re=G&&X?B.hasClass("mtight")?ri[G][X]:$u[G][X]:null;if(re)return Q.makeGlue(re,y)},{node:x},S,I),f},Hi=function(a,i,l,h,f){h&&a.push(h);let y=0;for(;y<a.length;y++){const x=a[y],S=vs(x);if(S){Hi(S.children,i,l,null,f);continue}const I=!x.hasClass("mspace");if(I){const B=i(x,l.node);B&&(l.insertAfter?l.insertAfter(B):(a.unshift(B),y++))}I?l.node=x:f&&x.hasClass("newline")&&(l.node=cr(["leftmost"])),l.insertAfter=(B=>$=>{a.splice(B+1,0,$),y++})(y)}h&&a.pop()},vs=function(a){return a instanceof ps||a instanceof Li||a instanceof fs&&a.hasClass("enclosing")?a:null},Ur=function(a,i){const l=vs(a);if(l){const h=l.children;if(h.length){if(i==="right")return Ur(h[h.length-1],"right");if(i==="left")return Ur(h[0],"left")}}return a},$i=function(a,i){return a?(i&&(a=Ur(a,i)),qi[a.classes[0]]||null):null},qr=function(a,i){const l=["nulldelimiter"].concat(a.baseSizingClasses());return cr(i.concat(l))},be=function(a,i,l){if(!a)return cr();if(si[a.type]){let h=si[a.type](a,i);if(l&&i.size!==l.size){h=cr(i.sizingClasses(l),[h],i);const f=i.sizeMultiplier/l.sizeMultiplier;h.height*=f,h.depth*=f}return h}else throw new o("Got group of unknown type: '"+a.type+"'")};function Wi(a,i){const l=cr(["base"],a,i),h=cr(["strut"]);return h.style.height=he(l.height+l.depth),l.depth&&(h.style.verticalAlign=he(-l.depth)),l.children.unshift(h),l}function ta(a,i){let l=null;a.length===1&&a[0].type==="tag"&&(l=a[0].tag,a=a[0].body);const h=ft(a,i,"root");let f;h.length===2&&h[1].hasClass("tag")&&(f=h.pop());const y=[];let x=[];for(let B=0;B<h.length;B++)if(x.push(h[B]),h[B].hasClass("mbin")||h[B].hasClass("mrel")||h[B].hasClass("allowbreak")){let $=!1;for(;B<h.length-1&&h[B+1].hasClass("mspace")&&!h[B+1].hasClass("newline");)B++,x.push(h[B]),h[B].hasClass("nobreak")&&($=!0);$||(y.push(Wi(x,i)),x=[])}else h[B].hasClass("newline")&&(x.pop(),x.length>0&&(y.push(Wi(x,i)),x=[]),y.push(h[B]));x.length>0&&y.push(Wi(x,i));let S;l?(S=Wi(ft(l,i,!0)),S.classes=["tag"],y.push(S)):f&&y.push(f);const I=cr(["katex-html"],y);if(I.setAttribute("aria-hidden","true"),S){const B=S.children[0];B.style.height=he(I.height+I.depth),I.depth&&(B.style.verticalAlign=he(-I.depth))}return I}function na(a){return new ps(a)}class un{constructor(i,l,h){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=i,this.attributes={},this.children=l||[],this.classes=h||[]}setAttribute(i,l){this.attributes[i]=l}getAttribute(i){return this.attributes[i]}toNode(){const i=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);this.classes.length>0&&(i.className=or(this.classes));for(let l=0;l<this.children.length;l++)if(this.children[l]instanceof On&&this.children[l+1]instanceof On){let h=this.children[l].toText()+this.children[++l].toText();for(;this.children[l+1]instanceof On;)h+=this.children[++l].toText();i.appendChild(new On(h).toNode())}else i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="<"+this.type;for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="',i+=W.escape(this.attributes[l]),i+='"');this.classes.length>0&&(i+=' class ="'+W.escape(or(this.classes))+'"'),i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</"+this.type+">",i}toText(){return this.children.map(i=>i.toText()).join("")}}class On{constructor(i){this.text=void 0,this.text=i}toNode(){return document.createTextNode(this.text)}toMarkup(){return W.escape(this.toText())}toText(){return this.text}}class Gi{constructor(i){this.width=void 0,this.character=void 0,this.width=i,i>=.05555&&i<=.05556?this.character=" ":i>=.1666&&i<=.1667?this.character=" ":i>=.2222&&i<=.2223?this.character=" ":i>=.2777&&i<=.2778?this.character="  ":i>=-.05556&&i<=-.05555?this.character=" ⁣":i>=-.1667&&i<=-.1666?this.character=" ⁣":i>=-.2223&&i<=-.2222?this.character=" ⁣":i>=-.2778&&i<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const i=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return i.setAttribute("width",he(this.width)),i}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+he(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var se={MathNode:un,TextNode:On,SpaceNode:Gi,newDocumentFragment:na};const Tt=function(a,i,l){return Ze[i][a]&&Ze[i][a].replace&&a.charCodeAt(0)!==55349&&!(Yo.hasOwnProperty(a)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(a=Ze[i][a].replace),new se.TextNode(a)},Ki=function(a){return a.length===1?a[0]:new se.MathNode("mrow",a)},ra=function(a,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";const l=i.font;if(!l||l==="mathnormal")return null;const h=a.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return a.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";let f=a.text;if(["\\imath","\\jmath"].includes(f))return null;Ze[h][f]&&Ze[h][f].replace&&(f=Ze[h][f].replace);const y=Q.fontMap[l].fontName;return De(f,y,h)?Q.fontMap[l].variant:null};function Hr(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){const i=a.children[0];return i instanceof On&&i.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){const i=a.children[0];return i instanceof On&&i.text===","}else return!1}const Yt=function(a,i,l){if(a.length===1){const y=$e(a[0],i);return l&&y instanceof un&&y.type==="mo"&&(y.setAttribute("lspace","0em"),y.setAttribute("rspace","0em")),[y]}const h=[];let f;for(let y=0;y<a.length;y++){const x=$e(a[y],i);if(x instanceof un&&f instanceof un){if(x.type==="mtext"&&f.type==="mtext"&&x.getAttribute("mathvariant")===f.getAttribute("mathvariant")){f.children.push(...x.children);continue}else if(x.type==="mn"&&f.type==="mn"){f.children.push(...x.children);continue}else if(Hr(x)&&f.type==="mn"){f.children.push(...x.children);continue}else if(x.type==="mn"&&Hr(f))x.children=[...f.children,...x.children],h.pop();else if((x.type==="msup"||x.type==="msub")&&x.children.length>=1&&(f.type==="mn"||Hr(f))){const S=x.children[0];S instanceof un&&S.type==="mn"&&(S.children=[...f.children,...S.children],h.pop())}else if(f.type==="mi"&&f.children.length===1){const S=f.children[0];if(S instanceof On&&S.text==="̸"&&(x.type==="mo"||x.type==="mi"||x.type==="mn")){const I=x.children[0];I instanceof On&&I.text.length>0&&(I.text=I.text.slice(0,1)+"̸"+I.text.slice(1),h.pop())}}}h.push(x),f=x}return h},Kn=function(a,i,l){return Ki(Yt(a,i,l))},$e=function(a,i){if(!a)return new se.MathNode("mrow");if(ii[a.type])return ii[a.type](a,i);throw new o("Got group of unknown type: '"+a.type+"'")};function sa(a,i,l,h,f){const y=Yt(a,l);let x;y.length===1&&y[0]instanceof un&&["mrow","mtable"].includes(y[0].type)?x=y[0]:x=new se.MathNode("mrow",y);const S=new se.MathNode("annotation",[new se.TextNode(i)]);S.setAttribute("encoding","application/x-tex");const I=new se.MathNode("semantics",[x,S]),B=new se.MathNode("math",[I]);B.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),h&&B.setAttribute("display","block");const $=f?"katex":"katex-mathml";return Q.makeSpan([$],[B])}const oi=function(a){return new Di({style:a.displayMode?oe.DISPLAY:oe.TEXT,maxSize:a.maxSize,minRuleThickness:a.minRuleThickness})},Vl=function(a,i){if(i.displayMode){const l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),a=Q.makeSpan(l,[a])}return a},zl=function(a,i,l){const h=oi(l);let f;if(l.output==="mathml")return sa(a,i,h,l.displayMode,!0);if(l.output==="html"){const y=ta(a,h);f=Q.makeSpan(["katex"],[y])}else{const y=sa(a,i,h,l.displayMode,!1),x=ta(a,h);f=Q.makeSpan(["katex"],[y,x])}return Vl(f,l)},ai=function(a,i,l){const h=oi(l),f=ta(a,h),y=Q.makeSpan(["katex"],[f]);return Vl(y,l)},Ol={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Ll=function(a){const i=new se.MathNode("mo",[new se.TextNode(Ol[a.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},ia={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},oa=function(a){return a.type==="ordgroup"?a.body.length:1};var Qn={encloseSpan:function(a,i,l,h,f){let y;const x=a.height+a.depth+l+h;if(/fbox|color|angl/.test(i)){if(y=Q.makeSpan(["stretchy",i],[],f),i==="fbox"){const S=f.color&&f.getColor();S&&(y.style.borderColor=S)}}else{const S=[];/^[bx]cancel$/.test(i)&&S.push(new ms({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&S.push(new ms({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const I=new Gt(S,{width:"100%",height:he(x)});y=Q.makeSvgSpan([],[I],f)}return y.height=x,y.style.height=he(x),y},mathMLnode:Ll,svgSpan:function(a,i){function l(){let x=4e5;const S=a.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(S)){const B=oa(a.base);let $,G,X;if(B>5)S==="widehat"||S==="widecheck"?($=420,x=2364,X=.42,G=S+"4"):($=312,x=2340,X=.34,G="tilde4");else{const _e=[1,1,2,2,3,3][B];S==="widehat"||S==="widecheck"?(x=[0,1062,2364,2364,2364][_e],$=[0,239,300,360,420][_e],X=[0,.24,.3,.3,.36,.42][_e],G=S+_e):(x=[0,600,1033,2339,2340][_e],$=[0,260,286,306,312][_e],X=[0,.26,.286,.3,.306,.34][_e],G="tilde"+_e)}const re=new ar(G),ye=new Gt([re],{width:"100%",height:he(X),viewBox:"0 0 "+x+" "+$,preserveAspectRatio:"none"});return{span:Q.makeSvgSpan([],[ye],i),minWidth:0,height:X}}else{const I=[],B=ia[S],[$,G,X]=B,re=X/1e3,ye=$.length;let _e,Oe;if(ye===1){const Pe=B[3];_e=["hide-tail"],Oe=[Pe]}else if(ye===2)_e=["halfarrow-left","halfarrow-right"],Oe=["xMinYMin","xMaxYMin"];else if(ye===3)_e=["brace-left","brace-center","brace-right"],Oe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ye+" children.");for(let Pe=0;Pe<ye;Pe++){const Fe=new ar($[Pe]),Ke=new Gt([Fe],{width:"400em",height:he(re),viewBox:"0 0 "+x+" "+X,preserveAspectRatio:Oe[Pe]+" slice"}),at=Q.makeSvgSpan([_e[Pe]],[Ke],i);if(ye===1)return{span:at,minWidth:G,height:re};at.style.height=he(re),I.push(at)}return{span:Q.makeSpan(["stretchy"],I,i),minWidth:G,height:re}}}const{span:h,minWidth:f,height:y}=l();return h.height=y,h.style.height=he(y),f>0&&(h.style.minWidth=he(f)),h}};function Ie(a,i){if(!a||a.type!==i)throw new Error("Expected node of type "+i+", but got "+(a?"node of type "+a.type:String(a)));return a}function hr(a){const i=li(a);if(!i)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return i}function li(a){return a&&(a.type==="atom"||Kt.hasOwnProperty(a.type))?a:null}const Qi=(a,i)=>{let l,h,f;a&&a.type==="supsub"?(h=Ie(a.base,"accent"),l=h.base,a.base=l,f=Xs(be(a,i)),a.base=h):(h=Ie(a,"accent"),l=h.base);const y=be(l,i.havingCrampedStyle()),x=h.isShifty&&W.isCharacterBox(l);let S=0;if(x){const X=W.getBaseElem(l),re=be(X,i.havingCrampedStyle());S=Qo(re).skew}const I=h.label==="\\c";let B=I?y.height+y.depth:Math.min(y.height,i.fontMetrics().xHeight),$;if(h.isStretchy)$=Qn.svgSpan(h,i),$=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"elem",elem:$,wrapperClasses:["svg-align"],wrapperStyle:S>0?{width:"calc(100% - "+he(2*S)+")",marginLeft:he(2*S)}:void 0}]},i);else{let X,re;h.label==="\\vec"?(X=Q.staticSvg("vec",i),re=Q.svgData.vec[1]):(X=Q.makeOrd({mode:h.mode,text:h.label},i,"textord"),X=Qo(X),X.italic=0,re=X.width,I&&(B+=X.depth)),$=Q.makeSpan(["accent-body"],[X]);const ye=h.label==="\\textcircled";ye&&($.classes.push("accent-full"),B=y.height);let _e=S;ye||(_e-=re/2),$.style.left=he(_e),h.label==="\\textcircled"&&($.style.top=".2em"),$=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:-B},{type:"elem",elem:$}]},i)}const G=Q.makeSpan(["mord","accent"],[$],i);return f?(f.children[0]=G,f.height=Math.max(G.height,f.height),f.classes[0]="mord",f):G},la=(a,i)=>{const l=a.isStretchy?Qn.mathMLnode(a.label):new se.MathNode("mo",[Tt(a.label,a.mode)]),h=new se.MathNode("mover",[$e(a.base,i),l]);return h.setAttribute("accent","true"),h},Fl=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));pe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,i)=>{const l=Ui(i[0]),h=!Fl.test(a.funcName),f=!h||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:h,isShifty:f,base:l}},htmlBuilder:Qi,mathmlBuilder:la}),pe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,i)=>{const l=i[0];let h=a.parser.mode;return h==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),h="text"),{type:"accent",mode:h,label:a.funcName,isStretchy:!1,isShifty:!0,base:l}},htmlBuilder:Qi,mathmlBuilder:la}),pe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"accentUnder",mode:l.mode,label:h,base:f}},htmlBuilder:(a,i)=>{const l=be(a.base,i),h=Qn.svgSpan(a,i),f=a.label==="\\utilde"?.12:0,y=Q.makeVList({positionType:"top",positionData:l.height,children:[{type:"elem",elem:h,wrapperClasses:["svg-align"]},{type:"kern",size:f},{type:"elem",elem:l}]},i);return Q.makeSpan(["mord","accentunder"],[y],i)},mathmlBuilder:(a,i)=>{const l=Qn.mathMLnode(a.label),h=new se.MathNode("munder",[$e(a.base,i),l]);return h.setAttribute("accentunder","true"),h}});const $r=a=>{const i=new se.MathNode("mpadded",a?[a]:[]);return i.setAttribute("width","+0.6em"),i.setAttribute("lspace","0.3em"),i};pe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h,funcName:f}=a;return{type:"xArrow",mode:h.mode,label:f,body:i[0],below:l[0]}},htmlBuilder(a,i){const l=i.style;let h=i.havingStyle(l.sup());const f=Q.wrapFragment(be(a.body,h,i),i),y=a.label.slice(0,2)==="\\x"?"x":"cd";f.classes.push(y+"-arrow-pad");let x;a.below&&(h=i.havingStyle(l.sub()),x=Q.wrapFragment(be(a.below,h,i),i),x.classes.push(y+"-arrow-pad"));const S=Qn.svgSpan(a,i),I=-i.fontMetrics().axisHeight+.5*S.height;let B=-i.fontMetrics().axisHeight-.5*S.height-.111;(f.depth>.25||a.label==="\\xleftequilibrium")&&(B-=f.depth);let $;if(x){const G=-i.fontMetrics().axisHeight+x.height+.5*S.height+.111;$=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:S,shift:I},{type:"elem",elem:x,shift:G}]},i)}else $=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:S,shift:I}]},i);return $.children[0].children[0].children[1].classes.push("svg-align"),Q.makeSpan(["mrel","x-arrow"],[$],i)},mathmlBuilder(a,i){const l=Qn.mathMLnode(a.label);l.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");let h;if(a.body){const f=$r($e(a.body,i));if(a.below){const y=$r($e(a.below,i));h=new se.MathNode("munderover",[l,y,f])}else h=new se.MathNode("mover",[l,f])}else if(a.below){const f=$r($e(a.below,i));h=new se.MathNode("munder",[l,f])}else h=$r(),h=new se.MathNode("mover",[l,h]);return h}});const yn=Q.makeSpan;function ua(a,i){const l=ft(a.body,i,!0);return yn([a.mclass],l,i)}function ca(a,i){let l;const h=Yt(a.body,i);return a.mclass==="minner"?l=new se.MathNode("mpadded",h):a.mclass==="mord"?a.isCharacterBox?(l=h[0],l.type="mi"):l=new se.MathNode("mi",h):(a.isCharacterBox?(l=h[0],l.type="mo"):l=new se.MathNode("mo",h),a.mclass==="mbin"?(l.attributes.lspace="0.22em",l.attributes.rspace="0.22em"):a.mclass==="mpunct"?(l.attributes.lspace="0em",l.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(l.attributes.lspace="0em",l.attributes.rspace="0em"):a.mclass==="minner"&&(l.attributes.lspace="0.0556em",l.attributes.width="+0.1111em")),l}pe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"mclass",mode:l.mode,mclass:"m"+h.slice(5),body:vt(f),isCharacterBox:W.isCharacterBox(f)}},htmlBuilder:ua,mathmlBuilder:ca});const dr=a=>{const i=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return i.type==="atom"&&(i.family==="bin"||i.family==="rel")?"m"+i.family:"mord"};pe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,i){let{parser:l}=a;return{type:"mclass",mode:l.mode,mclass:dr(i[0]),body:vt(i[1]),isCharacterBox:W.isCharacterBox(i[1])}}}),pe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,i){let{parser:l,funcName:h}=a;const f=i[1],y=i[0];let x;h!=="\\stackrel"?x=dr(f):x="mrel";const S={type:"op",mode:f.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:h!=="\\stackrel",body:vt(f)},I={type:"supsub",mode:y.mode,base:S,sup:h==="\\underset"?null:y,sub:h==="\\underset"?y:null};return{type:"mclass",mode:l.mode,mclass:x,body:[I],isCharacterBox:W.isCharacterBox(I)}},htmlBuilder:ua,mathmlBuilder:ca}),pe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"pmb",mode:l.mode,mclass:dr(i[0]),body:vt(i[0])}},htmlBuilder(a,i){const l=ft(a.body,i,!0),h=Q.makeSpan([a.mclass],l,i);return h.style.textShadow="0.02em 0.01em 0.04px",h},mathmlBuilder(a,i){const l=Yt(a.body,i),h=new se.MathNode("mstyle",l);return h.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),h}});const u={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},p=()=>({type:"styling",body:[],mode:"math",style:"display"}),w=a=>a.type==="textord"&&a.text==="@",k=(a,i)=>(a.type==="mathord"||a.type==="atom")&&a.text===i;function K(a,i,l){const h=u[a];switch(h){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return l.callFunction(h,[i[0]],[i[1]]);case"\\uparrow":case"\\downarrow":{const f=l.callFunction("\\\\cdleft",[i[0]],[]),y={type:"atom",text:h,mode:"math",family:"rel"},x=l.callFunction("\\Big",[y],[]),S=l.callFunction("\\\\cdright",[i[1]],[]),I={type:"ordgroup",mode:"math",body:[f,x,S]};return l.callFunction("\\\\cdparent",[I],[])}case"\\\\cdlongequal":return l.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const f={type:"textord",text:"\\Vert",mode:"math"};return l.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function J(a){const i=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){i.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();const y=a.fetch().text;if(y==="&"||y==="\\\\")a.consume();else if(y==="\\end"){i[i.length-1].length===0&&i.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",a.nextToken)}let l=[];const h=[l];for(let y=0;y<i.length;y++){const x=i[y];let S=p();for(let I=0;I<x.length;I++)if(!w(x[I]))S.body.push(x[I]);else{l.push(S),I+=1;const B=hr(x[I]).text,$=new Array(2);if($[0]={type:"ordgroup",mode:"math",body:[]},$[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(B)>-1))if("<>AV".indexOf(B)>-1)for(let re=0;re<2;re++){let ye=!0;for(let _e=I+1;_e<x.length;_e++){if(k(x[_e],B)){ye=!1,I=_e;break}if(w(x[_e]))throw new o("Missing a "+B+" character to complete a CD arrow.",x[_e]);$[re].body.push(x[_e])}if(ye)throw new o("Missing a "+B+" character to complete a CD arrow.",x[I])}else throw new o('Expected one of "<>AV=|." after @',x[I]);const X={type:"styling",body:[K(B,$,a)],mode:"math",style:"display"};l.push(X),S=p()}y%2===0?l.push(S):l.shift(),l=[],h.push(l)}a.gullet.endGroup(),a.gullet.endGroup();const f=new Array(h[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:h,arraystretch:1,addJot:!0,rowGaps:[null],cols:f,colSeparationType:"CD",hLinesBeforeRow:new Array(h.length+1).fill([])}}pe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"cdlabel",mode:l.mode,side:h.slice(4),label:i[0]}},htmlBuilder(a,i){const l=i.havingStyle(i.style.sup()),h=Q.wrapFragment(be(a.label,l,i),i);return h.classes.push("cd-label-"+a.side),h.style.bottom=he(.8-h.depth),h.height=0,h.depth=0,h},mathmlBuilder(a,i){let l=new se.MathNode("mrow",[$e(a.label,i)]);return l=new se.MathNode("mpadded",[l]),l.setAttribute("width","0"),a.side==="left"&&l.setAttribute("lspace","-1width"),l.setAttribute("voffset","0.7em"),l=new se.MathNode("mstyle",[l]),l.setAttribute("displaystyle","false"),l.setAttribute("scriptlevel","1"),l}}),pe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,i){let{parser:l}=a;return{type:"cdlabelparent",mode:l.mode,fragment:i[0]}},htmlBuilder(a,i){const l=Q.wrapFragment(be(a.fragment,i),i);return l.classes.push("cd-vert-arrow"),l},mathmlBuilder(a,i){return new se.MathNode("mrow",[$e(a.fragment,i)])}}),pe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;const f=Ie(i[0],"ordgroup").body;let y="";for(let I=0;I<f.length;I++){const B=Ie(f[I],"textord");y+=B.text}let x=parseInt(y),S;if(isNaN(x))throw new o("\\@char has non-numeric argument "+y);if(x<0||x>=1114111)throw new o("\\@char with invalid code point "+y);return x<=65535?S=String.fromCharCode(x):(x-=65536,S=String.fromCharCode((x>>10)+55296,(x&1023)+56320)),{type:"textord",mode:l.mode,text:S}}});const de=(a,i)=>{const l=ft(a.body,i.withColor(a.color),!1);return Q.makeFragment(l)},Qe=(a,i)=>{const l=Yt(a.body,i.withColor(a.color)),h=new se.MathNode("mstyle",l);return h.setAttribute("mathcolor",a.color),h};pe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,i){let{parser:l}=a;const h=Ie(i[0],"color-token").color,f=i[1];return{type:"color",mode:l.mode,color:h,body:vt(f)}},htmlBuilder:de,mathmlBuilder:Qe}),pe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,i){let{parser:l,breakOnTokenText:h}=a;const f=Ie(i[0],"color-token").color;l.gullet.macros.set("\\current@color",f);const y=l.parseExpression(!0,h);return{type:"color",mode:l.mode,color:f,body:y}},htmlBuilder:de,mathmlBuilder:Qe}),pe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,i,l){let{parser:h}=a;const f=h.gullet.future().text==="["?h.parseSizeGroup(!0):null,y=!h.settings.displayMode||!h.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:h.mode,newLine:y,size:f&&Ie(f,"size").value}},htmlBuilder(a,i){const l=Q.makeSpan(["mspace"],[],i);return a.newLine&&(l.classes.push("newline"),a.size&&(l.style.marginTop=he(Je(a.size,i)))),l},mathmlBuilder(a,i){const l=new se.MathNode("mspace");return a.newLine&&(l.setAttribute("linebreak","newline"),a.size&&l.setAttribute("height",he(Je(a.size,i)))),l}});const At={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ze=a=>{const i=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new o("Expected a control sequence",a);return i},Ut=a=>{let i=a.gullet.popToken();return i.text==="="&&(i=a.gullet.popToken(),i.text===" "&&(i=a.gullet.popToken())),i},Mt=(a,i,l,h)=>{let f=a.gullet.macros.get(l.text);f==null&&(l.noexpand=!0,f={tokens:[l],numArgs:0,unexpandable:!a.gullet.isExpandable(l.text)}),a.gullet.macros.set(i,f,h)};pe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){let{parser:i,funcName:l}=a;i.consumeSpaces();const h=i.fetch();if(At[h.text])return(l==="\\global"||l==="\\\\globallong")&&(h.text=At[h.text]),Ie(i.parseFunction(),"internal");throw new o("Invalid token after macro prefix",h)}}),pe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a,h=i.gullet.popToken();const f=h.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new o("Expected a control sequence",h);let y=0,x;const S=[[]];for(;i.gullet.future().text!=="{";)if(h=i.gullet.popToken(),h.text==="#"){if(i.gullet.future().text==="{"){x=i.gullet.future(),S[y].push("{");break}if(h=i.gullet.popToken(),!/^[1-9]$/.test(h.text))throw new o('Invalid argument number "'+h.text+'"');if(parseInt(h.text)!==y+1)throw new o('Argument number "'+h.text+'" out of order');y++,S.push([])}else{if(h.text==="EOF")throw new o("Expected a macro definition");S[y].push(h.text)}let{tokens:I}=i.gullet.consumeArg();return x&&I.unshift(x),(l==="\\edef"||l==="\\xdef")&&(I=i.gullet.expandTokens(I),I.reverse()),i.gullet.macros.set(f,{tokens:I,numArgs:y,delimiters:S},l===At[l]),{type:"internal",mode:i.mode}}}),pe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=ze(i.gullet.popToken());i.gullet.consumeSpaces();const f=Ut(i);return Mt(i,h,f,l==="\\\\globallet"),{type:"internal",mode:i.mode}}}),pe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=ze(i.gullet.popToken()),f=i.gullet.popToken(),y=i.gullet.popToken();return Mt(i,h,y,l==="\\\\globalfuture"),i.gullet.pushToken(y),i.gullet.pushToken(f),{type:"internal",mode:i.mode}}});const Yn=function(a,i,l){const h=Ze.math[a]&&Ze.math[a].replace,f=De(h||a,i,l);if(!f)throw new Error("Unsupported symbol "+a+" and font size "+i+".");return f},vn=function(a,i,l,h){const f=l.havingBaseStyle(i),y=Q.makeSpan(h.concat(f.sizingClasses(l)),[a],l),x=f.sizeMultiplier/l.sizeMultiplier;return y.height*=x,y.depth*=x,y.maxFontSize=f.sizeMultiplier,y},ui=function(a,i,l){const h=i.havingBaseStyle(l),f=(1-i.sizeMultiplier/h.sizeMultiplier)*i.fontMetrics().axisHeight;a.classes.push("delimcenter"),a.style.top=he(f),a.height-=f,a.depth+=f},ha=function(a,i,l,h,f,y){const x=Q.makeSymbol(a,"Main-Regular",f,h),S=vn(x,i,h,y);return l&&ui(S,h,i),S},q5=function(a,i,l,h){return Q.makeSymbol(a,"Size"+i+"-Regular",l,h)},$f=function(a,i,l,h,f,y){const x=q5(a,i,f,h),S=vn(Q.makeSpan(["delimsizing","size"+i],[x],h),oe.TEXT,h,y);return l&&ui(S,h,oe.TEXT),S},Qu=function(a,i,l){let h;return i==="Size1-Regular"?h="delim-size1":h="delim-size4",{type:"elem",elem:Q.makeSpan(["delimsizinginner",h],[Q.makeSpan([],[Q.makeSymbol(a,i,l)])])}},Yu=function(a,i,l){const h=En["Size4-Regular"][a.charCodeAt(0)]?En["Size4-Regular"][a.charCodeAt(0)][4]:En["Size1-Regular"][a.charCodeAt(0)][4],f=new ar("inner",Or(a,Math.round(1e3*i))),y=new Gt([f],{width:he(h),height:he(i),style:"width:"+he(h),viewBox:"0 0 "+1e3*h+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),x=Q.makeSvgSpan([],[y],l);return x.height=i,x.style.height=he(i),x.style.width=he(h),{type:"elem",elem:x}},Xu=.008,Bl={type:"kern",size:-1*Xu},H5=["|","\\lvert","\\rvert","\\vert"],$5=["\\|","\\lVert","\\rVert","\\Vert"],Wf=function(a,i,l,h,f,y){let x,S,I,B,$="",G=0;x=I=B=a,S=null;let X="Size1-Regular";a==="\\uparrow"?I=B="⏐":a==="\\Uparrow"?I=B="‖":a==="\\downarrow"?x=I="⏐":a==="\\Downarrow"?x=I="‖":a==="\\updownarrow"?(x="\\uparrow",I="⏐",B="\\downarrow"):a==="\\Updownarrow"?(x="\\Uparrow",I="‖",B="\\Downarrow"):H5.includes(a)?(I="∣",$="vert",G=333):$5.includes(a)?(I="∥",$="doublevert",G=556):a==="["||a==="\\lbrack"?(x="⎡",I="⎢",B="⎣",X="Size4-Regular",$="lbrack",G=667):a==="]"||a==="\\rbrack"?(x="⎤",I="⎥",B="⎦",X="Size4-Regular",$="rbrack",G=667):a==="\\lfloor"||a==="⌊"?(I=x="⎢",B="⎣",X="Size4-Regular",$="lfloor",G=667):a==="\\lceil"||a==="⌈"?(x="⎡",I=B="⎢",X="Size4-Regular",$="lceil",G=667):a==="\\rfloor"||a==="⌋"?(I=x="⎥",B="⎦",X="Size4-Regular",$="rfloor",G=667):a==="\\rceil"||a==="⌉"?(x="⎤",I=B="⎥",X="Size4-Regular",$="rceil",G=667):a==="("||a==="\\lparen"?(x="⎛",I="⎜",B="⎝",X="Size4-Regular",$="lparen",G=875):a===")"||a==="\\rparen"?(x="⎞",I="⎟",B="⎠",X="Size4-Regular",$="rparen",G=875):a==="\\{"||a==="\\lbrace"?(x="⎧",S="⎨",B="⎩",I="⎪",X="Size4-Regular"):a==="\\}"||a==="\\rbrace"?(x="⎫",S="⎬",B="⎭",I="⎪",X="Size4-Regular"):a==="\\lgroup"||a==="⟮"?(x="⎧",B="⎩",I="⎪",X="Size4-Regular"):a==="\\rgroup"||a==="⟯"?(x="⎫",B="⎭",I="⎪",X="Size4-Regular"):a==="\\lmoustache"||a==="⎰"?(x="⎧",B="⎭",I="⎪",X="Size4-Regular"):(a==="\\rmoustache"||a==="⎱")&&(x="⎫",B="⎩",I="⎪",X="Size4-Regular");const re=Yn(x,X,f),ye=re.height+re.depth,_e=Yn(I,X,f),Oe=_e.height+_e.depth,Pe=Yn(B,X,f),Fe=Pe.height+Pe.depth;let Ke=0,at=1;if(S!==null){const Et=Yn(S,X,f);Ke=Et.height+Et.depth,at=2}const wn=ye+Fe+Ke,Dt=Math.max(0,Math.ceil((i-wn)/(at*Oe))),Xn=wn+Dt*at*Oe;let Xi=h.fontMetrics().axisHeight;l&&(Xi*=h.sizeMultiplier);const je=Xn/2-Xi,tt=[];if($.length>0){const Et=Xn-ye-Fe,wt=Math.round(Xn*1e3),Jn=cs($,Math.round(Et*1e3)),y3=new ar($,Jn),z1=(G/1e3).toFixed(3)+"em",O1=(wt/1e3).toFixed(3)+"em",v3=new Gt([y3],{width:z1,height:O1,viewBox:"0 0 "+G+" "+wt}),$l=Q.makeSvgSpan([],[v3],h);$l.height=wt/1e3,$l.style.width=z1,$l.style.height=O1,tt.push({type:"elem",elem:$l})}else{if(tt.push(Qu(B,X,f)),tt.push(Bl),S===null){const Et=Xn-ye-Fe+2*Xu;tt.push(Yu(I,Et,h))}else{const Et=(Xn-ye-Fe-Ke)/2+2*Xu;tt.push(Yu(I,Et,h)),tt.push(Bl),tt.push(Qu(S,X,f)),tt.push(Bl),tt.push(Yu(I,Et,h))}tt.push(Bl),tt.push(Qu(x,X,f))}const ct=h.havingBaseStyle(oe.TEXT),mt=Q.makeVList({positionType:"bottom",positionData:je,children:tt},ct);return vn(Q.makeSpan(["delimsizing","mult"],[mt],ct),oe.TEXT,h,y)},Ju=80,Zu=.08,ec=function(a,i,l,h,f){const y=ls(a,h,l),x=new ar(a,y),S=new Gt([x],{width:"400em",height:he(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return Q.makeSvgSpan(["hide-tail"],[S],f)},W5=function(a,i){const l=i.havingBaseSizing(),h=Yf("\\surd",a*l.sizeMultiplier,Qf,l);let f=l.sizeMultiplier;const y=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness);let x,S=0,I=0,B=0,$;return h.type==="small"?(B=1e3+1e3*y+Ju,a<1?f=1:a<1.4&&(f=.7),S=(1+y+Zu)/f,I=(1+y)/f,x=ec("sqrtMain",S,B,y,i),x.style.minWidth="0.853em",$=.833/f):h.type==="large"?(B=(1e3+Ju)*da[h.size],I=(da[h.size]+y)/f,S=(da[h.size]+y+Zu)/f,x=ec("sqrtSize"+h.size,S,B,y,i),x.style.minWidth="1.02em",$=1/f):(S=a+y+Zu,I=a+y,B=Math.floor(1e3*a+y)+Ju,x=ec("sqrtTall",S,B,y,i),x.style.minWidth="0.742em",$=1.056),x.height=I,x.style.height=he(S),{span:x,advanceWidth:$,ruleWidth:(i.fontMetrics().sqrtRuleThickness+y)*f}},Gf=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],G5=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Kf=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],da=[0,1.2,1.8,2.4,3],K5=function(a,i,l,h,f){if(a==="<"||a==="\\lt"||a==="⟨"?a="\\langle":(a===">"||a==="\\gt"||a==="⟩")&&(a="\\rangle"),Gf.includes(a)||Kf.includes(a))return $f(a,i,!1,l,h,f);if(G5.includes(a))return Wf(a,da[i],!1,l,h,f);throw new o("Illegal delimiter: '"+a+"'")},Q5=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Y5=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"stack"}],Qf=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],X5=function(a){if(a.type==="small")return"Main-Regular";if(a.type==="large")return"Size"+a.size+"-Regular";if(a.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+a.type+"' here.")},Yf=function(a,i,l,h){const f=Math.min(2,3-h.style.size);for(let y=f;y<l.length&&l[y].type!=="stack";y++){const x=Yn(a,X5(l[y]),"math");let S=x.height+x.depth;if(l[y].type==="small"){const I=h.havingBaseStyle(l[y].style);S*=I.sizeMultiplier}if(S>i)return l[y]}return l[l.length-1]},Xf=function(a,i,l,h,f,y){a==="<"||a==="\\lt"||a==="⟨"?a="\\langle":(a===">"||a==="\\gt"||a==="⟩")&&(a="\\rangle");let x;Kf.includes(a)?x=Q5:Gf.includes(a)?x=Qf:x=Y5;const S=Yf(a,i,x,h);return S.type==="small"?ha(a,S.style,l,h,f,y):S.type==="large"?$f(a,S.size,l,h,f,y):Wf(a,i,l,h,f,y)};var Wr={sqrtImage:W5,sizedDelim:K5,sizeToMaxHeight:da,customSizedDelim:Xf,leftRightDelim:function(a,i,l,h,f,y){const x=h.fontMetrics().axisHeight*h.sizeMultiplier,S=901,I=5/h.fontMetrics().ptPerEm,B=Math.max(i-x,l+x),$=Math.max(B/500*S,2*B-I);return Xf(a,$,!0,h,f,y)}};const Jf={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},J5=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function jl(a,i){const l=li(a);if(l&&J5.includes(l.text))return l;throw l?new o("Invalid delimiter '"+l.text+"' after '"+i.funcName+"'",a):new o("Invalid delimiter type '"+a.type+"'",a)}pe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,i)=>{const l=jl(i[0],a);return{type:"delimsizing",mode:a.parser.mode,size:Jf[a.funcName].size,mclass:Jf[a.funcName].mclass,delim:l.text}},htmlBuilder:(a,i)=>a.delim==="."?Q.makeSpan([a.mclass]):Wr.sizedDelim(a.delim,a.size,i,a.mode,[a.mclass]),mathmlBuilder:a=>{const i=[];a.delim!=="."&&i.push(Tt(a.delim,a.mode));const l=new se.MathNode("mo",i);a.mclass==="mopen"||a.mclass==="mclose"?l.setAttribute("fence","true"):l.setAttribute("fence","false"),l.setAttribute("stretchy","true");const h=he(Wr.sizeToMaxHeight[a.size]);return l.setAttribute("minsize",h),l.setAttribute("maxsize",h),l}});function Zf(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}pe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=a.parser.gullet.macros.get("\\current@color");if(l&&typeof l!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:jl(i[0],a).text,color:l}}}),pe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=jl(i[0],a),h=a.parser;++h.leftrightDepth;const f=h.parseExpression(!1);--h.leftrightDepth,h.expect("\\right",!1);const y=Ie(h.parseFunction(),"leftright-right");return{type:"leftright",mode:h.mode,body:f,left:l.text,right:y.delim,rightColor:y.color}},htmlBuilder:(a,i)=>{Zf(a);const l=ft(a.body,i,!0,["mopen","mclose"]);let h=0,f=0,y=!1;for(let I=0;I<l.length;I++)l[I].isMiddle?y=!0:(h=Math.max(l[I].height,h),f=Math.max(l[I].depth,f));h*=i.sizeMultiplier,f*=i.sizeMultiplier;let x;if(a.left==="."?x=qr(i,["mopen"]):x=Wr.leftRightDelim(a.left,h,f,i,a.mode,["mopen"]),l.unshift(x),y)for(let I=1;I<l.length;I++){const $=l[I].isMiddle;$&&(l[I]=Wr.leftRightDelim($.delim,h,f,$.options,a.mode,[]))}let S;if(a.right===".")S=qr(i,["mclose"]);else{const I=a.rightColor?i.withColor(a.rightColor):i;S=Wr.leftRightDelim(a.right,h,f,I,a.mode,["mclose"])}return l.push(S),Q.makeSpan(["minner"],l,i)},mathmlBuilder:(a,i)=>{Zf(a);const l=Yt(a.body,i);if(a.left!=="."){const h=new se.MathNode("mo",[Tt(a.left,a.mode)]);h.setAttribute("fence","true"),l.unshift(h)}if(a.right!=="."){const h=new se.MathNode("mo",[Tt(a.right,a.mode)]);h.setAttribute("fence","true"),a.rightColor&&h.setAttribute("mathcolor",a.rightColor),l.push(h)}return Ki(l)}}),pe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=jl(i[0],a);if(!a.parser.leftrightDepth)throw new o("\\middle without preceding \\left",l);return{type:"middle",mode:a.parser.mode,delim:l.text}},htmlBuilder:(a,i)=>{let l;if(a.delim===".")l=qr(i,[]);else{l=Wr.sizedDelim(a.delim,1,i,a.mode,[]);const h={delim:a.delim,options:i};l.isMiddle=h}return l},mathmlBuilder:(a,i)=>{const l=a.delim==="\\vert"||a.delim==="|"?Tt("|","text"):Tt(a.delim,a.mode),h=new se.MathNode("mo",[l]);return h.setAttribute("fence","true"),h.setAttribute("lspace","0.05em"),h.setAttribute("rspace","0.05em"),h}});const tc=(a,i)=>{const l=Q.wrapFragment(be(a.body,i),i),h=a.label.slice(1);let f=i.sizeMultiplier,y,x=0;const S=W.isCharacterBox(a.body);if(h==="sout")y=Q.makeSpan(["stretchy","sout"]),y.height=i.fontMetrics().defaultRuleThickness/f,x=-.5*i.fontMetrics().xHeight;else if(h==="phase"){const B=Je({number:.6,unit:"pt"},i),$=Je({number:.35,unit:"ex"},i),G=i.havingBaseSizing();f=f/G.sizeMultiplier;const X=l.height+l.depth+B+$;l.style.paddingLeft=he(X/2+B);const re=Math.floor(1e3*X*f),ye=as(re),_e=new Gt([new ar("phase",ye)],{width:"400em",height:he(re/1e3),viewBox:"0 0 400000 "+re,preserveAspectRatio:"xMinYMin slice"});y=Q.makeSvgSpan(["hide-tail"],[_e],i),y.style.height=he(X),x=l.depth+B+$}else{/cancel/.test(h)?S||l.classes.push("cancel-pad"):h==="angl"?l.classes.push("anglpad"):l.classes.push("boxpad");let B=0,$=0,G=0;/box/.test(h)?(G=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness),B=i.fontMetrics().fboxsep+(h==="colorbox"?0:G),$=B):h==="angl"?(G=Math.max(i.fontMetrics().defaultRuleThickness,i.minRuleThickness),B=4*G,$=Math.max(0,.25-l.depth)):(B=S?.2:0,$=B),y=Qn.encloseSpan(l,h,B,$,i),/fbox|boxed|fcolorbox/.test(h)?(y.style.borderStyle="solid",y.style.borderWidth=he(G)):h==="angl"&&G!==.049&&(y.style.borderTopWidth=he(G),y.style.borderRightWidth=he(G)),x=l.depth+$,a.backgroundColor&&(y.style.backgroundColor=a.backgroundColor,a.borderColor&&(y.style.borderColor=a.borderColor))}let I;if(a.backgroundColor)I=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:x},{type:"elem",elem:l,shift:0}]},i);else{const B=/cancel|phase/.test(h)?["svg-align"]:[];I=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:y,shift:x,wrapperClasses:B}]},i)}return/cancel/.test(h)&&(I.height=l.height,I.depth=l.depth),/cancel/.test(h)&&!S?Q.makeSpan(["mord","cancel-lap"],[I],i):Q.makeSpan(["mord"],[I],i)},nc=(a,i)=>{let l=0;const h=new se.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[$e(a.body,i)]);switch(a.label){case"\\cancel":h.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":h.setAttribute("notation","downdiagonalstrike");break;case"\\phase":h.setAttribute("notation","phasorangle");break;case"\\sout":h.setAttribute("notation","horizontalstrike");break;case"\\fbox":h.setAttribute("notation","box");break;case"\\angl":h.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(l=i.fontMetrics().fboxsep*i.fontMetrics().ptPerEm,h.setAttribute("width","+"+2*l+"pt"),h.setAttribute("height","+"+2*l+"pt"),h.setAttribute("lspace",l+"pt"),h.setAttribute("voffset",l+"pt"),a.label==="\\fcolorbox"){const f=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness);h.setAttribute("style","border: "+f+"em solid "+String(a.borderColor))}break;case"\\xcancel":h.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&h.setAttribute("mathbackground",a.backgroundColor),h};pe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Ie(i[0],"color-token").color,x=i[1];return{type:"enclose",mode:h.mode,label:f,backgroundColor:y,body:x}},htmlBuilder:tc,mathmlBuilder:nc}),pe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Ie(i[0],"color-token").color,x=Ie(i[1],"color-token").color,S=i[2];return{type:"enclose",mode:h.mode,label:f,backgroundColor:x,borderColor:y,body:S}},htmlBuilder:tc,mathmlBuilder:nc}),pe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\fbox",body:i[0]}}}),pe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"enclose",mode:l.mode,label:h,body:f}},htmlBuilder:tc,mathmlBuilder:nc}),pe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\angl",body:i[0]}}});const e1={};function Tr(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:x}=a;const S={type:i,numArgs:h.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:f};for(let I=0;I<l.length;++I)e1[l[I]]=S;y&&(si[i]=y),x&&(ii[i]=x)}const t1={};function T(a,i){t1[a]=i}class In{constructor(i,l,h){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=i,this.start=l,this.end=h}static range(i,l){return l?!i||!i.loc||!l.loc||i.loc.lexer!==l.loc.lexer?null:new In(i.loc.lexer,i.loc.start,l.loc.end):i&&i.loc}}class Ln{constructor(i,l){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=i,this.loc=l}range(i,l){return new Ln(l,In.range(this,i))}}function n1(a){const i=[];a.consumeSpaces();let l=a.fetch().text;for(l==="\\relax"&&(a.consume(),a.consumeSpaces(),l=a.fetch().text);l==="\\hline"||l==="\\hdashline";)a.consume(),i.push(l==="\\hdashline"),a.consumeSpaces(),l=a.fetch().text;return i}const Ul=a=>{if(!a.parser.settings.displayMode)throw new o("{"+a.envName+"} can be used only in display mode.")};function rc(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function ws(a,i,l){let{hskipBeforeAndAfter:h,addJot:f,cols:y,arraystretch:x,colSeparationType:S,autoTag:I,singleRow:B,emptySingleRow:$,maxNumCols:G,leqno:X}=i;if(a.gullet.beginGroup(),B||a.gullet.macros.set("\\cr","\\\\\\relax"),!x){const at=a.gullet.expandMacroAsText("\\arraystretch");if(at==null)x=1;else if(x=parseFloat(at),!x||x<0)throw new o("Invalid \\arraystretch: "+at)}a.gullet.beginGroup();let re=[];const ye=[re],_e=[],Oe=[],Pe=I!=null?[]:void 0;function Fe(){I&&a.gullet.macros.set("\\@eqnsw","1",!0)}function Ke(){Pe&&(a.gullet.macros.get("\\df@tag")?(Pe.push(a.subparse([new Ln("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):Pe.push(!!I&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(Fe(),Oe.push(n1(a));;){let at=a.parseExpression(!1,B?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),at={type:"ordgroup",mode:a.mode,body:at},l&&(at={type:"styling",mode:a.mode,style:l,body:[at]}),re.push(at);const wn=a.fetch().text;if(wn==="&"){if(G&&re.length===G){if(B||S)throw new o("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(wn==="\\end"){Ke(),re.length===1&&at.type==="styling"&&at.body[0].body.length===0&&(ye.length>1||!$)&&ye.pop(),Oe.length<ye.length+1&&Oe.push([]);break}else if(wn==="\\\\"){a.consume();let Dt;a.gullet.future().text!==" "&&(Dt=a.parseSizeGroup(!0)),_e.push(Dt?Dt.value:null),Ke(),Oe.push(n1(a)),re=[],ye.push(re),Fe()}else throw new o("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:f,arraystretch:x,body:ye,cols:y,rowGaps:_e,hskipBeforeAndAfter:h,hLinesBeforeRow:Oe,colSeparationType:S,tags:Pe,leqno:X}}function sc(a){return a.slice(0,1)==="d"?"display":"text"}const Er=function(a,i){let l,h;const f=a.body.length,y=a.hLinesBeforeRow;let x=0,S=new Array(f);const I=[],B=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),$=1/i.fontMetrics().ptPerEm;let G=5*$;a.colSeparationType&&a.colSeparationType==="small"&&(G=.2778*(i.havingStyle(oe.SCRIPT).sizeMultiplier/i.sizeMultiplier));const X=a.colSeparationType==="CD"?Je({number:3,unit:"ex"},i):12*$,re=3*$,ye=a.arraystretch*X,_e=.7*ye,Oe=.3*ye;let Pe=0;function Fe(je){for(let tt=0;tt<je.length;++tt)tt>0&&(Pe+=.25),I.push({pos:Pe,isDashed:je[tt]})}for(Fe(y[0]),l=0;l<a.body.length;++l){const je=a.body[l];let tt=_e,ct=Oe;x<je.length&&(x=je.length);const mt=new Array(je.length);for(h=0;h<je.length;++h){const Jn=be(je[h],i);ct<Jn.depth&&(ct=Jn.depth),tt<Jn.height&&(tt=Jn.height),mt[h]=Jn}const Et=a.rowGaps[l];let wt=0;Et&&(wt=Je(Et,i),wt>0&&(wt+=Oe,ct<wt&&(ct=wt),wt=0)),a.addJot&&(ct+=re),mt.height=tt,mt.depth=ct,Pe+=tt,mt.pos=Pe,Pe+=ct+wt,S[l]=mt,Fe(y[l+1])}const Ke=Pe/2+i.fontMetrics().axisHeight,at=a.cols||[],wn=[];let Dt,Xn;const Xi=[];if(a.tags&&a.tags.some(je=>je))for(l=0;l<f;++l){const je=S[l],tt=je.pos-Ke,ct=a.tags[l];let mt;ct===!0?mt=Q.makeSpan(["eqn-num"],[],i):ct===!1?mt=Q.makeSpan([],[],i):mt=Q.makeSpan([],ft(ct,i,!0),i),mt.depth=je.depth,mt.height=je.height,Xi.push({type:"elem",elem:mt,shift:tt})}for(h=0,Xn=0;h<x||Xn<at.length;++h,++Xn){let je=at[Xn]||{},tt=!0;for(;je.type==="separator";){if(tt||(Dt=Q.makeSpan(["arraycolsep"],[]),Dt.style.width=he(i.fontMetrics().doubleRuleSep),wn.push(Dt)),je.separator==="|"||je.separator===":"){const Et=je.separator==="|"?"solid":"dashed",wt=Q.makeSpan(["vertical-separator"],[],i);wt.style.height=he(Pe),wt.style.borderRightWidth=he(B),wt.style.borderRightStyle=Et,wt.style.margin="0 "+he(-B/2);const Jn=Pe-Ke;Jn&&(wt.style.verticalAlign=he(-Jn)),wn.push(wt)}else throw new o("Invalid separator type: "+je.separator);Xn++,je=at[Xn]||{},tt=!1}if(h>=x)continue;let ct;(h>0||a.hskipBeforeAndAfter)&&(ct=W.deflt(je.pregap,G),ct!==0&&(Dt=Q.makeSpan(["arraycolsep"],[]),Dt.style.width=he(ct),wn.push(Dt)));let mt=[];for(l=0;l<f;++l){const Et=S[l],wt=Et[h];if(!wt)continue;const Jn=Et.pos-Ke;wt.depth=Et.depth,wt.height=Et.height,mt.push({type:"elem",elem:wt,shift:Jn})}mt=Q.makeVList({positionType:"individualShift",children:mt},i),mt=Q.makeSpan(["col-align-"+(je.align||"c")],[mt]),wn.push(mt),(h<x-1||a.hskipBeforeAndAfter)&&(ct=W.deflt(je.postgap,G),ct!==0&&(Dt=Q.makeSpan(["arraycolsep"],[]),Dt.style.width=he(ct),wn.push(Dt)))}if(S=Q.makeSpan(["mtable"],wn),I.length>0){const je=Q.makeLineSpan("hline",i,B),tt=Q.makeLineSpan("hdashline",i,B),ct=[{type:"elem",elem:S,shift:0}];for(;I.length>0;){const mt=I.pop(),Et=mt.pos-Ke;mt.isDashed?ct.push({type:"elem",elem:tt,shift:Et}):ct.push({type:"elem",elem:je,shift:Et})}S=Q.makeVList({positionType:"individualShift",children:ct},i)}if(Xi.length===0)return Q.makeSpan(["mord"],[S],i);{let je=Q.makeVList({positionType:"individualShift",children:Xi},i);return je=Q.makeSpan(["tag"],[je],i),Q.makeFragment([S,je])}},Z5={c:"center ",l:"left ",r:"right "},kr=function(a,i){const l=[],h=new se.MathNode("mtd",[],["mtr-glue"]),f=new se.MathNode("mtd",[],["mml-eqn-num"]);for(let G=0;G<a.body.length;G++){const X=a.body[G],re=[];for(let ye=0;ye<X.length;ye++)re.push(new se.MathNode("mtd",[$e(X[ye],i)]));a.tags&&a.tags[G]&&(re.unshift(h),re.push(h),a.leqno?re.unshift(f):re.push(f)),l.push(new se.MathNode("mtr",re))}let y=new se.MathNode("mtable",l);const x=a.arraystretch===.5?.1:.16+a.arraystretch-1+(a.addJot?.09:0);y.setAttribute("rowspacing",he(x));let S="",I="";if(a.cols&&a.cols.length>0){const G=a.cols;let X="",re=!1,ye=0,_e=G.length;G[0].type==="separator"&&(S+="top ",ye=1),G[G.length-1].type==="separator"&&(S+="bottom ",_e-=1);for(let Oe=ye;Oe<_e;Oe++)G[Oe].type==="align"?(I+=Z5[G[Oe].align],re&&(X+="none "),re=!0):G[Oe].type==="separator"&&re&&(X+=G[Oe].separator==="|"?"solid ":"dashed ",re=!1);y.setAttribute("columnalign",I.trim()),/[sd]/.test(X)&&y.setAttribute("columnlines",X.trim())}if(a.colSeparationType==="align"){const G=a.cols||[];let X="";for(let re=1;re<G.length;re++)X+=re%2?"0em ":"1em ";y.setAttribute("columnspacing",X.trim())}else a.colSeparationType==="alignat"||a.colSeparationType==="gather"?y.setAttribute("columnspacing","0em"):a.colSeparationType==="small"?y.setAttribute("columnspacing","0.2778em"):a.colSeparationType==="CD"?y.setAttribute("columnspacing","0.5em"):y.setAttribute("columnspacing","1em");let B="";const $=a.hLinesBeforeRow;S+=$[0].length>0?"left ":"",S+=$[$.length-1].length>0?"right ":"";for(let G=1;G<$.length-1;G++)B+=$[G].length===0?"none ":$[G][0]?"dashed ":"solid ";return/[sd]/.test(B)&&y.setAttribute("rowlines",B.trim()),S!==""&&(y=new se.MathNode("menclose",[y]),y.setAttribute("notation",S.trim())),a.arraystretch&&a.arraystretch<1&&(y=new se.MathNode("mstyle",[y]),y.setAttribute("scriptlevel","1")),y},r1=function(a,i){a.envName.indexOf("ed")===-1&&Ul(a);const l=[],h=a.envName.indexOf("at")>-1?"alignat":"align",f=a.envName==="split",y=ws(a.parser,{cols:l,addJot:!0,autoTag:f?void 0:rc(a.envName),emptySingleRow:!0,colSeparationType:h,maxNumCols:f?2:void 0,leqno:a.parser.settings.leqno},"display");let x,S=0;const I={type:"ordgroup",mode:a.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){let $="";for(let G=0;G<i[0].body.length;G++){const X=Ie(i[0].body[G],"textord");$+=X.text}x=Number($),S=x*2}const B=!S;y.body.forEach(function($){for(let G=1;G<$.length;G+=2){const X=Ie($[G],"styling");Ie(X.body[0],"ordgroup").body.unshift(I)}if(B)S<$.length&&(S=$.length);else{const G=$.length/2;if(x<G)throw new o("Too many math in a row: "+("expected "+x+", but got "+G),$[0])}});for(let $=0;$<S;++$){let G="r",X=0;$%2===1?G="l":$>0&&B&&(X=1),l[$]={type:"align",align:G,pregap:X,postgap:0}}return y.colSeparationType=B?"align":"alignat",y};Tr({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,i){const f=(li(i[0])?[i[0]]:Ie(i[0],"ordgroup").body).map(function(x){const I=hr(x).text;if("lcr".indexOf(I)!==-1)return{type:"align",align:I};if(I==="|")return{type:"separator",separator:"|"};if(I===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+I,x)}),y={cols:f,hskipBeforeAndAfter:!0,maxNumCols:f.length};return ws(a.parser,y,sc(a.envName))},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){const i={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")];let l="c";const h={hskipBeforeAndAfter:!1,cols:[{type:"align",align:l}]};if(a.envName.charAt(a.envName.length-1)==="*"){const x=a.parser;if(x.consumeSpaces(),x.fetch().text==="["){if(x.consume(),x.consumeSpaces(),l=x.fetch().text,"lcr".indexOf(l)===-1)throw new o("Expected l or c or r",x.nextToken);x.consume(),x.consumeSpaces(),x.expect("]"),x.consume(),h.cols=[{type:"align",align:l}]}}const f=ws(a.parser,h,sc(a.envName)),y=Math.max(0,...f.body.map(x=>x.length));return f.cols=new Array(y).fill({type:"align",align:l}),i?{type:"leftright",mode:a.mode,body:[f],left:i[0],right:i[1],rightColor:void 0}:f},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){const i={arraystretch:.5},l=ws(a.parser,i,"script");return l.colSeparationType="small",l},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["subarray"],props:{numArgs:1},handler(a,i){const f=(li(i[0])?[i[0]]:Ie(i[0],"ordgroup").body).map(function(x){const I=hr(x).text;if("lc".indexOf(I)!==-1)return{type:"align",align:I};throw new o("Unknown column alignment: "+I,x)});if(f.length>1)throw new o("{subarray} can contain only one column");let y={cols:f,hskipBeforeAndAfter:!1,arraystretch:.5};if(y=ws(a.parser,y,"script"),y.body.length>0&&y.body[0].length>1)throw new o("{subarray} can contain only one column");return y},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){const i={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},l=ws(a.parser,i,sc(a.envName));return{type:"leftright",mode:a.mode,body:[l],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:r1,htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){["gather","gather*"].includes(a.envName)&&Ul(a);const i={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:rc(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return ws(a.parser,i,"display")},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:r1,htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){Ul(a);const i={autoTag:rc(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return ws(a.parser,i,"display")},htmlBuilder:Er,mathmlBuilder:kr}),Tr({type:"array",names:["CD"],props:{numArgs:0},handler(a){return Ul(a),J(a.parser)},htmlBuilder:Er,mathmlBuilder:kr}),T("\\nonumber","\\gdef\\@eqnsw{0}"),T("\\notag","\\nonumber"),pe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,i){throw new o(a.funcName+" valid only within array environment")}});var s1=e1;pe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];if(f.type!=="ordgroup")throw new o("Invalid environment name",f);let y="";for(let x=0;x<f.body.length;++x)y+=Ie(f.body[x],"textord").text;if(h==="\\begin"){if(!s1.hasOwnProperty(y))throw new o("No such environment: "+y,f);const x=s1[y],{args:S,optArgs:I}=l.parseArguments("\\begin{"+y+"}",x),B={mode:l.mode,envName:y,parser:l},$=x.handler(B,S,I);l.expect("\\end",!1);const G=l.nextToken,X=Ie(l.parseFunction(),"environment");if(X.name!==y)throw new o("Mismatch: \\begin{"+y+"} matched by \\end{"+X.name+"}",G);return $}return{type:"environment",mode:l.mode,name:y,nameGroup:f}}});const i1=(a,i)=>{const l=a.font,h=i.withFont(l);return be(a.body,h)},o1=(a,i)=>{const l=a.font,h=i.withFont(l);return $e(a.body,h)},a1={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};pe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=Ui(i[0]);let y=h;return y in a1&&(y=a1[y]),{type:"font",mode:l.mode,font:y.slice(1),body:f}},htmlBuilder:i1,mathmlBuilder:o1}),pe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,i)=>{let{parser:l}=a;const h=i[0],f=W.isCharacterBox(h);return{type:"mclass",mode:l.mode,mclass:dr(h),body:[{type:"font",mode:l.mode,font:"boldsymbol",body:h}],isCharacterBox:f}}}),pe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,breakOnTokenText:f}=a;const{mode:y}=l,x=l.parseExpression(!0,f),S="math"+h.slice(1);return{type:"font",mode:y,font:S,body:{type:"ordgroup",mode:l.mode,body:x}}},htmlBuilder:i1,mathmlBuilder:o1});const l1=(a,i)=>{let l=i;return a==="display"?l=l.id>=oe.SCRIPT.id?l.text():oe.DISPLAY:a==="text"&&l.size===oe.DISPLAY.size?l=oe.TEXT:a==="script"?l=oe.SCRIPT:a==="scriptscript"&&(l=oe.SCRIPTSCRIPT),l},ic=(a,i)=>{const l=l1(a.size,i.style),h=l.fracNum(),f=l.fracDen();let y;y=i.havingStyle(h);const x=be(a.numer,y,i);if(a.continued){const Fe=8.5/i.fontMetrics().ptPerEm,Ke=3.5/i.fontMetrics().ptPerEm;x.height=x.height<Fe?Fe:x.height,x.depth=x.depth<Ke?Ke:x.depth}y=i.havingStyle(f);const S=be(a.denom,y,i);let I,B,$;a.hasBarLine?(a.barSize?(B=Je(a.barSize,i),I=Q.makeLineSpan("frac-line",i,B)):I=Q.makeLineSpan("frac-line",i),B=I.height,$=I.height):(I=null,B=0,$=i.fontMetrics().defaultRuleThickness);let G,X,re;l.size===oe.DISPLAY.size||a.size==="display"?(G=i.fontMetrics().num1,B>0?X=3*$:X=7*$,re=i.fontMetrics().denom1):(B>0?(G=i.fontMetrics().num2,X=$):(G=i.fontMetrics().num3,X=3*$),re=i.fontMetrics().denom2);let ye;if(I){const Fe=i.fontMetrics().axisHeight;G-x.depth-(Fe+.5*B)<X&&(G+=X-(G-x.depth-(Fe+.5*B))),Fe-.5*B-(S.height-re)<X&&(re+=X-(Fe-.5*B-(S.height-re)));const Ke=-(Fe-.5*B);ye=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:re},{type:"elem",elem:I,shift:Ke},{type:"elem",elem:x,shift:-G}]},i)}else{const Fe=G-x.depth-(S.height-re);Fe<X&&(G+=.5*(X-Fe),re+=.5*(X-Fe)),ye=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:re},{type:"elem",elem:x,shift:-G}]},i)}y=i.havingStyle(l),ye.height*=y.sizeMultiplier/i.sizeMultiplier,ye.depth*=y.sizeMultiplier/i.sizeMultiplier;let _e;l.size===oe.DISPLAY.size?_e=i.fontMetrics().delim1:l.size===oe.SCRIPTSCRIPT.size?_e=i.havingStyle(oe.SCRIPT).fontMetrics().delim2:_e=i.fontMetrics().delim2;let Oe,Pe;return a.leftDelim==null?Oe=qr(i,["mopen"]):Oe=Wr.customSizedDelim(a.leftDelim,_e,!0,i.havingStyle(l),a.mode,["mopen"]),a.continued?Pe=Q.makeSpan([]):a.rightDelim==null?Pe=qr(i,["mclose"]):Pe=Wr.customSizedDelim(a.rightDelim,_e,!0,i.havingStyle(l),a.mode,["mclose"]),Q.makeSpan(["mord"].concat(y.sizingClasses(i)),[Oe,Q.makeSpan(["mfrac"],[ye]),Pe],i)},oc=(a,i)=>{let l=new se.MathNode("mfrac",[$e(a.numer,i),$e(a.denom,i)]);if(!a.hasBarLine)l.setAttribute("linethickness","0px");else if(a.barSize){const f=Je(a.barSize,i);l.setAttribute("linethickness",he(f))}const h=l1(a.size,i.style);if(h.size!==i.style.size){l=new se.MathNode("mstyle",[l]);const f=h.size===oe.DISPLAY.size?"true":"false";l.setAttribute("displaystyle",f),l.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){const f=[];if(a.leftDelim!=null){const y=new se.MathNode("mo",[new se.TextNode(a.leftDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}if(f.push(l),a.rightDelim!=null){const y=new se.MathNode("mo",[new se.TextNode(a.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}return Ki(f)}return l};pe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];let x,S=null,I=null,B="auto";switch(h){case"\\dfrac":case"\\frac":case"\\tfrac":x=!0;break;case"\\\\atopfrac":x=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":x=!1,S="(",I=")";break;case"\\\\bracefrac":x=!1,S="\\{",I="\\}";break;case"\\\\brackfrac":x=!1,S="[",I="]";break;default:throw new Error("Unrecognized genfrac command")}switch(h){case"\\dfrac":case"\\dbinom":B="display";break;case"\\tfrac":case"\\tbinom":B="text";break}return{type:"genfrac",mode:l.mode,continued:!1,numer:f,denom:y,hasBarLine:x,leftDelim:S,rightDelim:I,size:B,barSize:null}},htmlBuilder:ic,mathmlBuilder:oc}),pe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];return{type:"genfrac",mode:l.mode,continued:!0,numer:f,denom:y,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),pe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){let{parser:i,funcName:l,token:h}=a,f;switch(l){case"\\over":f="\\frac";break;case"\\choose":f="\\binom";break;case"\\atop":f="\\\\atopfrac";break;case"\\brace":f="\\\\bracefrac";break;case"\\brack":f="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:i.mode,replaceWith:f,token:h}}});const u1=["display","text","script","scriptscript"],c1=function(a){let i=null;return a.length>0&&(i=a,i=i==="."?null:i),i};pe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,i){let{parser:l}=a;const h=i[4],f=i[5],y=Ui(i[0]),x=y.type==="atom"&&y.family==="open"?c1(y.text):null,S=Ui(i[1]),I=S.type==="atom"&&S.family==="close"?c1(S.text):null,B=Ie(i[2],"size");let $,G=null;B.isBlank?$=!0:(G=B.value,$=G.number>0);let X="auto",re=i[3];if(re.type==="ordgroup"){if(re.body.length>0){const ye=Ie(re.body[0],"textord");X=u1[Number(ye.text)]}}else re=Ie(re,"textord"),X=u1[Number(re.text)];return{type:"genfrac",mode:l.mode,numer:h,denom:f,continued:!1,hasBarLine:$,barSize:G,leftDelim:x,rightDelim:I,size:X}},htmlBuilder:ic,mathmlBuilder:oc}),pe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,i){let{parser:l,funcName:h,token:f}=a;return{type:"infix",mode:l.mode,replaceWith:"\\\\abovefrac",size:Ie(i[0],"size").value,token:f}}}),pe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=Y(Ie(i[1],"infix").size),x=i[2],S=y.number>0;return{type:"genfrac",mode:l.mode,numer:f,denom:x,continued:!1,hasBarLine:S,barSize:y,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ic,mathmlBuilder:oc});const h1=(a,i)=>{const l=i.style;let h,f;a.type==="supsub"?(h=a.sup?be(a.sup,i.havingStyle(l.sup()),i):be(a.sub,i.havingStyle(l.sub()),i),f=Ie(a.base,"horizBrace")):f=Ie(a,"horizBrace");const y=be(f.base,i.havingBaseStyle(oe.DISPLAY)),x=Qn.svgSpan(f,i);let S;if(f.isOver?(S=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.1},{type:"elem",elem:x}]},i),S.children[0].children[0].children[1].classes.push("svg-align")):(S=Q.makeVList({positionType:"bottom",positionData:y.depth+.1+x.height,children:[{type:"elem",elem:x},{type:"kern",size:.1},{type:"elem",elem:y}]},i),S.children[0].children[0].children[0].classes.push("svg-align")),h){const I=Q.makeSpan(["mord",f.isOver?"mover":"munder"],[S],i);f.isOver?S=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:.2},{type:"elem",elem:h}]},i):S=Q.makeVList({positionType:"bottom",positionData:I.depth+.2+h.height+h.depth,children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:I}]},i)}return Q.makeSpan(["mord",f.isOver?"mover":"munder"],[S],i)};pe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"horizBrace",mode:l.mode,label:h,isOver:/^\\over/.test(h),base:i[0]}},htmlBuilder:h1,mathmlBuilder:(a,i)=>{const l=Qn.mathMLnode(a.label);return new se.MathNode(a.isOver?"mover":"munder",[$e(a.base,i),l])}}),pe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[1],f=Ie(i[0],"url").url;return l.settings.isTrusted({command:"\\href",url:f})?{type:"href",mode:l.mode,href:f,body:vt(h)}:l.formatUnsupportedCmd("\\href")},htmlBuilder:(a,i)=>{const l=ft(a.body,i,!1);return Q.makeAnchor(a.href,[],l,i)},mathmlBuilder:(a,i)=>{let l=Kn(a.body,i);return l instanceof un||(l=new un("mrow",[l])),l.setAttribute("href",a.href),l}}),pe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=Ie(i[0],"url").url;if(!l.settings.isTrusted({command:"\\url",url:h}))return l.formatUnsupportedCmd("\\url");const f=[];for(let x=0;x<h.length;x++){let S=h[x];S==="~"&&(S="\\textasciitilde"),f.push({type:"textord",mode:"text",text:S})}const y={type:"text",mode:l.mode,font:"\\texttt",body:f};return{type:"href",mode:l.mode,href:h,body:vt(y)}}}),pe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,i){let{parser:l}=a;return{type:"hbox",mode:l.mode,body:vt(i[0])}},htmlBuilder(a,i){const l=ft(a.body,i,!1);return Q.makeFragment(l)},mathmlBuilder(a,i){return new se.MathNode("mrow",Yt(a.body,i))}}),pe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,token:f}=a;const y=Ie(i[0],"raw").string,x=i[1];l.settings.strict&&l.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let S;const I={};switch(h){case"\\htmlClass":I.class=y,S={command:"\\htmlClass",class:y};break;case"\\htmlId":I.id=y,S={command:"\\htmlId",id:y};break;case"\\htmlStyle":I.style=y,S={command:"\\htmlStyle",style:y};break;case"\\htmlData":{const B=y.split(",");for(let $=0;$<B.length;$++){const G=B[$].split("=");if(G.length!==2)throw new o("Error parsing key-value for \\htmlData");I["data-"+G[0].trim()]=G[1].trim()}S={command:"\\htmlData",attributes:I};break}default:throw new Error("Unrecognized html command")}return l.settings.isTrusted(S)?{type:"html",mode:l.mode,attributes:I,body:vt(x)}:l.formatUnsupportedCmd(h)},htmlBuilder:(a,i)=>{const l=ft(a.body,i,!1),h=["enclosing"];a.attributes.class&&h.push(...a.attributes.class.trim().split(/\s+/));const f=Q.makeSpan(h,l,i);for(const y in a.attributes)y!=="class"&&a.attributes.hasOwnProperty(y)&&f.setAttribute(y,a.attributes[y]);return f},mathmlBuilder:(a,i)=>Kn(a.body,i)}),pe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"htmlmathml",mode:l.mode,html:vt(i[0]),mathml:vt(i[1])}},htmlBuilder:(a,i)=>{const l=ft(a.html,i,!1);return Q.makeFragment(l)},mathmlBuilder:(a,i)=>Kn(a.mathml,i)});const ac=function(a){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(a))return{number:+a,unit:"bp"};{const i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a);if(!i)throw new o("Invalid size: '"+a+"' in \\includegraphics");const l={number:+(i[1]+i[2]),unit:i[3]};if(!Il(l))throw new o("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l}};pe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,i,l)=>{let{parser:h}=a,f={number:0,unit:"em"},y={number:.9,unit:"em"},x={number:0,unit:"em"},S="";if(l[0]){const $=Ie(l[0],"raw").string.split(",");for(let G=0;G<$.length;G++){const X=$[G].split("=");if(X.length===2){const re=X[1].trim();switch(X[0].trim()){case"alt":S=re;break;case"width":f=ac(re);break;case"height":y=ac(re);break;case"totalheight":x=ac(re);break;default:throw new o("Invalid key: '"+X[0]+"' in \\includegraphics.")}}}}const I=Ie(i[0],"url").url;return S===""&&(S=I,S=S.replace(/^.*[\\/]/,""),S=S.substring(0,S.lastIndexOf("."))),h.settings.isTrusted({command:"\\includegraphics",url:I})?{type:"includegraphics",mode:h.mode,alt:S,width:f,height:y,totalheight:x,src:I}:h.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,i)=>{const l=Je(a.height,i);let h=0;a.totalheight.number>0&&(h=Je(a.totalheight,i)-l);let f=0;a.width.number>0&&(f=Je(a.width,i));const y={height:he(l+h)};f>0&&(y.width=he(f)),h>0&&(y.verticalAlign=he(-h));const x=new Ys(a.src,a.alt,y);return x.height=l,x.depth=h,x},mathmlBuilder:(a,i)=>{const l=new se.MathNode("mglyph",[]);l.setAttribute("alt",a.alt);const h=Je(a.height,i);let f=0;if(a.totalheight.number>0&&(f=Je(a.totalheight,i)-h,l.setAttribute("valign",he(-f))),l.setAttribute("height",he(h+f)),a.width.number>0){const y=Je(a.width,i);l.setAttribute("width",he(y))}return l.setAttribute("src",a.src),l}}),pe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=Ie(i[0],"size");if(l.settings.strict){const y=h[1]==="m",x=f.value.unit==="mu";y?(x||l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" supports only mu units, "+("not "+f.value.unit+" units")),l.mode!=="math"&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" works only in math mode")):x&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" doesn't support mu units")}return{type:"kern",mode:l.mode,dimension:f.value}},htmlBuilder(a,i){return Q.makeGlue(a.dimension,i)},mathmlBuilder(a,i){const l=Je(a.dimension,i);return new se.SpaceNode(l)}}),pe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"lap",mode:l.mode,alignment:h.slice(5),body:f}},htmlBuilder:(a,i)=>{let l;a.alignment==="clap"?(l=Q.makeSpan([],[be(a.body,i)]),l=Q.makeSpan(["inner"],[l],i)):l=Q.makeSpan(["inner"],[be(a.body,i)]);const h=Q.makeSpan(["fix"],[]);let f=Q.makeSpan([a.alignment],[l,h],i);const y=Q.makeSpan(["strut"]);return y.style.height=he(f.height+f.depth),f.depth&&(y.style.verticalAlign=he(-f.depth)),f.children.unshift(y),f=Q.makeSpan(["thinbox"],[f],i),Q.makeSpan(["mord","vbox"],[f],i)},mathmlBuilder:(a,i)=>{const l=new se.MathNode("mpadded",[$e(a.body,i)]);if(a.alignment!=="rlap"){const h=a.alignment==="llap"?"-1":"-0.5";l.setAttribute("lspace",h+"width")}return l.setAttribute("width","0px"),l}}),pe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){let{funcName:l,parser:h}=a;const f=h.mode;h.switchMode("math");const y=l==="\\("?"\\)":"$",x=h.parseExpression(!1,y);return h.expect(y),h.switchMode(f),{type:"styling",mode:h.mode,style:"text",body:x}}}),pe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){throw new o("Mismatched "+a.funcName)}});const d1=(a,i)=>{switch(i.style.size){case oe.DISPLAY.size:return a.display;case oe.TEXT.size:return a.text;case oe.SCRIPT.size:return a.script;case oe.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};pe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"mathchoice",mode:l.mode,display:vt(i[0]),text:vt(i[1]),script:vt(i[2]),scriptscript:vt(i[3])}},htmlBuilder:(a,i)=>{const l=d1(a,i),h=ft(l,i,!1);return Q.makeFragment(h)},mathmlBuilder:(a,i)=>{const l=d1(a,i);return Kn(l,i)}});const f1=(a,i,l,h,f,y,x)=>{a=Q.makeSpan([],[a]);const S=l&&W.isCharacterBox(l);let I,B;if(i){const X=be(i,h.havingStyle(f.sup()),h);B={elem:X,kern:Math.max(h.fontMetrics().bigOpSpacing1,h.fontMetrics().bigOpSpacing3-X.depth)}}if(l){const X=be(l,h.havingStyle(f.sub()),h);I={elem:X,kern:Math.max(h.fontMetrics().bigOpSpacing2,h.fontMetrics().bigOpSpacing4-X.height)}}let $;if(B&&I){const X=h.fontMetrics().bigOpSpacing5+I.elem.height+I.elem.depth+I.kern+a.depth+x;$=Q.makeVList({positionType:"bottom",positionData:X,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:I.elem,marginLeft:he(-y)},{type:"kern",size:I.kern},{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:he(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else if(I){const X=a.height-x;$=Q.makeVList({positionType:"top",positionData:X,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:I.elem,marginLeft:he(-y)},{type:"kern",size:I.kern},{type:"elem",elem:a}]},h)}else if(B){const X=a.depth+x;$=Q.makeVList({positionType:"bottom",positionData:X,children:[{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:he(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else return a;const G=[$];if(I&&y!==0&&!S){const X=Q.makeSpan(["mspace"],[],h);X.style.marginRight=he(y),G.unshift(X)}return Q.makeSpan(["mop","op-limits"],G,h)},m1=["\\smallint"],Yi=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Ie(a.base,"op"),f=!0):y=Ie(a,"op");const x=i.style;let S=!1;x.size===oe.DISPLAY.size&&y.symbol&&!m1.includes(y.name)&&(S=!0);let I;if(y.symbol){const G=S?"Size2-Regular":"Size1-Regular";let X="";if((y.name==="\\oiint"||y.name==="\\oiiint")&&(X=y.name.slice(1),y.name=X==="oiint"?"\\iint":"\\iiint"),I=Q.makeSymbol(y.name,G,"math",i,["mop","op-symbol",S?"large-op":"small-op"]),X.length>0){const re=I.italic,ye=Q.staticSvg(X+"Size"+(S?"2":"1"),i);I=Q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:0},{type:"elem",elem:ye,shift:S?.08:0}]},i),y.name="\\"+X,I.classes.unshift("mop"),I.italic=re}}else if(y.body){const G=ft(y.body,i,!0);G.length===1&&G[0]instanceof an?(I=G[0],I.classes[0]="mop"):I=Q.makeSpan(["mop"],G,i)}else{const G=[];for(let X=1;X<y.name.length;X++)G.push(Q.mathsym(y.name[X],y.mode,i));I=Q.makeSpan(["mop"],G,i)}let B=0,$=0;return(I instanceof an||y.name==="\\oiint"||y.name==="\\oiiint")&&!y.suppressBaseShift&&(B=(I.height-I.depth)/2-i.fontMetrics().axisHeight,$=I.italic),f?f1(I,l,h,i,x,$,B):(B&&(I.style.position="relative",I.style.top=he(B)),I)},fa=(a,i)=>{let l;if(a.symbol)l=new un("mo",[Tt(a.name,a.mode)]),m1.includes(a.name)&&l.setAttribute("largeop","false");else if(a.body)l=new un("mo",Yt(a.body,i));else{l=new un("mi",[new On(a.name.slice(1))]);const h=new un("mo",[Tt("⁡","text")]);a.parentIsSupSub?l=new un("mrow",[l,h]):l=na([l,h])}return l},e3={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};pe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(a,i)=>{let{parser:l,funcName:h}=a,f=h;return f.length===1&&(f=e3[f]),{type:"op",mode:l.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:f}},htmlBuilder:Yi,mathmlBuilder:fa}),pe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"op",mode:l.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:vt(h)}},htmlBuilder:Yi,mathmlBuilder:fa});const t3={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};pe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:Yi,mathmlBuilder:fa}),pe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:Yi,mathmlBuilder:fa}),pe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a,h=l;return h.length===1&&(h=t3[h]),{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:h}},htmlBuilder:Yi,mathmlBuilder:fa});const p1=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Ie(a.base,"operatorname"),f=!0):y=Ie(a,"operatorname");let x;if(y.body.length>0){const S=y.body.map(B=>{const $=B.text;return typeof $=="string"?{type:"textord",mode:B.mode,text:$}:B}),I=ft(S,i.withFont("mathrm"),!0);for(let B=0;B<I.length;B++){const $=I[B];$ instanceof an&&($.text=$.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}x=Q.makeSpan(["mop"],I,i)}else x=Q.makeSpan(["mop"],[],i);return f?f1(x,l,h,i,i.style,0,0):x};pe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"operatorname",mode:l.mode,body:vt(f),alwaysHandleSupSub:h==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:p1,mathmlBuilder:(a,i)=>{let l=Yt(a.body,i.withFont("mathrm")),h=!0;for(let x=0;x<l.length;x++){const S=l[x];if(!(S instanceof se.SpaceNode))if(S instanceof se.MathNode)switch(S.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const I=S.children[0];S.children.length===1&&I instanceof se.TextNode?I.text=I.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):h=!1;break}default:h=!1}else h=!1}if(h){const x=l.map(S=>S.toText()).join("");l=[new se.TextNode(x)]}const f=new se.MathNode("mi",l);f.setAttribute("mathvariant","normal");const y=new se.MathNode("mo",[Tt("⁡","text")]);return a.parentIsSupSub?new se.MathNode("mrow",[f,y]):se.newDocumentFragment([f,y])}}),T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),An({type:"ordgroup",htmlBuilder(a,i){return a.semisimple?Q.makeFragment(ft(a.body,i,!1)):Q.makeSpan(["mord"],ft(a.body,i,!0),i)},mathmlBuilder(a,i){return Kn(a.body,i,!0)}}),pe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,i){let{parser:l}=a;const h=i[0];return{type:"overline",mode:l.mode,body:h}},htmlBuilder(a,i){const l=be(a.body,i.havingCrampedStyle()),h=Q.makeLineSpan("overline-line",i),f=i.fontMetrics().defaultRuleThickness,y=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:3*f},{type:"elem",elem:h},{type:"kern",size:f}]},i);return Q.makeSpan(["mord","overline"],[y],i)},mathmlBuilder(a,i){const l=new se.MathNode("mo",[new se.TextNode("‾")]);l.setAttribute("stretchy","true");const h=new se.MathNode("mover",[$e(a.body,i),l]);return h.setAttribute("accent","true"),h}}),pe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"phantom",mode:l.mode,body:vt(h)}},htmlBuilder:(a,i)=>{const l=ft(a.body,i.withPhantom(),!1);return Q.makeFragment(l)},mathmlBuilder:(a,i)=>{const l=Yt(a.body,i);return new se.MathNode("mphantom",l)}}),pe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"hphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{let l=Q.makeSpan([],[be(a.body,i.withPhantom())]);if(l.height=0,l.depth=0,l.children)for(let h=0;h<l.children.length;h++)l.children[h].height=0,l.children[h].depth=0;return l=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i),Q.makeSpan(["mord"],[l],i)},mathmlBuilder:(a,i)=>{const l=Yt(vt(a.body),i),h=new se.MathNode("mphantom",l),f=new se.MathNode("mpadded",[h]);return f.setAttribute("height","0px"),f.setAttribute("depth","0px"),f}}),pe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"vphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{const l=Q.makeSpan(["inner"],[be(a.body,i.withPhantom())]),h=Q.makeSpan(["fix"],[]);return Q.makeSpan(["mord","rlap"],[l,h],i)},mathmlBuilder:(a,i)=>{const l=Yt(vt(a.body),i),h=new se.MathNode("mphantom",l),f=new se.MathNode("mpadded",[h]);return f.setAttribute("width","0px"),f}}),pe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;const h=Ie(i[0],"size").value,f=i[1];return{type:"raisebox",mode:l.mode,dy:h,body:f}},htmlBuilder(a,i){const l=be(a.body,i),h=Je(a.dy,i);return Q.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){const l=new se.MathNode("mpadded",[$e(a.body,i)]),h=a.dy.number+a.dy.unit;return l.setAttribute("voffset",h),l}}),pe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){let{parser:i}=a;return{type:"internal",mode:i.mode}}}),pe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,i,l){let{parser:h}=a;const f=l[0],y=Ie(i[0],"size"),x=Ie(i[1],"size");return{type:"rule",mode:h.mode,shift:f&&Ie(f,"size").value,width:y.value,height:x.value}},htmlBuilder(a,i){const l=Q.makeSpan(["mord","rule"],[],i),h=Je(a.width,i),f=Je(a.height,i),y=a.shift?Je(a.shift,i):0;return l.style.borderRightWidth=he(h),l.style.borderTopWidth=he(f),l.style.bottom=he(y),l.width=h,l.height=f+y,l.depth=-y,l.maxFontSize=f*1.125*i.sizeMultiplier,l},mathmlBuilder(a,i){const l=Je(a.width,i),h=Je(a.height,i),f=a.shift?Je(a.shift,i):0,y=i.color&&i.getColor()||"black",x=new se.MathNode("mspace");x.setAttribute("mathbackground",y),x.setAttribute("width",he(l)),x.setAttribute("height",he(h));const S=new se.MathNode("mpadded",[x]);return f>=0?S.setAttribute("height",he(f)):(S.setAttribute("height",he(f)),S.setAttribute("depth",he(-f))),S.setAttribute("voffset",he(f)),S}});function g1(a,i,l){const h=ft(a,i,!1),f=i.sizeMultiplier/l.sizeMultiplier;for(let y=0;y<h.length;y++){const x=h[y].classes.indexOf("sizing");x<0?Array.prototype.push.apply(h[y].classes,i.sizingClasses(l)):h[y].classes[x+1]==="reset-size"+i.size&&(h[y].classes[x+1]="reset-size"+l.size),h[y].height*=f,h[y].depth*=f}return Q.makeFragment(h)}const y1=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];pe({type:"sizing",names:y1,props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!1,l);return{type:"sizing",mode:f.mode,size:y1.indexOf(h)+1,body:y}},htmlBuilder:(a,i)=>{const l=i.havingSize(a.size);return g1(a.body,l,i)},mathmlBuilder:(a,i)=>{const l=i.havingSize(a.size),h=Yt(a.body,l),f=new se.MathNode("mstyle",h);return f.setAttribute("mathsize",he(l.sizeMultiplier)),f}}),pe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,i,l)=>{let{parser:h}=a,f=!1,y=!1;const x=l[0]&&Ie(l[0],"ordgroup");if(x){let I="";for(let B=0;B<x.body.length;++B)if(I=x.body[B].text,I==="t")f=!0;else if(I==="b")y=!0;else{f=!1,y=!1;break}}else f=!0,y=!0;const S=i[0];return{type:"smash",mode:h.mode,body:S,smashHeight:f,smashDepth:y}},htmlBuilder:(a,i)=>{const l=Q.makeSpan([],[be(a.body,i)]);if(!a.smashHeight&&!a.smashDepth)return l;if(a.smashHeight&&(l.height=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].height=0;if(a.smashDepth&&(l.depth=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].depth=0;const h=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i);return Q.makeSpan(["mord"],[h],i)},mathmlBuilder:(a,i)=>{const l=new se.MathNode("mpadded",[$e(a.body,i)]);return a.smashHeight&&l.setAttribute("height","0px"),a.smashDepth&&l.setAttribute("depth","0px"),l}}),pe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h}=a;const f=l[0],y=i[0];return{type:"sqrt",mode:h.mode,body:y,index:f}},htmlBuilder(a,i){let l=be(a.body,i.havingCrampedStyle());l.height===0&&(l.height=i.fontMetrics().xHeight),l=Q.wrapFragment(l,i);const f=i.fontMetrics().defaultRuleThickness;let y=f;i.style.id<oe.TEXT.id&&(y=i.fontMetrics().xHeight);let x=f+y/4;const S=l.height+l.depth+x+f,{span:I,ruleWidth:B,advanceWidth:$}=Wr.sqrtImage(S,i),G=I.height-B;G>l.height+l.depth+x&&(x=(x+G-l.height-l.depth)/2);const X=I.height-l.height-x-B;l.style.paddingLeft=he($);const re=Q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:-(l.height+X)},{type:"elem",elem:I},{type:"kern",size:B}]},i);if(a.index){const ye=i.havingStyle(oe.SCRIPTSCRIPT),_e=be(a.index,ye,i),Oe=.6*(re.height-re.depth),Pe=Q.makeVList({positionType:"shift",positionData:-Oe,children:[{type:"elem",elem:_e}]},i),Fe=Q.makeSpan(["root"],[Pe]);return Q.makeSpan(["mord","sqrt"],[Fe,re],i)}else return Q.makeSpan(["mord","sqrt"],[re],i)},mathmlBuilder(a,i){const{body:l,index:h}=a;return h?new se.MathNode("mroot",[$e(l,i),$e(h,i)]):new se.MathNode("msqrt",[$e(l,i)])}});const v1={display:oe.DISPLAY,text:oe.TEXT,script:oe.SCRIPT,scriptscript:oe.SCRIPTSCRIPT};pe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,i){let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!0,l),x=h.slice(1,h.length-5);return{type:"styling",mode:f.mode,style:x,body:y}},htmlBuilder(a,i){const l=v1[a.style],h=i.havingStyle(l).withFont("");return g1(a.body,h,i)},mathmlBuilder(a,i){const l=v1[a.style],h=i.havingStyle(l),f=Yt(a.body,h),y=new se.MathNode("mstyle",f),S={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[a.style];return y.setAttribute("scriptlevel",S[0]),y.setAttribute("displaystyle",S[1]),y}});const n3=function(a,i){const l=a.base;return l?l.type==="op"?l.limits&&(i.style.size===oe.DISPLAY.size||l.alwaysHandleSupSub)?Yi:null:l.type==="operatorname"?l.alwaysHandleSupSub&&(i.style.size===oe.DISPLAY.size||l.limits)?p1:null:l.type==="accent"?W.isCharacterBox(l.base)?Qi:null:l.type==="horizBrace"&&!a.sub===l.isOver?h1:null:null};An({type:"supsub",htmlBuilder(a,i){const l=n3(a,i);if(l)return l(a,i);const{base:h,sup:f,sub:y}=a,x=be(h,i);let S,I;const B=i.fontMetrics();let $=0,G=0;const X=h&&W.isCharacterBox(h);if(f){const Ke=i.havingStyle(i.style.sup());S=be(f,Ke,i),X||($=x.height-Ke.fontMetrics().supDrop*Ke.sizeMultiplier/i.sizeMultiplier)}if(y){const Ke=i.havingStyle(i.style.sub());I=be(y,Ke,i),X||(G=x.depth+Ke.fontMetrics().subDrop*Ke.sizeMultiplier/i.sizeMultiplier)}let re;i.style===oe.DISPLAY?re=B.sup1:i.style.cramped?re=B.sup3:re=B.sup2;const ye=i.sizeMultiplier,_e=he(.5/B.ptPerEm/ye);let Oe=null;if(I){const Ke=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(x instanceof an||Ke)&&(Oe=he(-x.italic))}let Pe;if(S&&I){$=Math.max($,re,S.depth+.25*B.xHeight),G=Math.max(G,B.sub2);const at=4*B.defaultRuleThickness;if($-S.depth-(I.height-G)<at){G=at-($-S.depth)+I.height;const Dt=.8*B.xHeight-($-S.depth);Dt>0&&($+=Dt,G-=Dt)}const wn=[{type:"elem",elem:I,shift:G,marginRight:_e,marginLeft:Oe},{type:"elem",elem:S,shift:-$,marginRight:_e}];Pe=Q.makeVList({positionType:"individualShift",children:wn},i)}else if(I){G=Math.max(G,B.sub1,I.height-.8*B.xHeight);const Ke=[{type:"elem",elem:I,marginLeft:Oe,marginRight:_e}];Pe=Q.makeVList({positionType:"shift",positionData:G,children:Ke},i)}else if(S)$=Math.max($,re,S.depth+.25*B.xHeight),Pe=Q.makeVList({positionType:"shift",positionData:-$,children:[{type:"elem",elem:S,marginRight:_e}]},i);else throw new Error("supsub must have either sup or sub.");const Fe=$i(x,"right")||"mord";return Q.makeSpan([Fe],[x,Q.makeSpan(["msupsub"],[Pe])],i)},mathmlBuilder(a,i){let l=!1,h,f;a.base&&a.base.type==="horizBrace"&&(f=!!a.sup,f===a.base.isOver&&(l=!0,h=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);const y=[$e(a.base,i)];a.sub&&y.push($e(a.sub,i)),a.sup&&y.push($e(a.sup,i));let x;if(l)x=h?"mover":"munder";else if(a.sub)if(a.sup){const S=a.base;S&&S.type==="op"&&S.limits&&i.style===oe.DISPLAY||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(i.style===oe.DISPLAY||S.limits)?x="munderover":x="msubsup"}else{const S=a.base;S&&S.type==="op"&&S.limits&&(i.style===oe.DISPLAY||S.alwaysHandleSupSub)||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(S.limits||i.style===oe.DISPLAY)?x="munder":x="msub"}else{const S=a.base;S&&S.type==="op"&&S.limits&&(i.style===oe.DISPLAY||S.alwaysHandleSupSub)||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(S.limits||i.style===oe.DISPLAY)?x="mover":x="msup"}return new se.MathNode(x,y)}}),An({type:"atom",htmlBuilder(a,i){return Q.mathsym(a.text,a.mode,i,["m"+a.family])},mathmlBuilder(a,i){const l=new se.MathNode("mo",[Tt(a.text,a.mode)]);if(a.family==="bin"){const h=ra(a,i);h==="bold-italic"&&l.setAttribute("mathvariant",h)}else a.family==="punct"?l.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&l.setAttribute("stretchy","false");return l}});const w1={mi:"italic",mn:"normal",mtext:"normal"};An({type:"mathord",htmlBuilder(a,i){return Q.makeOrd(a,i,"mathord")},mathmlBuilder(a,i){const l=new se.MathNode("mi",[Tt(a.text,a.mode,i)]),h=ra(a,i)||"italic";return h!==w1[l.type]&&l.setAttribute("mathvariant",h),l}}),An({type:"textord",htmlBuilder(a,i){return Q.makeOrd(a,i,"textord")},mathmlBuilder(a,i){const l=Tt(a.text,a.mode,i),h=ra(a,i)||"normal";let f;return a.mode==="text"?f=new se.MathNode("mtext",[l]):/[0-9]/.test(a.text)?f=new se.MathNode("mn",[l]):a.text==="\\prime"?f=new se.MathNode("mo",[l]):f=new se.MathNode("mi",[l]),h!==w1[f.type]&&f.setAttribute("mathvariant",h),f}});const lc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},uc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};An({type:"spacing",htmlBuilder(a,i){if(uc.hasOwnProperty(a.text)){const l=uc[a.text].className||"";if(a.mode==="text"){const h=Q.makeOrd(a,i,"textord");return h.classes.push(l),h}else return Q.makeSpan(["mspace",l],[Q.mathsym(a.text,a.mode,i)],i)}else{if(lc.hasOwnProperty(a.text))return Q.makeSpan(["mspace",lc[a.text]],[],i);throw new o('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,i){let l;if(uc.hasOwnProperty(a.text))l=new se.MathNode("mtext",[new se.TextNode(" ")]);else{if(lc.hasOwnProperty(a.text))return new se.MathNode("mspace");throw new o('Unknown type of space "'+a.text+'"')}return l}});const _1=()=>{const a=new se.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};An({type:"tag",mathmlBuilder(a,i){const l=new se.MathNode("mtable",[new se.MathNode("mtr",[_1(),new se.MathNode("mtd",[Kn(a.body,i)]),_1(),new se.MathNode("mtd",[Kn(a.tag,i)])])]);return l.setAttribute("width","100%"),l}});const x1={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},b1={"\\textbf":"textbf","\\textmd":"textmd"},r3={"\\textit":"textit","\\textup":"textup"},S1=(a,i)=>{const l=a.font;if(l){if(x1[l])return i.withTextFontFamily(x1[l]);if(b1[l])return i.withTextFontWeight(b1[l]);if(l==="\\emph")return i.fontShape==="textit"?i.withTextFontShape("textup"):i.withTextFontShape("textit")}else return i;return i.withTextFontShape(r3[l])};pe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"text",mode:l.mode,body:vt(f),font:h}},htmlBuilder(a,i){const l=S1(a,i),h=ft(a.body,l,!0);return Q.makeSpan(["mord","text"],h,l)},mathmlBuilder(a,i){const l=S1(a,i);return Kn(a.body,l)}}),pe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"underline",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=be(a.body,i),h=Q.makeLineSpan("underline-line",i),f=i.fontMetrics().defaultRuleThickness,y=Q.makeVList({positionType:"top",positionData:l.height,children:[{type:"kern",size:f},{type:"elem",elem:h},{type:"kern",size:3*f},{type:"elem",elem:l}]},i);return Q.makeSpan(["mord","underline"],[y],i)},mathmlBuilder(a,i){const l=new se.MathNode("mo",[new se.TextNode("‾")]);l.setAttribute("stretchy","true");const h=new se.MathNode("munder",[$e(a.body,i),l]);return h.setAttribute("accentunder","true"),h}}),pe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"vcenter",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=be(a.body,i),h=i.fontMetrics().axisHeight,f=.5*(l.height-h-(l.depth+h));return Q.makeVList({positionType:"shift",positionData:f,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){return new se.MathNode("mpadded",[$e(a.body,i)],["vcenter"])}}),pe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,i,l){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,i){const l=T1(a),h=[],f=i.havingStyle(i.style.text());for(let y=0;y<l.length;y++){let x=l[y];x==="~"&&(x="\\textasciitilde"),h.push(Q.makeSymbol(x,"Typewriter-Regular",a.mode,f,["mord","texttt"]))}return Q.makeSpan(["mord","text"].concat(f.sizingClasses(i)),Q.tryCombineChars(h),f)},mathmlBuilder(a,i){const l=new se.TextNode(T1(a)),h=new se.MathNode("mtext",[l]);return h.setAttribute("mathvariant","monospace"),h}});const T1=a=>a.body.replace(/ /g,a.star?"␣":" ");var _s=ur;const E1=`[ \r
	]`,s3="\\\\[a-zA-Z@]+",i3="\\\\[^\uD800-\uDFFF]",o3="("+s3+")"+E1+"*",a3=`\\\\(
|[ \r	]+
?)[ \r	]*`,cc="[̀-ͯ]",l3=new RegExp(cc+"+$"),u3="("+E1+"+)|"+(a3+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(cc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(cc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+o3)+("|"+i3+")");class k1{constructor(i,l){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=i,this.settings=l,this.tokenRegex=new RegExp(u3,"g"),this.catcodes={"%":14,"~":13}}setCatcode(i,l){this.catcodes[i]=l}lex(){const i=this.input,l=this.tokenRegex.lastIndex;if(l===i.length)return new Ln("EOF",new In(this,l,l));const h=this.tokenRegex.exec(i);if(h===null||h.index!==l)throw new o("Unexpected character: '"+i[l]+"'",new Ln(i[l],new In(this,l,l+1)));const f=h[6]||h[3]||(h[2]?"\\ ":" ");if(this.catcodes[f]===14){const y=i.indexOf(`
`,this.tokenRegex.lastIndex);return y===-1?(this.tokenRegex.lastIndex=i.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=y+1,this.lex()}return new Ln(f,new In(this,l,this.tokenRegex.lastIndex))}}class c3{constructor(i,l){i===void 0&&(i={}),l===void 0&&(l={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=l,this.builtins=i,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const i=this.undefStack.pop();for(const l in i)i.hasOwnProperty(l)&&(i[l]==null?delete this.current[l]:this.current[l]=i[l])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(i){return this.current.hasOwnProperty(i)||this.builtins.hasOwnProperty(i)}get(i){return this.current.hasOwnProperty(i)?this.current[i]:this.builtins[i]}set(i,l,h){if(h===void 0&&(h=!1),h){for(let f=0;f<this.undefStack.length;f++)delete this.undefStack[f][i];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][i]=l)}else{const f=this.undefStack[this.undefStack.length-1];f&&!f.hasOwnProperty(i)&&(f[i]=this.current[i])}l==null?delete this.current[i]:this.current[i]=l}}var h3=t1;T("\\noexpand",function(a){const i=a.popToken();return a.isExpandable(i.text)&&(i.noexpand=!0,i.treatAsRelax=!0),{tokens:[i],numArgs:0}}),T("\\expandafter",function(a){const i=a.popToken();return a.expandOnce(!0),{tokens:[i],numArgs:0}}),T("\\@firstoftwo",function(a){return{tokens:a.consumeArgs(2)[0],numArgs:0}}),T("\\@secondoftwo",function(a){return{tokens:a.consumeArgs(2)[1],numArgs:0}}),T("\\@ifnextchar",function(a){const i=a.consumeArgs(3);a.consumeSpaces();const l=a.future();return i[0].length===1&&i[0][0].text===l.text?{tokens:i[1],numArgs:0}:{tokens:i[2],numArgs:0}}),T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),T("\\TextOrMath",function(a){const i=a.consumeArgs(2);return a.mode==="text"?{tokens:i[0],numArgs:0}:{tokens:i[1],numArgs:0}});const A1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(a){let i=a.popToken(),l,h="";if(i.text==="'")l=8,i=a.popToken();else if(i.text==='"')l=16,i=a.popToken();else if(i.text==="`")if(i=a.popToken(),i.text[0]==="\\")h=i.text.charCodeAt(1);else{if(i.text==="EOF")throw new o("\\char` missing argument");h=i.text.charCodeAt(0)}else l=10;if(l){if(h=A1[i.text],h==null||h>=l)throw new o("Invalid base-"+l+" digit "+i.text);let f;for(;(f=A1[a.future().text])!=null&&f<l;)h*=l,h+=f,a.popToken()}return"\\@char{"+h+"}"});const hc=(a,i,l,h)=>{let f=a.consumeArg().tokens;if(f.length!==1)throw new o("\\newcommand's first argument must be a macro name");const y=f[0].text,x=a.isDefined(y);if(x&&!i)throw new o("\\newcommand{"+y+"} attempting to redefine "+(y+"; use \\renewcommand"));if(!x&&!l)throw new o("\\renewcommand{"+y+"} when command "+y+" does not yet exist; use \\newcommand");let S=0;if(f=a.consumeArg().tokens,f.length===1&&f[0].text==="["){let I="",B=a.expandNextToken();for(;B.text!=="]"&&B.text!=="EOF";)I+=B.text,B=a.expandNextToken();if(!I.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+I);S=parseInt(I),f=a.consumeArg().tokens}return x&&h||a.macros.set(y,{tokens:f,numArgs:S}),""};T("\\newcommand",a=>hc(a,!1,!0,!1)),T("\\renewcommand",a=>hc(a,!0,!1,!1)),T("\\providecommand",a=>hc(a,!0,!0,!0)),T("\\message",a=>{const i=a.consumeArgs(1)[0];return console.log(i.reverse().map(l=>l.text).join("")),""}),T("\\errmessage",a=>{const i=a.consumeArgs(1)[0];return console.error(i.reverse().map(l=>l.text).join("")),""}),T("\\show",a=>{const i=a.popToken(),l=i.text;return console.log(i,a.macros.get(l),_s[l],Ze.math[l],Ze.text[l]),""}),T("\\bgroup","{"),T("\\egroup","}"),T("~","\\nobreakspace"),T("\\lq","`"),T("\\rq","'"),T("\\aa","\\r a"),T("\\AA","\\r A"),T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),T("ℬ","\\mathscr{B}"),T("ℰ","\\mathscr{E}"),T("ℱ","\\mathscr{F}"),T("ℋ","\\mathscr{H}"),T("ℐ","\\mathscr{I}"),T("ℒ","\\mathscr{L}"),T("ℳ","\\mathscr{M}"),T("ℛ","\\mathscr{R}"),T("ℭ","\\mathfrak{C}"),T("ℌ","\\mathfrak{H}"),T("ℨ","\\mathfrak{Z}"),T("\\Bbbk","\\Bbb{k}"),T("·","\\cdotp"),T("\\llap","\\mathllap{\\textrm{#1}}"),T("\\rlap","\\mathrlap{\\textrm{#1}}"),T("\\clap","\\mathclap{\\textrm{#1}}"),T("\\mathstrut","\\vphantom{(}"),T("\\underbar","\\underline{\\text{#1}}"),T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),T("\\ne","\\neq"),T("≠","\\neq"),T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),T("∉","\\notin"),T("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),T("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),T("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),T("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),T("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),T("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),T("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),T("⟂","\\perp"),T("‼","\\mathclose{!\\mkern-0.8mu!}"),T("∌","\\notni"),T("⌜","\\ulcorner"),T("⌝","\\urcorner"),T("⌞","\\llcorner"),T("⌟","\\lrcorner"),T("©","\\copyright"),T("®","\\textregistered"),T("️","\\textregistered"),T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),T("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),T("⋮","\\vdots"),T("\\varGamma","\\mathit{\\Gamma}"),T("\\varDelta","\\mathit{\\Delta}"),T("\\varTheta","\\mathit{\\Theta}"),T("\\varLambda","\\mathit{\\Lambda}"),T("\\varXi","\\mathit{\\Xi}"),T("\\varPi","\\mathit{\\Pi}"),T("\\varSigma","\\mathit{\\Sigma}"),T("\\varUpsilon","\\mathit{\\Upsilon}"),T("\\varPhi","\\mathit{\\Phi}"),T("\\varPsi","\\mathit{\\Psi}"),T("\\varOmega","\\mathit{\\Omega}"),T("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),T("\\boxed","\\fbox{$\\displaystyle{#1}$}"),T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),T("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),T("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),T("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const I1={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(a){let i="\\dotso";const l=a.expandAfterFuture().text;return l in I1?i=I1[l]:(l.slice(0,4)==="\\not"||l in Ze.math&&["bin","rel"].includes(Ze.math[l].group))&&(i="\\dotsb"),i});const dc={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(a){return a.future().text in dc?"\\ldots\\,":"\\ldots"}),T("\\dotsc",function(a){const i=a.future().text;return i in dc&&i!==","?"\\ldots\\,":"\\ldots"}),T("\\cdots",function(a){return a.future().text in dc?"\\@cdots\\,":"\\@cdots"}),T("\\dotsb","\\cdots"),T("\\dotsm","\\cdots"),T("\\dotsi","\\!\\cdots"),T("\\dotsx","\\ldots\\,"),T("\\DOTSI","\\relax"),T("\\DOTSB","\\relax"),T("\\DOTSX","\\relax"),T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),T("\\,","\\tmspace+{3mu}{.1667em}"),T("\\thinspace","\\,"),T("\\>","\\mskip{4mu}"),T("\\:","\\tmspace+{4mu}{.2222em}"),T("\\medspace","\\:"),T("\\;","\\tmspace+{5mu}{.2777em}"),T("\\thickspace","\\;"),T("\\!","\\tmspace-{3mu}{.1667em}"),T("\\negthinspace","\\!"),T("\\negmedspace","\\tmspace-{4mu}{.2222em}"),T("\\negthickspace","\\tmspace-{5mu}{.277em}"),T("\\enspace","\\kern.5em "),T("\\enskip","\\hskip.5em\\relax"),T("\\quad","\\hskip1em\\relax"),T("\\qquad","\\hskip2em\\relax"),T("\\tag","\\@ifstar\\tag@literal\\tag@paren"),T("\\tag@paren","\\tag@literal{({#1})}"),T("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),T("\\newline","\\\\\\relax"),T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const C1=he(En["Main-Regular"][84][1]-.7*En["Main-Regular"][65][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+C1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+C1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),T("\\hspace","\\@ifstar\\@hspacer\\@hspace"),T("\\@hspace","\\hskip #1\\relax"),T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),T("\\ordinarycolon",":"),T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),T("∷","\\dblcolon"),T("∹","\\eqcolon"),T("≔","\\coloneqq"),T("≕","\\eqqcolon"),T("⩴","\\Coloneqq"),T("\\ratio","\\vcentcolon"),T("\\coloncolon","\\dblcolon"),T("\\colonequals","\\coloneqq"),T("\\coloncolonequals","\\Coloneqq"),T("\\equalscolon","\\eqqcolon"),T("\\equalscoloncolon","\\Eqqcolon"),T("\\colonminus","\\coloneq"),T("\\coloncolonminus","\\Coloneq"),T("\\minuscolon","\\eqcolon"),T("\\minuscoloncolon","\\Eqcolon"),T("\\coloncolonapprox","\\Colonapprox"),T("\\coloncolonsim","\\Colonsim"),T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),T("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),T("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),T("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),T("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),T("\\imath","\\html@mathml{\\@imath}{ı}"),T("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),T("⟦","\\llbracket"),T("⟧","\\rrbracket"),T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),T("⦃","\\lBrace"),T("⦄","\\rBrace"),T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),T("⦵","\\minuso"),T("\\darr","\\downarrow"),T("\\dArr","\\Downarrow"),T("\\Darr","\\Downarrow"),T("\\lang","\\langle"),T("\\rang","\\rangle"),T("\\uarr","\\uparrow"),T("\\uArr","\\Uparrow"),T("\\Uarr","\\Uparrow"),T("\\N","\\mathbb{N}"),T("\\R","\\mathbb{R}"),T("\\Z","\\mathbb{Z}"),T("\\alef","\\aleph"),T("\\alefsym","\\aleph"),T("\\Alpha","\\mathrm{A}"),T("\\Beta","\\mathrm{B}"),T("\\bull","\\bullet"),T("\\Chi","\\mathrm{X}"),T("\\clubs","\\clubsuit"),T("\\cnums","\\mathbb{C}"),T("\\Complex","\\mathbb{C}"),T("\\Dagger","\\ddagger"),T("\\diamonds","\\diamondsuit"),T("\\empty","\\emptyset"),T("\\Epsilon","\\mathrm{E}"),T("\\Eta","\\mathrm{H}"),T("\\exist","\\exists"),T("\\harr","\\leftrightarrow"),T("\\hArr","\\Leftrightarrow"),T("\\Harr","\\Leftrightarrow"),T("\\hearts","\\heartsuit"),T("\\image","\\Im"),T("\\infin","\\infty"),T("\\Iota","\\mathrm{I}"),T("\\isin","\\in"),T("\\Kappa","\\mathrm{K}"),T("\\larr","\\leftarrow"),T("\\lArr","\\Leftarrow"),T("\\Larr","\\Leftarrow"),T("\\lrarr","\\leftrightarrow"),T("\\lrArr","\\Leftrightarrow"),T("\\Lrarr","\\Leftrightarrow"),T("\\Mu","\\mathrm{M}"),T("\\natnums","\\mathbb{N}"),T("\\Nu","\\mathrm{N}"),T("\\Omicron","\\mathrm{O}"),T("\\plusmn","\\pm"),T("\\rarr","\\rightarrow"),T("\\rArr","\\Rightarrow"),T("\\Rarr","\\Rightarrow"),T("\\real","\\Re"),T("\\reals","\\mathbb{R}"),T("\\Reals","\\mathbb{R}"),T("\\Rho","\\mathrm{P}"),T("\\sdot","\\cdot"),T("\\sect","\\S"),T("\\spades","\\spadesuit"),T("\\sub","\\subset"),T("\\sube","\\subseteq"),T("\\supe","\\supseteq"),T("\\Tau","\\mathrm{T}"),T("\\thetasym","\\vartheta"),T("\\weierp","\\wp"),T("\\Zeta","\\mathrm{Z}"),T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),T("\\bra","\\mathinner{\\langle{#1}|}"),T("\\ket","\\mathinner{|{#1}\\rangle}"),T("\\braket","\\mathinner{\\langle{#1}\\rangle}"),T("\\Bra","\\left\\langle#1\\right|"),T("\\Ket","\\left|#1\\right\\rangle");const R1=a=>i=>{const l=i.consumeArg().tokens,h=i.consumeArg().tokens,f=i.consumeArg().tokens,y=i.consumeArg().tokens,x=i.macros.get("|"),S=i.macros.get("\\|");i.macros.beginGroup();const I=G=>X=>{a&&(X.macros.set("|",x),f.length&&X.macros.set("\\|",S));let re=G;return!G&&f.length&&X.future().text==="|"&&(X.popToken(),re=!0),{tokens:re?f:h,numArgs:0}};i.macros.set("|",I(!1)),f.length&&i.macros.set("\\|",I(!0));const B=i.consumeArg().tokens,$=i.expandTokens([...y,...B,...l]);return i.macros.endGroup(),{tokens:$.reverse(),numArgs:0}};T("\\bra@ket",R1(!1)),T("\\bra@set",R1(!0)),T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),T("\\angln","{\\angl n}"),T("\\blue","\\textcolor{##6495ed}{#1}"),T("\\orange","\\textcolor{##ffa500}{#1}"),T("\\pink","\\textcolor{##ff00af}{#1}"),T("\\red","\\textcolor{##df0030}{#1}"),T("\\green","\\textcolor{##28ae7b}{#1}"),T("\\gray","\\textcolor{gray}{#1}"),T("\\purple","\\textcolor{##9d38bd}{#1}"),T("\\blueA","\\textcolor{##ccfaff}{#1}"),T("\\blueB","\\textcolor{##80f6ff}{#1}"),T("\\blueC","\\textcolor{##63d9ea}{#1}"),T("\\blueD","\\textcolor{##11accd}{#1}"),T("\\blueE","\\textcolor{##0c7f99}{#1}"),T("\\tealA","\\textcolor{##94fff5}{#1}"),T("\\tealB","\\textcolor{##26edd5}{#1}"),T("\\tealC","\\textcolor{##01d1c1}{#1}"),T("\\tealD","\\textcolor{##01a995}{#1}"),T("\\tealE","\\textcolor{##208170}{#1}"),T("\\greenA","\\textcolor{##b6ffb0}{#1}"),T("\\greenB","\\textcolor{##8af281}{#1}"),T("\\greenC","\\textcolor{##74cf70}{#1}"),T("\\greenD","\\textcolor{##1fab54}{#1}"),T("\\greenE","\\textcolor{##0d923f}{#1}"),T("\\goldA","\\textcolor{##ffd0a9}{#1}"),T("\\goldB","\\textcolor{##ffbb71}{#1}"),T("\\goldC","\\textcolor{##ff9c39}{#1}"),T("\\goldD","\\textcolor{##e07d10}{#1}"),T("\\goldE","\\textcolor{##a75a05}{#1}"),T("\\redA","\\textcolor{##fca9a9}{#1}"),T("\\redB","\\textcolor{##ff8482}{#1}"),T("\\redC","\\textcolor{##f9685d}{#1}"),T("\\redD","\\textcolor{##e84d39}{#1}"),T("\\redE","\\textcolor{##bc2612}{#1}"),T("\\maroonA","\\textcolor{##ffbde0}{#1}"),T("\\maroonB","\\textcolor{##ff92c6}{#1}"),T("\\maroonC","\\textcolor{##ed5fa6}{#1}"),T("\\maroonD","\\textcolor{##ca337c}{#1}"),T("\\maroonE","\\textcolor{##9e034e}{#1}"),T("\\purpleA","\\textcolor{##ddd7ff}{#1}"),T("\\purpleB","\\textcolor{##c6b9fc}{#1}"),T("\\purpleC","\\textcolor{##aa87ff}{#1}"),T("\\purpleD","\\textcolor{##7854ab}{#1}"),T("\\purpleE","\\textcolor{##543b78}{#1}"),T("\\mintA","\\textcolor{##f5f9e8}{#1}"),T("\\mintB","\\textcolor{##edf2df}{#1}"),T("\\mintC","\\textcolor{##e0e5cc}{#1}"),T("\\grayA","\\textcolor{##f6f7f7}{#1}"),T("\\grayB","\\textcolor{##f0f1f2}{#1}"),T("\\grayC","\\textcolor{##e3e5e6}{#1}"),T("\\grayD","\\textcolor{##d6d8da}{#1}"),T("\\grayE","\\textcolor{##babec2}{#1}"),T("\\grayF","\\textcolor{##888d93}{#1}"),T("\\grayG","\\textcolor{##626569}{#1}"),T("\\grayH","\\textcolor{##3b3e40}{#1}"),T("\\grayI","\\textcolor{##21242c}{#1}"),T("\\kaBlue","\\textcolor{##314453}{#1}"),T("\\kaGreen","\\textcolor{##71B307}{#1}");const N1={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class d3{constructor(i,l,h){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=l,this.expansionCount=0,this.feed(i),this.macros=new c3(h3,l.macros),this.mode=h,this.stack=[]}feed(i){this.lexer=new k1(i,this.settings)}switchMode(i){this.mode=i}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(i){this.stack.push(i)}pushTokens(i){this.stack.push(...i)}scanArgument(i){let l,h,f;if(i){if(this.consumeSpaces(),this.future().text!=="[")return null;l=this.popToken(),{tokens:f,end:h}=this.consumeArg(["]"])}else({tokens:f,start:l,end:h}=this.consumeArg());return this.pushToken(new Ln("EOF",h.loc)),this.pushTokens(f),new Ln("",In.range(l,h))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(i){const l=[],h=i&&i.length>0;h||this.consumeSpaces();const f=this.future();let y,x=0,S=0;do{if(y=this.popToken(),l.push(y),y.text==="{")++x;else if(y.text==="}"){if(--x,x===-1)throw new o("Extra }",y)}else if(y.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(i&&h?i[S]:"}")+"'",y);if(i&&h)if((x===0||x===1&&i[S]==="{")&&y.text===i[S]){if(++S,S===i.length){l.splice(-S,S);break}}else S=0}while(x!==0||h);return f.text==="{"&&l[l.length-1].text==="}"&&(l.pop(),l.shift()),l.reverse(),{tokens:l,start:f,end:y}}consumeArgs(i,l){if(l){if(l.length!==i+1)throw new o("The length of delimiters doesn't match the number of args!");const f=l[0];for(let y=0;y<f.length;y++){const x=this.popToken();if(f[y]!==x.text)throw new o("Use of the macro doesn't match its definition",x)}}const h=[];for(let f=0;f<i;f++)h.push(this.consumeArg(l&&l[f+1]).tokens);return h}countExpansion(i){if(this.expansionCount+=i,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(i){const l=this.popToken(),h=l.text,f=l.noexpand?null:this._getExpansion(h);if(f==null||i&&f.unexpandable){if(i&&f==null&&h[0]==="\\"&&!this.isDefined(h))throw new o("Undefined control sequence: "+h);return this.pushToken(l),!1}this.countExpansion(1);let y=f.tokens;const x=this.consumeArgs(f.numArgs,f.delimiters);if(f.numArgs){y=y.slice();for(let S=y.length-1;S>=0;--S){let I=y[S];if(I.text==="#"){if(S===0)throw new o("Incomplete placeholder at end of macro body",I);if(I=y[--S],I.text==="#")y.splice(S+1,1);else if(/^[1-9]$/.test(I.text))y.splice(S,2,...x[+I.text-1]);else throw new o("Not a valid argument number",I)}}}return this.pushTokens(y),y.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const i=this.stack.pop();return i.treatAsRelax&&(i.text="\\relax"),i}throw new Error}expandMacro(i){return this.macros.has(i)?this.expandTokens([new Ln(i)]):void 0}expandTokens(i){const l=[],h=this.stack.length;for(this.pushTokens(i);this.stack.length>h;)if(this.expandOnce(!0)===!1){const f=this.stack.pop();f.treatAsRelax&&(f.noexpand=!1,f.treatAsRelax=!1),l.push(f)}return this.countExpansion(l.length),l}expandMacroAsText(i){const l=this.expandMacro(i);return l&&l.map(h=>h.text).join("")}_getExpansion(i){const l=this.macros.get(i);if(l==null)return l;if(i.length===1){const f=this.lexer.catcodes[i];if(f!=null&&f!==13)return}const h=typeof l=="function"?l(this):l;if(typeof h=="string"){let f=0;if(h.indexOf("#")!==-1){const B=h.replace(/##/g,"");for(;B.indexOf("#"+(f+1))!==-1;)++f}const y=new k1(h,this.settings),x=[];let S=y.lex();for(;S.text!=="EOF";)x.push(S),S=y.lex();return x.reverse(),{tokens:x,numArgs:f}}return h}isDefined(i){return this.macros.has(i)||_s.hasOwnProperty(i)||Ze.math.hasOwnProperty(i)||Ze.text.hasOwnProperty(i)||N1.hasOwnProperty(i)}isExpandable(i){const l=this.macros.get(i);return l!=null?typeof l=="string"||typeof l=="function"||!l.unexpandable:_s.hasOwnProperty(i)&&!_s[i].primitive}}const P1=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,ql=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),fc={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},M1={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Hl{constructor(i,l){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new d3(i,l,this.mode),this.settings=l,this.leftrightDepth=0}expect(i,l){if(l===void 0&&(l=!0),this.fetch().text!==i)throw new o("Expected '"+i+"', got '"+this.fetch().text+"'",this.fetch());l&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(i){this.mode=i,this.gullet.switchMode(i)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const i=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),i}finally{this.gullet.endGroups()}}subparse(i){const l=this.nextToken;this.consume(),this.gullet.pushToken(new Ln("}")),this.gullet.pushTokens(i);const h=this.parseExpression(!1);return this.expect("}"),this.nextToken=l,h}parseExpression(i,l){const h=[];for(;;){this.mode==="math"&&this.consumeSpaces();const f=this.fetch();if(Hl.endOfExpression.indexOf(f.text)!==-1||l&&f.text===l||i&&_s[f.text]&&_s[f.text].infix)break;const y=this.parseAtom(l);if(y){if(y.type==="internal")continue}else break;h.push(y)}return this.mode==="text"&&this.formLigatures(h),this.handleInfixNodes(h)}handleInfixNodes(i){let l=-1,h;for(let f=0;f<i.length;f++)if(i[f].type==="infix"){if(l!==-1)throw new o("only one infix operator per group",i[f].token);l=f,h=i[f].replaceWith}if(l!==-1&&h){let f,y;const x=i.slice(0,l),S=i.slice(l+1);x.length===1&&x[0].type==="ordgroup"?f=x[0]:f={type:"ordgroup",mode:this.mode,body:x},S.length===1&&S[0].type==="ordgroup"?y=S[0]:y={type:"ordgroup",mode:this.mode,body:S};let I;return h==="\\\\abovefrac"?I=this.callFunction(h,[f,i[l],y],[]):I=this.callFunction(h,[f,y],[]),[I]}else return i}handleSupSubscript(i){const l=this.fetch(),h=l.text;this.consume(),this.consumeSpaces();let f;do{var y;f=this.parseGroup(i)}while(((y=f)==null?void 0:y.type)==="internal");if(!f)throw new o("Expected group after '"+h+"'",l);return f}formatUnsupportedCmd(i){const l=[];for(let y=0;y<i.length;y++)l.push({type:"textord",mode:"text",text:i[y]});const h={type:"text",mode:this.mode,body:l};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[h]}}parseAtom(i){const l=this.parseGroup("atom",i);if((l==null?void 0:l.type)==="internal"||this.mode==="text")return l;let h,f;for(;;){this.consumeSpaces();const y=this.fetch();if(y.text==="\\limits"||y.text==="\\nolimits"){if(l&&l.type==="op"){const x=y.text==="\\limits";l.limits=x,l.alwaysHandleSupSub=!0}else if(l&&l.type==="operatorname")l.alwaysHandleSupSub&&(l.limits=y.text==="\\limits");else throw new o("Limit controls must follow a math operator",y);this.consume()}else if(y.text==="^"){if(h)throw new o("Double superscript",y);h=this.handleSupSubscript("superscript")}else if(y.text==="_"){if(f)throw new o("Double subscript",y);f=this.handleSupSubscript("subscript")}else if(y.text==="'"){if(h)throw new o("Double superscript",y);const x={type:"textord",mode:this.mode,text:"\\prime"},S=[x];for(this.consume();this.fetch().text==="'";)S.push(x),this.consume();this.fetch().text==="^"&&S.push(this.handleSupSubscript("superscript")),h={type:"ordgroup",mode:this.mode,body:S}}else if(ql[y.text]){const x=P1.test(y.text),S=[];for(S.push(new Ln(ql[y.text])),this.consume();;){const B=this.fetch().text;if(!ql[B]||P1.test(B)!==x)break;S.unshift(new Ln(ql[B])),this.consume()}const I=this.subparse(S);x?f={type:"ordgroup",mode:"math",body:I}:h={type:"ordgroup",mode:"math",body:I}}else break}return h||f?{type:"supsub",mode:this.mode,base:l,sup:h,sub:f}:l}parseFunction(i,l){const h=this.fetch(),f=h.text,y=_s[f];if(!y)return null;if(this.consume(),l&&l!=="atom"&&!y.allowedInArgument)throw new o("Got function '"+f+"' with no arguments"+(l?" as "+l:""),h);if(this.mode==="text"&&!y.allowedInText)throw new o("Can't use function '"+f+"' in text mode",h);if(this.mode==="math"&&y.allowedInMath===!1)throw new o("Can't use function '"+f+"' in math mode",h);const{args:x,optArgs:S}=this.parseArguments(f,y);return this.callFunction(f,x,S,h,i)}callFunction(i,l,h,f,y){const x={funcName:i,parser:this,token:f,breakOnTokenText:y},S=_s[i];if(S&&S.handler)return S.handler(x,l,h);throw new o("No function handler for "+i)}parseArguments(i,l){const h=l.numArgs+l.numOptionalArgs;if(h===0)return{args:[],optArgs:[]};const f=[],y=[];for(let x=0;x<h;x++){let S=l.argTypes&&l.argTypes[x];const I=x<l.numOptionalArgs;(l.primitive&&S==null||l.type==="sqrt"&&x===1&&y[0]==null)&&(S="primitive");const B=this.parseGroupOfType("argument to '"+i+"'",S,I);if(I)y.push(B);else if(B!=null)f.push(B);else throw new o("Null argument, please report this as a bug")}return{args:f,optArgs:y}}parseGroupOfType(i,l,h){switch(l){case"color":return this.parseColorGroup(h);case"size":return this.parseSizeGroup(h);case"url":return this.parseUrlGroup(h);case"math":case"text":return this.parseArgumentGroup(h,l);case"hbox":{const f=this.parseArgumentGroup(h,"text");return f!=null?{type:"styling",mode:f.mode,body:[f],style:"text"}:null}case"raw":{const f=this.parseStringGroup("raw",h);return f!=null?{type:"raw",mode:"text",string:f.text}:null}case"primitive":{if(h)throw new o("A primitive argument cannot be optional");const f=this.parseGroup(i);if(f==null)throw new o("Expected group as "+i,this.fetch());return f}case"original":case null:case void 0:return this.parseArgumentGroup(h);default:throw new o("Unknown group type as "+i,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(i,l){const h=this.gullet.scanArgument(l);if(h==null)return null;let f="",y;for(;(y=this.fetch()).text!=="EOF";)f+=y.text,this.consume();return this.consume(),h.text=f,h}parseRegexGroup(i,l){const h=this.fetch();let f=h,y="",x;for(;(x=this.fetch()).text!=="EOF"&&i.test(y+x.text);)f=x,y+=f.text,this.consume();if(y==="")throw new o("Invalid "+l+": '"+h.text+"'",h);return h.range(f,y)}parseColorGroup(i){const l=this.parseStringGroup("color",i);if(l==null)return null;const h=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(l.text);if(!h)throw new o("Invalid color: '"+l.text+"'",l);let f=h[0];return/^[0-9a-f]{6}$/i.test(f)&&(f="#"+f),{type:"color-token",mode:this.mode,color:f}}parseSizeGroup(i){let l,h=!1;if(this.gullet.consumeSpaces(),!i&&this.gullet.future().text!=="{"?l=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):l=this.parseStringGroup("size",i),!l)return null;!i&&l.text.length===0&&(l.text="0pt",h=!0);const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l.text);if(!f)throw new o("Invalid size: '"+l.text+"'",l);const y={number:+(f[1]+f[2]),unit:f[3]};if(!Il(y))throw new o("Invalid unit: '"+y.unit+"'",l);return{type:"size",mode:this.mode,value:y,isBlank:h}}parseUrlGroup(i){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const l=this.parseStringGroup("url",i);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),l==null)return null;const h=l.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:h}}parseArgumentGroup(i,l){const h=this.gullet.scanArgument(i);if(h==null)return null;const f=this.mode;l&&this.switchMode(l),this.gullet.beginGroup();const y=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const x={type:"ordgroup",mode:this.mode,loc:h.loc,body:y};return l&&this.switchMode(f),x}parseGroup(i,l){const h=this.fetch(),f=h.text;let y;if(f==="{"||f==="\\begingroup"){this.consume();const x=f==="{"?"}":"\\endgroup";this.gullet.beginGroup();const S=this.parseExpression(!1,x),I=this.fetch();this.expect(x),this.gullet.endGroup(),y={type:"ordgroup",mode:this.mode,loc:In.range(h,I),body:S,semisimple:f==="\\begingroup"||void 0}}else if(y=this.parseFunction(l,i)||this.parseSymbol(),y==null&&f[0]==="\\"&&!N1.hasOwnProperty(f)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+f,h);y=this.formatUnsupportedCmd(f),this.consume()}return y}formLigatures(i){let l=i.length-1;for(let h=0;h<l;++h){const f=i[h],y=f.text;y==="-"&&i[h+1].text==="-"&&(h+1<l&&i[h+2].text==="-"?(i.splice(h,3,{type:"textord",mode:"text",loc:In.range(f,i[h+2]),text:"---"}),l-=2):(i.splice(h,2,{type:"textord",mode:"text",loc:In.range(f,i[h+1]),text:"--"}),l-=1)),(y==="'"||y==="`")&&i[h+1].text===y&&(i.splice(h,2,{type:"textord",mode:"text",loc:In.range(f,i[h+1]),text:y+y}),l-=1)}}parseSymbol(){const i=this.fetch();let l=i.text;if(/^\\verb[^a-zA-Z]/.test(l)){this.consume();let y=l.slice(5);const x=y.charAt(0)==="*";if(x&&(y=y.slice(1)),y.length<2||y.charAt(0)!==y.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return y=y.slice(1,-1),{type:"verb",mode:"text",body:y,star:x}}M1.hasOwnProperty(l[0])&&!Ze[this.mode][l[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+l[0]+'" used in math mode',i),l=M1[l[0]]+l.slice(1));const h=l3.exec(l);h&&(l=l.substring(0,h.index),l==="i"?l="ı":l==="j"&&(l="ȷ"));let f;if(Ze[this.mode][l]){this.settings.strict&&this.mode==="math"&&Lr.indexOf(l)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+l[0]+'" used in math mode',i);const y=Ze[this.mode][l].group,x=In.range(i);let S;if(Rl.hasOwnProperty(y)){const I=y;S={type:"atom",mode:this.mode,family:I,loc:x,text:l}}else S={type:y,mode:this.mode,loc:x,text:l};f=S}else if(l.charCodeAt(0)>=128)this.settings.strict&&(Tn(l.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+l[0]+'" used in math mode',i):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+l[0]+'"'+(" ("+l.charCodeAt(0)+")"),i)),f={type:"textord",mode:"text",loc:In.range(i),text:l};else return null;if(this.consume(),h)for(let y=0;y<h[0].length;y++){const x=h[0][y];if(!fc[x])throw new o("Unknown accent ' "+x+"'",i);const S=fc[x][this.mode]||fc[x].text;if(!S)throw new o("Accent "+x+" unsupported in "+this.mode+" mode",i);f={type:"accent",mode:this.mode,loc:In.range(i),label:S,isStretchy:!1,isShifty:!0,base:f}}return f}}Hl.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var mc=function(a,i){if(!(typeof a=="string"||a instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const l=new Hl(a,i);delete l.gullet.macros.current["\\df@tag"];let h=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new o("\\tag works only in display equations");h=[{type:"tag",mode:"text",body:h,tag:l.subparse([new Ln("\\df@tag")])}]}return h};let D1=function(a,i,l){i.textContent="";const h=pc(a,l).toNode();i.appendChild(h)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),D1=function(){throw new o("KaTeX doesn't work in quirks mode.")});const f3=function(a,i){return pc(a,i).toMarkup()},m3=function(a,i){const l=new F(i);return mc(a,l)},V1=function(a,i,l){if(l.throwOnError||!(a instanceof o))throw a;const h=Q.makeSpan(["katex-error"],[new an(i)]);return h.setAttribute("title",a.toString()),h.setAttribute("style","color:"+l.errorColor),h},pc=function(a,i){const l=new F(i);try{const h=mc(a,l);return zl(h,a,l)}catch(h){return V1(h,a,l)}};var p3={version:"0.16.25",render:D1,renderToString:f3,ParseError:o,SETTINGS_SCHEMA:L,__parse:m3,__renderToDomTree:pc,__renderToHTMLTree:function(a,i){const l=new F(i);try{const h=mc(a,l);return ai(h,a,l)}catch(h){return V1(h,a,l)}},__setFontMetrics:Ne,__defineSymbol:m,__defineFunction:pe,__defineMacro:T,__domTree:{Span:fs,Anchor:Li,SymbolNode:an,SvgNode:Gt,PathNode:ar,LineNode:ms}},g3=p3;return r=r.default,r}()})}($c)),$c.exports}(function(t,e){(function(n,r){r(e,Le,Y7(),X7())})(Zp,function(n,r,s,o){Object.defineProperty(n,"__esModule",{value:!0});function c(W,L){for(var M in L)Object.defineProperty(W,M,{enumerable:!0,get:L[M]})}c(n,{BlockMath:()=>Y,InlineMath:()=>ee}),r=_(r),s=d(s),o=d(o);function d(W){return W&&W.__esModule?W:{default:W}}function g(W){if(typeof WeakMap!="function")return null;var L=new WeakMap,M=new WeakMap;return(g=function(F){return F?M:L})(W)}function _(W,L){if(W&&W.__esModule)return W;if(W===null||typeof W!="object"&&typeof W!="function")return{default:W};var M=g(L);if(M&&M.has(W))return M.get(W);var F={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in W)if(le!=="default"&&Object.prototype.hasOwnProperty.call(W,le)){var ce=te?Object.getOwnPropertyDescriptor(W,le):null;ce&&(ce.get||ce.set)?Object.defineProperty(F,le,ce):F[le]=W[le]}return F.default=W,M&&M.set(W,F),F}const E=(W,{displayMode:L})=>{const M=({children:F,errorColor:te,math:le,renderError:ce})=>{const D=le??F,{html:A,error:P}=(0,r.useMemo)(()=>{try{return{html:o.default.renderToString(D,{displayMode:L,errorColor:te,throwOnError:!!ce}),error:void 0}}catch(z){if(z instanceof o.default.ParseError||z instanceof TypeError)return{error:z};throw z}},[D,te,ce]);return P?ce?ce(P):r.default.createElement(W,{html:`${P.message}`}):r.default.createElement(W,{html:A})};return M.propTypes={children:s.default.string,errorColor:s.default.string,math:s.default.string,renderError:s.default.func},M},C={html:s.default.string.isRequired},R=({html:W})=>r.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:W}});R.propTypes=C;const H=({html:W})=>r.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:W}});H.propTypes=C;const Y=E(R,{displayMode:!0}),ee=E(H,{displayMode:!1})})})(Qh,Qh.exports);var Xm=Qh.exports;const J7=t=>{if(!t)return[];const e=[],n=/\$\$([\s\S]+?)\$\$/g;let r=0,s;for(;(s=n.exec(t))!==null;)s.index>r&&e.push({type:"text",value:t.slice(r,s.index)}),e.push({type:"math",value:s[1].trim()}),r=s.index+s[0].length;return r<t.length&&e.push({type:"text",value:t.slice(r)}),e},Wc=t=>{const e=t.split(`
`);return e.map((n,r)=>Z.jsxs(Le.Fragment,{children:[n,r<e.length-1?Z.jsx("br",{}):null]},`line-${r}`))},hf=({text:t,className:e,displayMode:n="block",enabled:r=!0})=>{const s=Le.useMemo(()=>r?J7(t):[],[r,t]),o=n==="inline"?"span":"div";return r?s.length?Z.jsx(o,{className:e,children:s.map((c,d)=>c.type==="math"?n==="inline"?Z.jsx(Xm.InlineMath,{children:c.value},`math-${d}`):Z.jsx(Xm.BlockMath,{children:c.value},`math-${d}`):Z.jsx(Le.Fragment,{children:Wc(c.value)},`text-${d}`))}):Z.jsx(o,{className:e,children:Wc(t)}):Z.jsx(o,{className:e,children:Wc(t)})},Z7=({option:t,isSelected:e,isCorrectChoice:n,showStatus:r,renderMath:s=!0,disabled:o,onSelect:c})=>{const d=r&&e&&n?"border-mint-600 bg-mint-50 text-cocoa-500 shadow-inner":r&&e&&!n?"border-rose-400 bg-blush-200/70 text-rose-500":r&&!e&&n?"border-mint-400 bg-mint-50 text-cocoa-500":!r&&e?"border-cocoa-300 bg-cream-50":"border-[rgba(118,90,72,0.18)] bg-white hover:border-cocoa-300";return Z.jsx("button",{type:"button","aria-label":`Option ${t.label}`,disabled:o,className:`flex w-full items-stretch justify-between rounded-2xl border px-5 py-3 text-left font-medium text-cocoa-500 transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${d} ${o?"cursor-not-allowed opacity-90":""}`,onClick:c,children:Z.jsxs("div",{className:"flex w-full items-start gap-3",children:[Z.jsxs("span",{className:"text-lg font-semibold text-rose-400",children:[t.label,"."]}),Z.jsx(hf,{text:t.text,displayMode:"inline",enabled:s,className:"flex-1 text-base leading-relaxed text-current sm:text-lg"})]})})},ey=({selection:t,question:e,renderMath:n=!0})=>{if(!t)return null;const r=e.options[e.correctIndex],s=t.isCorrect;return Z.jsxs("div",{role:"status","aria-live":"polite",className:`mt-8 flex items-center gap-3 rounded-2xl px-5 py-4 text-base font-semibold ${s?"bg-mint-50 text-mint-600":"bg-cream-100/60 text-rose-500"}`,children:[Z.jsx("span",{className:"text-2xl","aria-hidden":!0,children:s?"★":":("}),s?Z.jsx("span",{children:"Correct!"}):Z.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Z.jsxs("span",{children:["Nope. Right answer: ",r.label,"."]}),Z.jsx(hf,{text:r.text,displayMode:"inline",enabled:n,className:"inline text-inherit"})]})]})},ty=({hasPrev:t,hasNext:e,canProceed:n,onPrev:r,onNext:s,onFinish:o})=>{const c=!e,d=c?o:s,g=c?!n:!n||!e,_=c?"Finish exam":"Next";return Z.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[Z.jsx("button",{type:"button",disabled:!t,onClick:r,className:`rounded-2xl border border-transparent px-5 py-3 text-lg font-semibold transition-all ${t?"bg-cream-100 text-cocoa-500 hover:border-cocoa-200 hover:bg-white":"bg-cream-100 text-cocoa-300 opacity-60"}`,children:"Previous"}),Z.jsx("button",{type:"button",disabled:g,onClick:d,className:`rounded-2xl px-5 py-3 text-lg font-semibold text-white transition-all ${g?"bg-cocoa-300 opacity-60":"bg-rose-400 hover:bg-rose-500"}`,children:_})]})},ny=({exams:t,activeExamId:e,isOpen:n,onSelect:r,onToggle:s,onDelete:o})=>Z.jsxs("aside",{className:`fixed bottom-0 right-0 top-0 z-30 w-72 border-l border-cream-100 bg-white px-5 py-6 shadow-2xl transition-all duration-200 md:static md:mt-0 md:h-auto md:border-none md:shadow-none ${n?"translate-x-0 opacity-100 md:block":"pointer-events-none translate-x-full opacity-0 md:hidden"}`,"aria-label":"Exam list",children:[Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsx("h2",{className:"font-display text-xl font-semibold text-rose-500",children:"Stored Exams"}),Z.jsx("button",{type:"button",className:"rounded-full bg-cream-100 px-3 py-1 text-xs font-semibold text-cocoa-500 md:hidden",onClick:s,children:n?"Hide":"Show"})]}),Z.jsx("p",{className:"mt-2 text-sm text-cocoa-300",children:"Tap an exam to load it. Import as many as you like (up to 1000 questions each)."}),Z.jsxs("ul",{className:"mt-4 space-y-2",children:[t.map(c=>{const d=c.id===e;return Z.jsxs("li",{className:"relative",children:[Z.jsxs("button",{type:"button",className:`w-full rounded-2xl border px-4 py-3 text-left text-sm font-semibold transition ${d?"border-rose-400 bg-blush-200/60 text-rose-500":"border-transparent bg-cream-50 text-cocoa-500 hover:border-cocoa-100"}`,onClick:()=>r(c.id),children:[Z.jsx("span",{className:"block text-base",children:c.title}),Z.jsxs("span",{className:"text-xs font-medium text-cocoa-300",children:[c.questions.length," questions"]})]}),Z.jsx("button",{type:"button","aria-label":`Delete ${c.title}`,className:"absolute right-3 top-3 rounded-full border border-transparent bg-white/80 px-3 py-1 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:g=>{g.stopPropagation(),o(c.id)},children:"Delete"})]},c.id)}),t.length===0&&Z.jsx("li",{className:"rounded-2xl border border-dashed border-cream-100 bg-cream-50/60 px-4 py-3 text-sm text-cocoa-300",children:"No exams stored yet."})]})]}),ry=({title:t,score:e,total:n,onRetake:r,onExit:s})=>{const o=n>0?Math.round(e/n*100):0,c=Math.max(n-e,0);return Z.jsxs("section",{"aria-label":"Exam summary",className:"flex flex-col items-center gap-8 text-center",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-rose-400",children:"Exam complete"}),Z.jsx("h2",{className:"mt-3 font-display text-3xl font-semibold text-cocoa-600",children:t})]}),Z.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-cream-100 bg-cream-50 px-8 py-6 shadow-inner",children:[Z.jsx("p",{className:"text-sm font-medium text-cocoa-400",children:"Your score"}),Z.jsxs("p",{className:"mt-3 text-5xl font-semibold text-rose-500",children:[e,"/",n]}),Z.jsxs("p",{className:"mt-2 text-sm text-cocoa-400",children:[o,"% correct •"," ",c===0?"Perfect run!":`${c} ${c===1?"missed question":"missed questions"}`]})]}),Z.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row",children:[Z.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-6 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:r,children:"Retake exam"}),Z.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-6 py-3 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:s,children:"Back to exam hub"})]})]})},sy={success:"bg-mint-50 text-mint-600",error:"bg-blush-200 text-rose-500",info:"bg-cream-100 text-cocoa-500"},iy={success:"★",error:"!",info:"i"},oy=({text:t,type:e="info",icon:n,onDismiss:r})=>Z.jsxs("div",{className:`mt-6 flex items-center justify-between gap-4 rounded-2xl px-4 py-3 text-sm font-semibold ${sy[e]}`,children:[Z.jsxs("span",{className:"flex items-center gap-3",children:[Z.jsx("span",{"aria-hidden":!0,children:n??iy[e]}),Z.jsx("span",{children:t})]}),r&&Z.jsx("button",{type:"button","aria-label":"Dismiss message",className:"rounded-full border border-transparent px-3 py-1 text-xs font-semibold text-cocoa-500 transition hover:border-cocoa-200",onClick:r,children:"Close"})]}),dg={id:"latin-default",title:"Latin Vocabulary Exam",questions:[{entry:"grammatica, grammaticae, f.",options:[{label:"a",text:"example"},{label:"b",text:"chapter"},{label:"c",text:"letter"},{label:"d",text:"grammar"}],correctIndex:3},{entry:"discipula, discipulae, f.",options:[{label:"a",text:"teacher"},{label:"b",text:"friend"},{label:"c",text:"scribe"},{label:"d",text:"student"}],correctIndex:3},{entry:"poeta, poetae, m.",options:[{label:"a",text:"sailor"},{label:"b",text:"soldier"},{label:"c",text:"farmer"},{label:"d",text:"poet"}],correctIndex:3},{entry:"patria, patriae, f.",options:[{label:"a",text:"daughter"},{label:"b",text:"market"},{label:"c",text:"forest"},{label:"d",text:"homeland"}],correctIndex:3},{entry:"puella, puellae, f.",options:[{label:"a",text:"maid"},{label:"b",text:"boy"},{label:"c",text:"child"},{label:"d",text:"girl"}],correctIndex:3},{entry:"insula, insulae, f.",options:[{label:"a",text:"street"},{label:"b",text:"temple"},{label:"c",text:"palace"},{label:"d",text:"island"}],correctIndex:3},{entry:"fabula, fabulae, f.",options:[{label:"a",text:"spear"},{label:"b",text:"statue"},{label:"c",text:"feast"},{label:"d",text:"story"}],correctIndex:3},{entry:"agricola, agricolae, m.",options:[{label:"a",text:"general"},{label:"b",text:"hunter"},{label:"c",text:"painter"},{label:"d",text:"farmer"}],correctIndex:3}]},ay=[dg],ly=768,uy=(t=ly)=>{const[e,n]=Le.useState(()=>typeof window>"u"?!1:window.innerWidth<t);return Le.useEffect(()=>{if(typeof window>"u")return;const r=()=>n(window.innerWidth<t);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},cy=/^([a-z])[).:\-]\s*(.+)$/i,hy=/^question(?:\s+\d+)?\s*[:\-]\s*(.+)$/i,dy=/^title\s*[:\-]\s*(.+)$/i,Jm=/^answer\s*[:\-]\s*([a-z])/i,fy=1e3,my=t=>t.replace(/\r\n/g,`
`).split(`
`),py=t=>{if(!t.trim())return{success:!1,message:"The uploaded file is empty."};const n=my(t);let r=0,s="";const o=[],c=()=>{for(;r<n.length&&!n[r].trim();)r+=1};if(c(),r>=n.length)return{success:!1,message:"File content is missing a Title line."};const d=n[r].trim().match(dy);if(!d)return{success:!1,message:'Start your file with "Title: <Name of exam>".'};for(s=d[1].trim(),r+=1;r<n.length&&(c(),!(r>=n.length));){const _=n[r].trim().match(hy);if(!_)return{success:!1,message:`Expected a "Question:" line near line ${r+1}.`};const E=_[1].trim();if(!E)return{success:!1,message:`Missing text for the question near line ${r+1}.`};r+=1;const C=[];for(;r<n.length;){const W=n[r].trim();if(!W){r+=1;continue}if(Jm.test(W))break;const L=W.match(cy);if(!L)return{success:!1,message:`Option lines should start with "a. text". Issue near line ${r+1}.`};C.push({label:L[1].toLowerCase(),text:L[2].trim()}),r+=1}if(C.length<2)return{success:!1,message:`Each question needs at least two options (question near line ${r+1}).`};if(r>=n.length)return{success:!1,message:`Missing "Answer:" line for the question that begins with "${E}".`};const H=n[r].trim().match(Jm);if(!H)return{success:!1,message:`Answer line malformed near line ${r+1}. Use "Answer: a".`};const Y=H[1].toLowerCase(),ee=C.findIndex(W=>W.label===Y);if(ee===-1)return{success:!1,message:`The answer letter "${Y}" must match one of the listed options.`};if(r+=1,o.push({entry:E,options:C,correctIndex:ee}),o.length>fy)return{success:!1,message:"Please limit exams to 1000 questions or fewer."}}return o.length===0?{success:!1,message:"No questions were detected. Please follow the provided template."}:{success:!0,data:{title:s,questions:o}}},gy=t=>{const e=[];return e.push(`Title: ${t.title}`),e.push(""),t.questions.forEach((n,r)=>{e.push(`Question ${r+1}: ${n.entry}`),n.options.forEach(c=>{e.push(`${c.label}. ${c.text}`)});const s=n.options[n.correctIndex],o=s?s.label:"";e.push(`Answer: ${o}`),e.push("")}),e.join(`
`).trim()+`
`};var Zm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],g=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,g=s+2<t.length,_=g?t[s+2]:0,E=o>>2,C=(o&3)<<4|d>>4;let R=(d&15)<<2|_>>6,H=_&63;g||(H=64,c||(R=64)),r.push(n[E],n[C],n[R],n[H])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const _=s<t.length?n[t.charAt(s)]:64;++s;const C=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||_==null||C==null)throw new vy;const R=o<<2|d>>4;if(r.push(R),_!==64){const H=d<<4&240|_>>2;if(r.push(H),C!==64){const Y=_<<6&192|C;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wy=function(t){const e=fg(t);return mg.encodeByteArray(e,!0)},eu=function(t){return wy(t).replace(/\./g,"")},_y=function(t){try{return mg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=()=>xy().__FIREBASE_DEFAULTS__,Sy=()=>{if(typeof process>"u"||typeof Zm>"u")return;const t=Zm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ty=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_y(t[1]);return e&&JSON.parse(e)},df=()=>{try{return by()||Sy()||Ty()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ey=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ky=t=>{const e=Ey(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pg=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eu(JSON.stringify(n)),eu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ry(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ny(){return!Ry()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Py(){try{return typeof indexedDB=="object"}catch{return!1}}function My(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="FirebaseError";class jo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dy,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gg.prototype.create)}}class gg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?Vy(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new jo(s,d,r)}}function Vy(t,e){return t.replace(zy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zy=/\{\$([^}]+)}/g;function Yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(ep(o)&&ep(c)){if(!Yh(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ep(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return t&&t._delegate?t._delegate:t}class al{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ay;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fy(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ly(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ly(t){return t===di?void 0:t}function Fy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const jy={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Uy=Ue.INFO,qy={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Hy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=Uy,this._logHandler=Hy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const $y=(t,e)=>e.some(n=>t instanceof n);let tp,np;function Wy(){return tp||(tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gy(){return np||(np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vg=new WeakMap,Xh=new WeakMap,wg=new WeakMap,Gc=new WeakMap,ff=new WeakMap;function Ky(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ls(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vg.set(n,t)}).catch(()=>{}),ff.set(e,t),e}function Qy(t){if(Xh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Xh.set(t,e)}let Jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yy(t){Jh=t(Jh)}function Xy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kc(this),e,...n);return wg.set(r,e.sort?e.sort():[e]),Ls(r)}:Gy().includes(t)?function(...e){return t.apply(Kc(this),e),Ls(vg.get(this))}:function(...e){return Ls(t.apply(Kc(this),e))}}function Jy(t){return typeof t=="function"?Xy(t):(t instanceof IDBTransaction&&Qy(t),$y(t,Wy())?new Proxy(t,Jh):t)}function Ls(t){if(t instanceof IDBRequest)return Ky(t);if(Gc.has(t))return Gc.get(t);const e=Jy(t);return e!==t&&(Gc.set(t,e),ff.set(e,t)),e}const Kc=t=>ff.get(t);function Zy(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=Ls(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Ls(c.result),g.oldVersion,g.newVersion,Ls(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{o&&g.addEventListener("close",()=>o()),s&&g.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const e8=["get","getKey","getAll","getAllKeys","count"],t8=["put","add","delete","clear"],Qc=new Map;function rp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qc.get(e))return Qc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e8.includes(n)))return;const o=async function(c,...d){const g=this.transaction(c,s?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(d.shift())),(await Promise.all([_[n](...d),s&&g.done]))[0]};return Qc.set(e,o),o}Yy(t=>({...t,get:(e,n,r)=>rp(e,n)||t.get(e,n,r),has:(e,n)=>!!rp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zh="@firebase/app",sp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new yg("@firebase/app"),s8="@firebase/app-compat",i8="@firebase/analytics-compat",o8="@firebase/analytics",a8="@firebase/app-check-compat",l8="@firebase/app-check",u8="@firebase/auth",c8="@firebase/auth-compat",h8="@firebase/database",d8="@firebase/data-connect",f8="@firebase/database-compat",m8="@firebase/functions",p8="@firebase/functions-compat",g8="@firebase/installations",y8="@firebase/installations-compat",v8="@firebase/messaging",w8="@firebase/messaging-compat",_8="@firebase/performance",x8="@firebase/performance-compat",b8="@firebase/remote-config",S8="@firebase/remote-config-compat",T8="@firebase/storage",E8="@firebase/storage-compat",k8="@firebase/firestore",A8="@firebase/vertexai-preview",I8="@firebase/firestore-compat",C8="firebase",R8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",N8={[Zh]:"fire-core",[s8]:"fire-core-compat",[o8]:"fire-analytics",[i8]:"fire-analytics-compat",[l8]:"fire-app-check",[a8]:"fire-app-check-compat",[u8]:"fire-auth",[c8]:"fire-auth-compat",[h8]:"fire-rtdb",[d8]:"fire-data-connect",[f8]:"fire-rtdb-compat",[m8]:"fire-fn",[p8]:"fire-fn-compat",[g8]:"fire-iid",[y8]:"fire-iid-compat",[v8]:"fire-fcm",[w8]:"fire-fcm-compat",[_8]:"fire-perf",[x8]:"fire-perf-compat",[b8]:"fire-rc",[S8]:"fire-rc-compat",[T8]:"fire-gcs",[E8]:"fire-gcs-compat",[k8]:"fire-fst",[I8]:"fire-fst-compat",[A8]:"fire-vertex","fire-js":"fire-js",[C8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,P8=new Map,td=new Map;function ip(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nu(t){const e=t.name;if(td.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,t);for(const n of tu.values())ip(n,t);for(const n of P8.values())ip(n,t);return!0}function M8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new gg("app","Firebase",D8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=R8;function _g(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ed,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fs.create("bad-app-name",{appName:String(s)});if(n||(n=pg()),!n)throw Fs.create("no-options");const o=tu.get(s);if(o){if(Yh(n,o.options)&&Yh(r,o.config))return o;throw Fs.create("duplicate-app",{appName:s})}const c=new By(s);for(const g of td.values())c.addComponent(g);const d=new V8(n,r,c);return tu.set(s,d),d}function O8(t=ed){const e=tu.get(t);if(!e&&t===ed&&pg())return _g();if(!e)throw Fs.create("no-app",{appName:t});return e}function xo(t,e,n){var r;let s=(r=N8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}nu(new al(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="firebase-heartbeat-database",F8=1,ll="firebase-heartbeat-store";let Yc=null;function xg(){return Yc||(Yc=Zy(L8,F8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),Yc}async function B8(t){try{const n=(await xg()).transaction(ll),r=await n.objectStore(ll).get(bg(t));return await n.done,r}catch(e){if(e instanceof jo)ns.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function op(t,e){try{const r=(await xg()).transaction(ll,"readwrite");await r.objectStore(ll).put(e,bg(t)),await r.done}catch(n){if(n instanceof jo)ns.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function bg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=1024,U8=30*24*60*60*1e3;class q8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=U8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ap(),{heartbeatsToSend:r,unsentEntries:s}=H8(this._heartbeatsCache.heartbeats),o=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ns.warn(n),""}}}function ap(){return new Date().toISOString().substring(0,10)}function H8(t,e=j8){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),lp(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Py()?My().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return op(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return op(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lp(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){nu(new al("platform-logger",e=>new n8(e),"PRIVATE")),nu(new al("heartbeat",e=>new q8(e),"PRIVATE")),xo(Zh,sp,t),xo(Zh,sp,"esm2017"),xo("fire-js","")}W8("");var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Sg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.D=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(z,U,q){for(var O=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)O[Wt-2]=arguments[Wt];return A.prototype[U].apply(z,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,P){P||(P=0);var z=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)z[U]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(U=0;16>U;++U)z[U]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],U=D.g[2];var q=D.g[3],O=A+(q^P&(U^q))+z[0]+3614090360&4294967295;A=P+(O<<7&4294967295|O>>>25),O=q+(U^A&(P^U))+z[1]+3905402710&4294967295,q=A+(O<<12&4294967295|O>>>20),O=U+(P^q&(A^P))+z[2]+606105819&4294967295,U=q+(O<<17&4294967295|O>>>15),O=P+(A^U&(q^A))+z[3]+3250441966&4294967295,P=U+(O<<22&4294967295|O>>>10),O=A+(q^P&(U^q))+z[4]+4118548399&4294967295,A=P+(O<<7&4294967295|O>>>25),O=q+(U^A&(P^U))+z[5]+1200080426&4294967295,q=A+(O<<12&4294967295|O>>>20),O=U+(P^q&(A^P))+z[6]+2821735955&4294967295,U=q+(O<<17&4294967295|O>>>15),O=P+(A^U&(q^A))+z[7]+4249261313&4294967295,P=U+(O<<22&4294967295|O>>>10),O=A+(q^P&(U^q))+z[8]+1770035416&4294967295,A=P+(O<<7&4294967295|O>>>25),O=q+(U^A&(P^U))+z[9]+2336552879&4294967295,q=A+(O<<12&4294967295|O>>>20),O=U+(P^q&(A^P))+z[10]+4294925233&4294967295,U=q+(O<<17&4294967295|O>>>15),O=P+(A^U&(q^A))+z[11]+2304563134&4294967295,P=U+(O<<22&4294967295|O>>>10),O=A+(q^P&(U^q))+z[12]+1804603682&4294967295,A=P+(O<<7&4294967295|O>>>25),O=q+(U^A&(P^U))+z[13]+4254626195&4294967295,q=A+(O<<12&4294967295|O>>>20),O=U+(P^q&(A^P))+z[14]+2792965006&4294967295,U=q+(O<<17&4294967295|O>>>15),O=P+(A^U&(q^A))+z[15]+1236535329&4294967295,P=U+(O<<22&4294967295|O>>>10),O=A+(U^q&(P^U))+z[1]+4129170786&4294967295,A=P+(O<<5&4294967295|O>>>27),O=q+(P^U&(A^P))+z[6]+3225465664&4294967295,q=A+(O<<9&4294967295|O>>>23),O=U+(A^P&(q^A))+z[11]+643717713&4294967295,U=q+(O<<14&4294967295|O>>>18),O=P+(q^A&(U^q))+z[0]+3921069994&4294967295,P=U+(O<<20&4294967295|O>>>12),O=A+(U^q&(P^U))+z[5]+3593408605&4294967295,A=P+(O<<5&4294967295|O>>>27),O=q+(P^U&(A^P))+z[10]+38016083&4294967295,q=A+(O<<9&4294967295|O>>>23),O=U+(A^P&(q^A))+z[15]+3634488961&4294967295,U=q+(O<<14&4294967295|O>>>18),O=P+(q^A&(U^q))+z[4]+3889429448&4294967295,P=U+(O<<20&4294967295|O>>>12),O=A+(U^q&(P^U))+z[9]+568446438&4294967295,A=P+(O<<5&4294967295|O>>>27),O=q+(P^U&(A^P))+z[14]+3275163606&4294967295,q=A+(O<<9&4294967295|O>>>23),O=U+(A^P&(q^A))+z[3]+4107603335&4294967295,U=q+(O<<14&4294967295|O>>>18),O=P+(q^A&(U^q))+z[8]+1163531501&4294967295,P=U+(O<<20&4294967295|O>>>12),O=A+(U^q&(P^U))+z[13]+2850285829&4294967295,A=P+(O<<5&4294967295|O>>>27),O=q+(P^U&(A^P))+z[2]+4243563512&4294967295,q=A+(O<<9&4294967295|O>>>23),O=U+(A^P&(q^A))+z[7]+1735328473&4294967295,U=q+(O<<14&4294967295|O>>>18),O=P+(q^A&(U^q))+z[12]+2368359562&4294967295,P=U+(O<<20&4294967295|O>>>12),O=A+(P^U^q)+z[5]+4294588738&4294967295,A=P+(O<<4&4294967295|O>>>28),O=q+(A^P^U)+z[8]+2272392833&4294967295,q=A+(O<<11&4294967295|O>>>21),O=U+(q^A^P)+z[11]+1839030562&4294967295,U=q+(O<<16&4294967295|O>>>16),O=P+(U^q^A)+z[14]+4259657740&4294967295,P=U+(O<<23&4294967295|O>>>9),O=A+(P^U^q)+z[1]+2763975236&4294967295,A=P+(O<<4&4294967295|O>>>28),O=q+(A^P^U)+z[4]+1272893353&4294967295,q=A+(O<<11&4294967295|O>>>21),O=U+(q^A^P)+z[7]+4139469664&4294967295,U=q+(O<<16&4294967295|O>>>16),O=P+(U^q^A)+z[10]+3200236656&4294967295,P=U+(O<<23&4294967295|O>>>9),O=A+(P^U^q)+z[13]+681279174&4294967295,A=P+(O<<4&4294967295|O>>>28),O=q+(A^P^U)+z[0]+3936430074&4294967295,q=A+(O<<11&4294967295|O>>>21),O=U+(q^A^P)+z[3]+3572445317&4294967295,U=q+(O<<16&4294967295|O>>>16),O=P+(U^q^A)+z[6]+76029189&4294967295,P=U+(O<<23&4294967295|O>>>9),O=A+(P^U^q)+z[9]+3654602809&4294967295,A=P+(O<<4&4294967295|O>>>28),O=q+(A^P^U)+z[12]+3873151461&4294967295,q=A+(O<<11&4294967295|O>>>21),O=U+(q^A^P)+z[15]+530742520&4294967295,U=q+(O<<16&4294967295|O>>>16),O=P+(U^q^A)+z[2]+3299628645&4294967295,P=U+(O<<23&4294967295|O>>>9),O=A+(U^(P|~q))+z[0]+4096336452&4294967295,A=P+(O<<6&4294967295|O>>>26),O=q+(P^(A|~U))+z[7]+1126891415&4294967295,q=A+(O<<10&4294967295|O>>>22),O=U+(A^(q|~P))+z[14]+2878612391&4294967295,U=q+(O<<15&4294967295|O>>>17),O=P+(q^(U|~A))+z[5]+4237533241&4294967295,P=U+(O<<21&4294967295|O>>>11),O=A+(U^(P|~q))+z[12]+1700485571&4294967295,A=P+(O<<6&4294967295|O>>>26),O=q+(P^(A|~U))+z[3]+2399980690&4294967295,q=A+(O<<10&4294967295|O>>>22),O=U+(A^(q|~P))+z[10]+4293915773&4294967295,U=q+(O<<15&4294967295|O>>>17),O=P+(q^(U|~A))+z[1]+2240044497&4294967295,P=U+(O<<21&4294967295|O>>>11),O=A+(U^(P|~q))+z[8]+1873313359&4294967295,A=P+(O<<6&4294967295|O>>>26),O=q+(P^(A|~U))+z[15]+4264355552&4294967295,q=A+(O<<10&4294967295|O>>>22),O=U+(A^(q|~P))+z[6]+2734768916&4294967295,U=q+(O<<15&4294967295|O>>>17),O=P+(q^(U|~A))+z[13]+1309151649&4294967295,P=U+(O<<21&4294967295|O>>>11),O=A+(U^(P|~q))+z[4]+4149444226&4294967295,A=P+(O<<6&4294967295|O>>>26),O=q+(P^(A|~U))+z[11]+3174756917&4294967295,q=A+(O<<10&4294967295|O>>>22),O=U+(A^(q|~P))+z[2]+718787259&4294967295,U=q+(O<<15&4294967295|O>>>17),O=P+(q^(U|~A))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var P=A-this.blockSize,z=this.B,U=this.h,q=0;q<A;){if(U==0)for(;q<=P;)s(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<A;)if(z[U++]=D.charCodeAt(q++),U==this.blockSize){s(this,z),U=0;break}}else for(;q<A;)if(z[U++]=D[q++],U==this.blockSize){s(this,z),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var P=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=P&255,P/=256;for(this.u(D),D=Array(16),A=P=0;4>A;++A)for(var z=0;32>z;z+=8)D[P++]=this.g[A]>>>z&255;return D};function o(D,A){var P=d;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function c(D,A){this.h=A;for(var P=[],z=!0,U=D.length-1;0<=U;U--){var q=D[U]|0;z&&q==A||(P[U]=q,z=!1)}this.g=P}var d={};function g(D){return-128<=D&&128>D?o(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return C;if(0>D)return W(_(-D));for(var A=[],P=1,z=0;D>=P;z++)A[z]=D/P|0,P*=4294967296;return new c(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return W(E(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=_(Math.pow(A,8)),z=C,U=0;U<D.length;U+=8){var q=Math.min(8,D.length-U),O=parseInt(D.substring(U,U+q),A);8>q?(q=_(Math.pow(A,q)),z=z.j(q).add(_(O))):(z=z.j(P),z=z.add(_(O)))}return z}var C=g(0),R=g(1),H=g(16777216);t=c.prototype,t.m=function(){if(ee(this))return-W(this).m();for(var D=0,A=1,P=0;P<this.g.length;P++){var z=this.i(P);D+=(0<=z?z:4294967296+z)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(Y(this))return"0";if(ee(this))return"-"+W(this).toString(D);for(var A=_(Math.pow(D,6)),P=this,z="";;){var U=te(P,A).g;P=L(P,U.j(A));var q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=U,Y(P))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function Y(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function ee(D){return D.h==-1}t.l=function(D){return D=L(this,D),ee(D)?-1:Y(D)?0:1};function W(D){for(var A=D.g.length,P=[],z=0;z<A;z++)P[z]=~D.g[z];return new c(P,~D.h).add(R)}t.abs=function(){return ee(this)?W(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],z=0,U=0;U<=A;U++){var q=z+(this.i(U)&65535)+(D.i(U)&65535),O=(q>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);z=O>>>16,q&=65535,O&=65535,P[U]=O<<16|q}return new c(P,P[P.length-1]&-2147483648?-1:0)};function L(D,A){return D.add(W(A))}t.j=function(D){if(Y(this)||Y(D))return C;if(ee(this))return ee(D)?W(this).j(W(D)):W(W(this).j(D));if(ee(D))return W(this.j(W(D)));if(0>this.l(H)&&0>D.l(H))return _(this.m()*D.m());for(var A=this.g.length+D.g.length,P=[],z=0;z<2*A;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(var U=0;U<D.g.length;U++){var q=this.i(z)>>>16,O=this.i(z)&65535,Wt=D.i(U)>>>16,Dn=D.i(U)&65535;P[2*z+2*U]+=O*Dn,M(P,2*z+2*U),P[2*z+2*U+1]+=q*Dn,M(P,2*z+2*U+1),P[2*z+2*U+1]+=O*Wt,M(P,2*z+2*U+1),P[2*z+2*U+2]+=q*Wt,M(P,2*z+2*U+2)}for(z=0;z<A;z++)P[z]=P[2*z+1]<<16|P[2*z];for(z=A;z<2*A;z++)P[z]=0;return new c(P,0)};function M(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function F(D,A){this.g=D,this.h=A}function te(D,A){if(Y(A))throw Error("division by zero");if(Y(D))return new F(C,C);if(ee(D))return A=te(W(D),A),new F(W(A.g),W(A.h));if(ee(A))return A=te(D,W(A)),new F(W(A.g),A.h);if(30<D.g.length){if(ee(D)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var P=R,z=A;0>=z.l(D);)P=le(P),z=le(z);var U=ce(P,1),q=ce(z,1);for(z=ce(z,2),P=ce(P,2);!Y(z);){var O=q.add(z);0>=O.l(D)&&(U=U.add(P),q=O),z=ce(z,1),P=ce(P,1)}return A=L(D,U.j(A)),new F(U,A)}for(U=C;0<=D.l(A);){for(P=Math.max(1,Math.floor(D.m()/A.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=_(P),O=q.j(A);ee(O)||0<O.l(D);)P-=z,q=_(P),O=q.j(A);Y(q)&&(q=R),U=U.add(q),D=L(D,O)}return new F(U,D)}t.A=function(D){return te(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],z=0;z<A;z++)P[z]=this.i(z)&D.i(z);return new c(P,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],z=0;z<A;z++)P[z]=this.i(z)|D.i(z);return new c(P,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],z=0;z<A;z++)P[z]=this.i(z)^D.i(z);return new c(P,this.h^D.h)};function le(D){for(var A=D.g.length+1,P=[],z=0;z<A;z++)P[z]=D.i(z)<<1|D.i(z-1)>>>31;return new c(P,D.h)}function ce(D,A){var P=A>>5;A%=32;for(var z=D.g.length-P,U=[],q=0;q<z;q++)U[q]=0<A?D.i(q+P)>>>A|D.i(q+P+1)<<32-A:D.i(q+P);return new c(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sg=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=E,wi=c}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tg,Aa,Eg,E0,nd,kg,Ag,Ig;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,w){return u==Array.prototype||u==Object.prototype||(u[p]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof u0=="object"&&u0];for(var p=0;p<u.length;++p){var w=u[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var w=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var K=u[k];if(!(K in w))break e;w=w[K]}u=u[u.length-1],k=w[u],p=p(k),p!=k&&p!=null&&e(w,u,{configurable:!0,writable:!0,value:p})}}function o(u,p){u instanceof String&&(u+="");var w=0,k=!1,K={next:function(){if(!k&&w<u.length){var J=w++;return{value:p(J,u[J]),done:!1}}return k=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(u){return u||function(){return o(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,w){return u.call.apply(u.bind,arguments)}function C(u,p,w){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,k),u.apply(p,K)}}return function(){return u.apply(p,arguments)}}function R(u,p,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,R.apply(null,arguments)}function H(u,p){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function Y(u,p){function w(){}w.prototype=p.prototype,u.aa=p.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(k,K,J){for(var de=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)de[Qe-2]=arguments[Qe];return p.prototype[K].apply(k,de)}}function ee(u){const p=u.length;if(0<p){const w=Array(p);for(let k=0;k<p;k++)w[k]=u[k];return w}return[]}function W(u,p){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(g(k)){const K=u.length||0,J=k.length||0;u.length=K+J;for(let de=0;de<J;de++)u[K+de]=k[de]}else u.push(k)}}class L{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function M(u){return/^[\s\xa0]*$/.test(u)}function F(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var le=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ce(u,p,w){for(const k in u)p.call(w,u[k],k,u)}function D(u,p){for(const w in u)p.call(void 0,u[w],w,u)}function A(u){const p={};for(const w in u)p[w]=u[w];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(u,p){let w,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(w in k)u[w]=k[w];for(let J=0;J<P.length;J++)w=P[J],Object.prototype.hasOwnProperty.call(k,w)&&(u[w]=k[w])}}function U(u){var p=1;u=u.split(":");const w=[];for(;0<p&&u.length;)w.push(u.shift()),p--;return u.length&&w.push(u.join(":")),w}function q(u){d.setTimeout(()=>{throw u},0)}function O(){var u=ke;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Wt{constructor(){this.h=this.g=null}add(p,w){const k=Dn.get();k.set(p,w),this.h?this.h.next=k:this.g=k,this.h=k}}var Dn=new L(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,fe=!1,ke=new Wt,oe=()=>{const u=d.Promise.resolve(void 0);Bt=()=>{u.then(Ye)}};var Ye=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(w){q(w)}var p=Dn;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}fe=!1};function Ge(){this.s=this.s,this.C=this.C}Ge.prototype.s=!1,Ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var Tn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};d.addEventListener("test",w,p),d.removeEventListener("test",w,p)}catch{}return u}();function Rt(u,p){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(le){e:{try{te(p.nodeName);var K=!0;break e}catch{}K=!1}K||(p=null)}}else w=="mouseover"?p=u.fromElement:w=="mouseout"&&(p=u.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:sn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Y(Rt,st);var sn={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),Wo=0;function Go(u,p,w,k,K){this.listener=u,this.proxy=null,this.src=p,this.type=w,this.capture=!!k,this.ha=K,this.key=++Wo,this.da=this.fa=!1}function os(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function as(u){this.src=u,this.g={},this.h=0}as.prototype.add=function(u,p,w,k,K){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var de=ls(u,p,k,K);return-1<de?(p=u[de],w||(p.fa=!1)):(p=new Go(p,this.src,J,!!k,K),p.fa=w,u.push(p)),p};function Qs(u,p){var w=p.type;if(w in u.g){var k=u.g[w],K=Array.prototype.indexOf.call(k,p,void 0),J;(J=0<=K)&&Array.prototype.splice.call(k,K,1),J&&(os(p),u.g[w].length==0&&(delete u.g[w],u.h--))}}function ls(u,p,w,k){for(var K=0;K<u.length;++K){var J=u[K];if(!J.da&&J.listener==p&&J.capture==!!w&&J.ha==k)return K}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),us={};function cs(u,p,w,k,K){if(Array.isArray(p)){for(var J=0;J<p.length;J++)cs(u,p[J],w,k,K);return null}return w=ds(w),u&&u[Vn]?u.K(p,w,_(k)?!!k.capture:!1,K):En(u,p,w,!1,k,K)}function En(u,p,w,k,K,J){if(!p)throw Error("Invalid event type");var de=_(K)?!!K.capture:!!K,Qe=on(u);if(Qe||(u[Or]=Qe=new as(u)),w=Qe.add(p,w,k,de,J),w.proxy)return w;if(k=xr(),w.proxy=k,k.src=u,k.listener=w,u.addEventListener)Tn||(K=de),K===void 0&&(K=!1),u.addEventListener(p.toString(),k,K);else if(u.attachEvent)u.attachEvent(De(p.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function xr(){function u(w){return p.call(u.src,u.listener,w)}const p=He;return u}function me(u,p,w,k,K){if(Array.isArray(p))for(var J=0;J<p.length;J++)me(u,p[J],w,k,K);else k=_(k)?!!k.capture:!!k,w=ds(w),u&&u[Vn]?(u=u.i,p=String(p).toString(),p in u.g&&(J=u.g[p],w=ls(J,w,k,K),-1<w&&(os(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete u.g[p],u.h--)))):u&&(u=on(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ls(p,w,k,K)),(w=-1<u?p[u]:null)&&Ne(w))}function Ne(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Vn])Qs(p.i,u);else{var w=u.type,k=u.proxy;p.removeEventListener?p.removeEventListener(w,k,u.capture):p.detachEvent?p.detachEvent(De(w),k):p.addListener&&p.removeListener&&p.removeListener(k),(w=on(p))?(Qs(w,u),w.h==0&&(w.src=null,p[Or]=null)):os(u)}}}function De(u){return u in us?us[u]:us[u]="on"+u}function He(u,p){if(u.da)u=!0;else{p=new Rt(p,this);var w=u.listener,k=u.ha||u.src;u.fa&&Ne(u),u=w.call(k,p)}return u}function on(u){return u=u[Or],u instanceof as?u:null}var hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ds(u){return typeof u=="function"?u:(u[hs]||(u[hs]=function(p){return u.handleEvent(p)}),u[hs])}function yt(){Ge.call(this),this.i=new as(this),this.M=this,this.F=null}Y(yt,Ge),yt.prototype[Vn]=!0,yt.prototype.removeEventListener=function(u,p,w,k){me(this,u,p,w,k)};function Xe(u,p){var w,k=u.F;if(k)for(w=[];k;k=k.F)w.push(k);if(u=u.M,k=p.type||p,typeof p=="string")p=new st(p,u);else if(p instanceof st)p.target=p.target||u;else{var K=p;p=new st(k,u),z(p,K)}if(K=!0,w)for(var J=w.length-1;0<=J;J--){var de=p.g=w[J];K=Di(de,k,!0,p)&&K}if(de=p.g=u,K=Di(de,k,!0,p)&&K,K=Di(de,k,!1,p)&&K,w)for(J=0;J<w.length;J++)de=p.g=w[J],K=Di(de,k,!1,p)&&K}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var w=u.g[p],k=0;k<w.length;k++)os(w[k]);delete u.g[p],u.h--}}this.F=null},yt.prototype.K=function(u,p,w,k){return this.i.add(String(u),p,!1,w,k)},yt.prototype.L=function(u,p,w,k){return this.i.add(String(u),p,!0,w,k)};function Di(u,p,w,k){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var K=!0,J=0;J<p.length;++J){var de=p[J];if(de&&!de.da&&de.capture==w){var Qe=de.listener,At=de.ha||de.src;de.fa&&Qs(u.i,de),K=Qe.call(At,k)!==!1&&K}}return K&&!k.defaultPrevented}function Vi(u,p,w){if(typeof u=="function")w&&(u=R(u,w));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function Al(u){u.g=Vi(()=>{u.g=null,u.i&&(u.i=!1,Al(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Il extends Ge{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(u){Ge.call(this),this.h=u,this.g={}}Y(Je,Ge);var he=[];function or(u){ce(u.g,function(p,w){this.g.hasOwnProperty(w)&&Ne(p)},u),u.g={}}Je.prototype.N=function(){Je.aa.N.call(this),or(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=d.JSON.stringify,Cl=d.JSON.parse,ju=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oi(){}Oi.prototype.h=null;function fs(u){return u.h||(u.h=u.i())}function Li(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ko(){st.call(this,"d")}Y(Ko,st);function an(){st.call(this,"c")}Y(an,st);var Gt={},ar=null;function ms(){return ar=ar||new yt}Gt.La="serverreachability";function Qo(u){st.call(this,Gt.La,u)}Y(Qo,st);function Xs(u){const p=ms();Xe(p,new Qo(p))}Gt.STAT_EVENT="statevent";function Rl(u,p){st.call(this,Gt.STAT_EVENT,u),this.stat=p}Y(Rl,st);function Kt(u){const p=ms();Xe(p,new Rl(p,u))}Gt.Ma="timingevent";function Js(u,p){st.call(this,Gt.Ma,u),this.size=p}Y(Js,st);function Ze(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function m(){this.g=!0}m.prototype.xa=function(){this.g=!1};function v(u,p,w,k,K,J){u.info(function(){if(u.g)if(J)for(var de="",Qe=J.split("&"),At=0;At<Qe.length;At++){var ze=Qe[At].split("=");if(1<ze.length){var Ut=ze[0];ze=ze[1];var Mt=Ut.split("_");de=2<=Mt.length&&Mt[1]=="type"?de+(Ut+"="+ze+"&"):de+(Ut+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+p+`
`+w+`
`+de})}function ne(u,p,w,k,K,J,de){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+p+`
`+w+`
`+J+" "+de})}function b(u,p,w,k){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ot(u,w)+(k?" "+k:"")})}function N(u,p){u.info(function(){return"TIMEOUT: "+p})}m.prototype.info=function(){};function ot(u,p){if(!u.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var k=w[u];if(!(2>k.length)){var K=k[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<K.length;de++)K[de]=""}}}}return zi(w)}catch{return p}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function xe(){}Y(xe,Oi),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},br=new xe;function et(u,p,w,k){this.j=u,this.i=p,this.l=w,this.R=k||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ln}function ln(){this.i=null,this.g="",this.h=!1}var Zs={},V={};function zn(u,p,w){u.L=1,u.v=Br(Gn(p)),u.m=w,u.P=!0,j(u,null)}function j(u,p){u.F=Date.now(),ei(u),u.A=Gn(u.v);var w=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),pe(w.i,"t",k),u.C=0,w=u.j.J,u.h=new ln,u.g=la(u.j,w?p:null,!u.m),0<u.O&&(u.M=new Il(R(u.Y,u,u.g),u.O)),p=u.U,w=u.g,k=u.ca;var K="readystatechange";Array.isArray(K)||(K&&(he[0]=K.toString()),K=he);for(var J=0;J<K.length;J++){var de=cs(w,K[J],k||p.handleEvent,!1,p.h||p);if(!de)break;p.g[de.key]=de}p=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Xs(),v(u.i,u.u,u.A,u.l,u.R,u.m)}et.prototype.ca=function(u){u=u.target;const p=this.M;p&&Tt(u)==3?p.j():this.Y(u)},et.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=Tt(this.g);var p=this.g.Ba();const Yn=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Ki(this.g)))){this.J||Mt!=4||p==7||(p==8||0>=Yn?Xs(3):Xs(2)),Te(this);var w=this.g.Z();this.X=w;t:if(Yo(this)){var k=Ki(this.g);u="";var K=k.length,J=Tt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),Lr(this);var de="";break t}this.h.i=new d.TextDecoder}for(p=0;p<K;p++)this.h.h=!0,u+=this.h.i.decode(k[p],{stream:!(J&&p==K-1)});k.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=w==200,ne(this.i,this.u,this.A,this.l,this.R,Mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,At=this.g;if((Qe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Qe)){var ze=Qe;break t}}ze=null}if(w=ze)b(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,w);else{this.o=!1,this.s=3,Kt(12),Wn(this),Lr(this);break e}}if(this.P){w=!0;let vn;for(;!this.J&&this.C<de.length;)if(vn=Nl(this,de),vn==V){Mt==4&&(this.s=4,Kt(14),w=!1),b(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Zs){this.s=4,Kt(15),b(this.i,this.l,de,"[Invalid Chunk]"),w=!1;break}else b(this.i,this.l,vn,null),Fi(this,vn);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||de.length!=0||this.h.h||(this.s=1,Kt(16),w=!1),this.o=this.o&&w,!w)b(this.i,this.l,de,"[Invalid Chunked Response]"),Wn(this),Lr(this);else if(0<de.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),oa(Ut),Ut.M=!0,Kt(11))}}else b(this.i,this.l,de,null),Fi(this,de);Mt==4&&Wn(this),this.o&&!this.J&&(Mt==4?Qn(this.j,this):(this.o=!1,ei(this)))}else ra(this.g),w==400&&0<de.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Wn(this),Lr(this)}}}catch{}finally{}};function Yo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Nl(u,p){var w=u.C,k=p.indexOf(`
`,w);return k==-1?V:(w=Number(p.substring(w,k)),isNaN(w)?Zs:(k+=1,k+w>p.length?V:(p=p.slice(k,k+w),u.C=k+w,p)))}et.prototype.cancel=function(){this.J=!0,Wn(this)};function ei(u){u.S=Date.now()+u.I,ti(u,u.I)}function ti(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ze(R(u.ba,u),p)}function Te(u){u.B&&(d.clearTimeout(u.B),u.B=null)}et.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(N(this.i,this.A),this.L!=2&&(Xs(),Kt(17)),Wn(this),this.s=2,Lr(this)):ti(this,this.S-u)};function Lr(u){u.j.G==0||u.J||Qn(u.j,u)}function Wn(u){Te(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,or(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Fi(u,p){try{var w=u.j;if(w.G!=0&&(w.g==u||Xo(w.h,u))){if(!u.K&&Xo(w.h,u)&&w.G==3){try{var k=w.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)aa(w),$e(w);else break e;ia(w),Kt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ze(R(w.Za,w),6e3));if(1>=kn(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else hr(w,11)}else if((u.K||w.g==u)&&aa(w),!M(p))for(K=w.Da.g.parse(p),p=0;p<K.length;p++){let ze=K[p];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const Ut=ze[3];Ut!=null&&(w.la=Ut,w.j.info("VER="+w.la));const Mt=ze[4];Mt!=null&&(w.Aa=Mt,w.j.info("SVER="+w.Aa));const Yn=ze[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(k=1.5*Yn,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const vn=u.g;if(vn){const ui=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var J=k.h;J.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Jo(J,J.h),J.h=null))}if(k.D){const ha=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(k.ya=ha,it(k.I,k.D,ha))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var de=u;if(k.qa=Qi(k,k.J?k.ia:null,k.W),de.K){Pl(k.h,de);var Qe=de,At=k.L;At&&(Qe.I=At),Qe.B&&(Te(Qe),ei(Qe)),k.g=de}else Ll(k);0<w.i.length&&oi(w)}else ze[0]!="stop"&&ze[0]!="close"||hr(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?hr(w,7):Kn(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}Xs(4)}catch{}}var Uu=class{constructor(u,p){this.g=u,this.map=p}};function ps(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function kn(u){return u.h?1:u.g?u.g.size:0}function Xo(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Jo(u,p){u.g?u.g.add(p):u.h=p}function Pl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ps.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const w of u.g.values())p=p.concat(w.D);return p}return ee(u.i)}function qu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],w=u.length,k=0;k<w;k++)p.push(u[k]);return p}p=[],w=0;for(k in u)p[w++]=u[k];return p}function Zo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var w=0;w<u;w++)p.push(w);return p}p=[],w=0;for(const k in u)p[w++]=k;return p}}}function Qt(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var w=Zo(u),k=qu(u),K=k.length,J=0;J<K;J++)p.call(void 0,k[J],w&&w[J],u)}var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hu(u,p){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var k=u[w].indexOf("="),K=null;if(0<=k){var J=u[w].substring(0,k);K=u[w].substring(k+1)}else J=u[w];p(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fr){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var p=u.i,w=new ri;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),Dl(this,w),this.m=u.m}else u&&(p=String(u).match(ea))?(this.h=!1,Bi(this,p[1]||"",!0),this.o=gs(p[2]||""),this.g=gs(p[3]||"",!0),ji(this,p[4]),this.l=gs(p[5]||"",!0),Dl(this,p[6]||"",!0),this.m=gs(p[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Fr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ys(p,Q,!0),":");var w=this.g;return(w||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ys(p,Q,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(ys(w,w.charAt(0)=="/"?jr:ut,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",ys(w,$u)),u.join("")};function Gn(u){return new Fr(u)}function Bi(u,p,w){u.j=w?gs(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Dl(u,p,w){p instanceof ri?(u.i=p,Ui(u.i,u.h)):(w||(p=ys(p,lr)),u.i=new ri(p,u.h))}function it(u,p,w){u.i.set(p,w)}function Br(u){return it(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gs(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ys(u,p,w){return typeof u=="string"?(u=encodeURI(u).replace(p,Hf),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hf(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Q=/[#\/\?@]/g,ut=/[#\?:]/g,jr=/[#\?]/g,lr=/[#\?@]/g,$u=/#/g;function ri(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ur(u){u.g||(u.g=new Map,u.h=0,u.i&&Hu(u.i,function(p,w){u.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=ri.prototype,t.add=function(u,p){ur(this),this.i=null,u=An(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(p),this.h+=1,this};function si(u,p){ur(u),p=An(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ii(u,p){return ur(u),p=An(u,p),u.g.has(p)}t.forEach=function(u,p){ur(this),this.g.forEach(function(w,k){w.forEach(function(K){u.call(p,K,k,this)},this)},this)},t.na=function(){ur(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let k=0;k<p.length;k++){const K=u[k];for(let J=0;J<K.length;J++)w.push(p[k])}return w},t.V=function(u){ur(this);let p=[];if(typeof u=="string")ii(this,u)&&(p=p.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)p=p.concat(u[w])}return p},t.set=function(u,p){return ur(this),this.i=null,u=An(this,u),ii(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function pe(u,p,w){si(u,p),0<w.length&&(u.i=null,u.g.set(An(u,p),ee(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var k=p[w];const J=encodeURIComponent(String(k)),de=this.V(k);for(k=0;k<de.length;k++){var K=J;de[k]!==""&&(K+="="+encodeURIComponent(String(de[k]))),u.push(K)}}return this.i=u.join("&")};function An(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ui(u,p){p&&!u.j&&(ur(u),u.i=null,u.g.forEach(function(w,k){var K=k.toLowerCase();k!=K&&(si(this,k),pe(this,K,w))},u)),u.j=p}function vt(u,p){const w=new m;if(d.Image){const k=new Image;k.onload=H(Sr,w,"TestLoadImage: loaded",!0,p,k),k.onerror=H(Sr,w,"TestLoadImage: error",!1,p,k),k.onabort=H(Sr,w,"TestLoadImage: abort",!1,p,k),k.ontimeout=H(Sr,w,"TestLoadImage: timeout",!1,p,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else p(!1)}function cr(u,p){const w=new m,k=new AbortController,K=setTimeout(()=>{k.abort(),Sr(w,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:k.signal}).then(J=>{clearTimeout(K),J.ok?Sr(w,"TestPingServer: ok",!0,p):Sr(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(K),Sr(w,"TestPingServer: error",!1,p)})}function Sr(u,p,w,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(w)}catch{}}function Wu(){this.g=new ju}function Gu(u,p,w){const k=w||"";try{Qt(u,function(K,J){let de=K;_(K)&&(de=zi(K)),p.push(k+J+"="+encodeURIComponent(de))})}catch(K){throw p.push(k+"type="+encodeURIComponent("_badmap")),K}}function qi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(qi,Oi),qi.prototype.g=function(){return new ft(this.l,this.j)},qi.prototype.i=function(u){return function(){return u}}({});function ft(u,p){yt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ft,yt),t=ft.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ur(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hi(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hi(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?vs(this):Ur(this),this.readyState==3&&Hi(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,vs(this))},t.Qa=function(u){this.g&&(this.response=u,vs(this))},t.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ur(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=p.next();return u.join(`\r
`)};function Ur(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ft.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let p="";return ce(u,function(w,k){p+=k,p+=":",p+=w,p+=`\r
`}),p}function qr(u,p,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=$i(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):it(u,p,w))}function be(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(be,yt);var Wi=/^https?$/i,ta=["POST","PUT"];t=be.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?fs(this.o):fs(br),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(J){na(this,J);return}if(u=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)w.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())w.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),K=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ta,p,void 0))||k||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of w)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{se(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){na(this,J)}};function na(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,un(u),Gi(u)}function un(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),Gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?On(this):this.bb())},t.bb=function(){On(this)};function On(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Tt(u)!=4||u.Z()!=2)){if(u.u&&Tt(u)==4)Vi(u.Ea,0,u);else if(Xe(u,"readystatechange"),Tt(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var k;if(k=de===0){var K=String(u.D).match(ea)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),k=!Wi.test(K?K.toLowerCase():"")}w=k}if(w)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var J=2<Tt(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",un(u)}}finally{Gi(u)}}}}function Gi(u,p){if(u.g){se(u);const w=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Xe(u,"ready");try{w.onreadystatechange=k}catch{}}}function se(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Tt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Tt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Cl(p)}};function Ki(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(u){const p={};u=(u.g&&2<=Tt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(M(u[k]))continue;var w=U(u[k]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=p[K]||[];p[K]=J,J.push(w)}D(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||p}function Yt(u){this.Aa=0,this.i=[],this.j=new m,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,u),this.cb=Hr("retryDelaySeedMs",1e4,u),this.Wa=Hr("forwardChannelMaxRetries",2,u),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(u&&u.concurrentRequestLimit),this.Da=new Wu,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yt.prototype,t.la=8,t.G=1,t.connect=function(u,p,w,k){Kt(0),this.W=u,this.H=p||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=Qi(this,null,this.W),oi(this)};function Kn(u){if(sa(u),u.G==3){var p=u.U++,w=Gn(u.I);if(it(w,"SID",u.K),it(w,"RID",p),it(w,"TYPE","terminate"),ai(u,w),p=new et(u,u.j,p),p.L=2,p.v=Br(Gn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=p.v,w=!0),w||(p.g=la(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ei(p)}li(u)}function $e(u){u.g&&(oa(u),u.g.cancel(),u.g=null)}function sa(u){$e(u),u.u&&(d.clearTimeout(u.u),u.u=null),aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function oi(u){if(!ni(u.h)&&!u.s){u.s=!0;var p=u.Ga;Bt||oe(),fe||(Bt(),fe=!0),ke.add(p,u),u.B=0}}function Vl(u,p){return kn(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ze(R(u.Ga,u,p),Ie(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const K=new et(this,this.j,u);let J=this.o;if(this.S&&(J?(J=A(J),z(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Ol(this,K,p),w=Gn(this.I),it(w,"RID",u),it(w,"CVER",22),this.D&&it(w,"X-HTTP-Session-Id",this.D),ai(this,w),J&&(this.O?p="headers="+encodeURIComponent(String($i(J)))+"&"+p:this.m&&qr(w,this.m,J)),Jo(this.h,K),this.Ua&&it(w,"TYPE","init"),this.P?(it(w,"$req",p),it(w,"SID","null"),K.T=!0,zn(K,w,null)):zn(K,w,p),this.G=2}}else this.G==3&&(u?zl(this,u):this.i.length==0||ni(this.h)||zl(this))};function zl(u,p){var w;p?w=p.l:w=u.U++;const k=Gn(u.I);it(k,"SID",u.K),it(k,"RID",w),it(k,"AID",u.T),ai(u,k),u.m&&u.o&&qr(k,u.m,u.o),w=new et(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ol(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jo(u.h,w),zn(w,k,p)}function ai(u,p){u.H&&ce(u.H,function(w,k){it(p,k,w)}),u.l&&Qt({},function(w,k){it(p,k,w)})}function Ol(u,p,w){w=Math.min(u.i.length,w);var k=u.l?R(u.l.Na,u.l,u):null;e:{var K=u.i;let J=-1;for(;;){const de=["count="+w];J==-1?0<w?(J=K[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Qe=!0;for(let At=0;At<w;At++){let ze=K[At].g;const Ut=K[At].map;if(ze-=J,0>ze)J=Math.max(0,K[At].g-100),Qe=!1;else try{Gu(Ut,de,"req"+ze+"_")}catch{k&&k(Ut)}}if(Qe){k=de.join("&");break e}}}return u=u.i.splice(0,w),p.D=u,k}function Ll(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Bt||oe(),fe||(Bt(),fe=!0),ke.add(p,u),u.v=0}}function ia(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ze(R(u.Fa,u),Ie(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ze(R(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),$e(this),Ku(this))};function oa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ku(u){u.g=new et(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Gn(u.qa);it(p,"RID","rpc"),it(p,"SID",u.K),it(p,"AID",u.T),it(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&it(p,"TO",u.ja),it(p,"TYPE","xmlhttp"),ai(u,p),u.m&&u.o&&qr(p,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Br(Gn(p)),w.m=null,w.P=!0,j(w,u)}t.Za=function(){this.C!=null&&(this.C=null,$e(this),ia(this),Kt(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qn(u,p){var w=null;if(u.g==p){aa(u),oa(u),u.g=null;var k=2}else if(Xo(u.h,p))w=p.D,Pl(u.h,p),k=1;else return;if(u.G!=0){if(p.o)if(k==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var K=u.B;k=ms(),Xe(k,new Js(k,w)),oi(u)}else Ll(u);else if(K=p.s,K==3||K==0&&0<p.X||!(k==1&&Vl(u,p)||k==2&&ia(u)))switch(w&&0<w.length&&(p=u.h,p.i=p.i.concat(w)),K){case 1:hr(u,5);break;case 4:hr(u,10);break;case 3:hr(u,6);break;default:hr(u,2)}}}function Ie(u,p){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*p}function hr(u,p){if(u.j.info("Error code "+p),p==2){var w=R(u.fb,u),k=u.Xa;const K=!k;k=new Fr(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bi(k,"https"),Br(k),K?vt(k.toString(),w):cr(k.toString(),w)}else Kt(2);u.G=0,u.l&&u.l.sa(p),li(u),sa(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function li(u){if(u.G=0,u.ka=[],u.l){const p=Ml(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ka,p),W(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function Qi(u,p,w){var k=w instanceof Fr?Gn(w):new Fr(w);if(k.g!="")p&&(k.g=p+"."+k.g),ji(k,k.s);else{var K=d.location;k=K.protocol,p=p?p+"."+K.hostname:K.hostname,K=+K.port;var J=new Fr(null);k&&Bi(J,k),p&&(J.g=p),K&&ji(J,K),w&&(J.l=w),k=J}return w=u.D,p=u.ya,w&&p&&it(k,w,p),it(k,"VER",u.la),ai(u,k),k}function la(u,p,w){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new be(new qi({eb:w})):new be(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fl(){}t=Fl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $r(){}$r.prototype.g=function(u,p){return new yn(u,p)};function yn(u,p){yt.call(this),this.g=new Yt(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!M(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!M(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new dr(this)}Y(yn,yt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Kn(this.g)},yn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=zi(u),u=w);p.i.push(new Uu(p.Ya++,u)),p.G==3&&oi(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,Kn(this.g),delete this.g,yn.aa.N.call(this)};function ua(u){Ko.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const w in p){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}Y(ua,Ko);function ca(){an.call(this),this.status=1}Y(ca,an);function dr(u){this.g=u}Y(dr,Fl),dr.prototype.ua=function(){Xe(this.g,"a")},dr.prototype.ta=function(u){Xe(this.g,new ua(u))},dr.prototype.sa=function(u){Xe(this.g,new ca)},dr.prototype.ra=function(){Xe(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Ig=function(){return new $r},Ag=function(){return ms()},kg=Gt,nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,E0=ge,jt.COMPLETE="complete",Eg=jt,Li.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Aa=Li,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Tg=be}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});const cp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new yg("@firebase/firestore");function ba(){return Ai.logLevel}function we(t,...e){if(Ai.logLevel<=Ue.DEBUG){const n=e.map(mf);Ai.debug(`Firestore (${Uo}): ${t}`,...n)}}function rs(t,...e){if(Ai.logLevel<=Ue.ERROR){const n=e.map(mf);Ai.error(`Firestore (${Uo}): ${t}`,...n)}}function No(t,...e){if(Ai.logLevel<=Ue.WARN){const n=e.map(mf);Ai.warn(`Firestore (${Uo}): ${t}`,...n)}}function mf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw rs(e),new Error(e)}function rt(t,e){t||Ae()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends jo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class K8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q8{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0);let r=this.i;const s=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let o=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _i,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const g=o;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},d=g=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _i)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new Cg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new fn(e)}}class Y8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rt(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new J8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=e9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Lt(0,0))}static max(){return new Ce(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),c=n.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends ul{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const t9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ul{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return t9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(gt.fromString(e))}static fromName(e){return new Ee(gt.fromString(e).popFirst(5))}static empty(){return new Ee(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new gt(e.slice()))}}function n9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new qs(s,Ee.empty(),e)}function r9(t){return new qs(t.readTime,t.key,-1)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(Ce.min(),Ee.empty(),-1)}static max(){return new qs(Ce.max(),Ee.empty(),-1)}}function s9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==i9)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},g=>r(g))}),c=!0,o===s&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(s=>s?ie.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let g=0;g<o;g++){const _=g;n(e[_]).next(E=>{c[_]=E,++d,d===o&&r(c)},E=>s(E))}})}static doWhile(e,n){return new ie((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function a9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pf.oe=-1;function Cu(t){return t==null}function ru(t){return t===0&&1/t==-1/0}function l9(t){return typeof t=="number"&&Number.isInteger(t)&&!ru(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ng(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new c0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new c0(this.root,e,this.comparator,!1)}getReverseIterator(){return new c0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new c0(this.root,e,this.comparator,!0)}}class c0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=s??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Jt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dp(this.data.getIterator())}getIteratorFrom(e){return new dp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class dp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new tn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pg("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const u9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(rt(!!t),typeof t=="string"){let e=0;const n=u9.exec(t);if(rt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yf(t){const e=t.mapValue.fields.__previous_value__;return gf(e)?yf(e):e}function cl(t){const e=Hs(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,s,o,c,d,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=_}}class hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={mapValue:{}};function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gf(t)?4:d9(t)?9007199254740991:h9(t)?10:11:Ae()}function Vr(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Hs(s.timestampValue),d=Hs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ii(s.bytesValue).isEqual(Ii(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=It(s.doubleValue),d=It(o.doubleValue);return c===d?ru(c)===ru(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(hp(c)!==hp(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!Vr(c[g],d[g])))return!1;return!0}(t,e);default:return Ae()}}function dl(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=It(o.integerValue||o.doubleValue),g=It(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(t,e);case 3:return fp(t.timestampValue,e.timestampValue);case 4:return fp(cl(t),cl(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,c){const d=Ii(o),g=Ii(c);return d.compareTo(g)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),g=c.split("/");for(let _=0;_<d.length&&_<g.length;_++){const E=We(d[_],g[_]);if(E!==0)return E}return We(d.length,g.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=We(It(o.latitude),It(c.latitude));return d!==0?d:We(It(o.longitude),It(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mp(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,g,_,E;const C=o.fields||{},R=c.fields||{},H=(d=C.value)===null||d===void 0?void 0:d.arrayValue,Y=(g=R.value)===null||g===void 0?void 0:g.arrayValue,ee=We(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return ee!==0?ee:mp(H,Y)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===h0.mapValue&&c===h0.mapValue)return 0;if(o===h0.mapValue)return 1;if(c===h0.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),_=c.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let C=0;C<g.length&&C<E.length;++C){const R=We(g[C],E[C]);if(R!==0)return R;const H=Mo(d[g[C]],_[E[C]]);if(H!==0)return H}return We(g.length,E.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function fp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Hs(t),r=Hs(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function mp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Mo(n[s],r[s]);if(o)return o}return We(n.length,r.length)}function Do(t){return rd(t)}function rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=rd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${rd(n.fields[c])}`;return s+"}"}(t.mapValue):Ae()}function sd(t){return!!t&&"integerValue"in t}function vf(t){return!!t&&"arrayValue"in t}function pp(t){return!!t&&"nullValue"in t}function gp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function k0(t){return!!t&&"mapValue"in t}function h9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!k0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=Zt.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Ba(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());k0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];k0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new tr(Ba(this.value))}}function Mg(t){const e=[];return qo(t.fields,(n,r)=>{const s=new Zt([n]);if(k0(r)){const o=Mg(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Ce.min(),Ce.min(),Ce.min(),tr.empty(),0)}static newFoundDocument(e,n,r,s){return new pn(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new pn(e,2,n,Ce.min(),Ce.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ce.min(),Ce.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.position=e,this.inclusive=n}}function yp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=Mo(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function f9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{}class zt extends Dg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p9(e,n,r):n==="array-contains"?new v9(e,r):n==="in"?new w9(e,r):n==="not-in"?new _9(e,r):n==="array-contains-any"?new x9(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g9(e,r):new y9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends Dg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zr(e,n)}matches(e){return Vg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vg(t){return t.op==="and"}function zg(t){return m9(t)&&Vg(t)}function m9(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function id(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(zg(t))return t.filters.map(e=>id(e)).join(",");{const e=t.filters.map(n=>id(n)).join(",");return`${t.op}(${e})`}}function Og(t,e){return t instanceof zt?function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof zr?function(r,s){return s instanceof zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&Og(c,s.filters[d]),!0):!1}(t,e):void Ae()}function Lg(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(Lg).join(" ,")+"}"}(t):"Filter"}class p9 extends zt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class g9 extends zt{constructor(e,n){super(e,"in",n),this.keys=Fg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y9 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Fg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class v9 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vf(n)&&dl(n.arrayValue,this.value)}}class w9 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class _9 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dl(this.value.arrayValue,n)}}class x9 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function wp(t,e=null,n=[],r=[],s=null,o=null,c=null){return new b9(t,e,n,r,s,o,c)}function wf(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>id(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.ue=n}return e.ue}function _f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Og(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vp(t.startAt,e.startAt)&&vp(t.endAt,e.endAt)}function od(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S9(t,e,n,r,s,o,c,d){return new Ru(t,e,n,r,s,o,c,d)}function xf(t){return new Ru(t)}function _p(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T9(t){return t.collectionGroup!==null}function ja(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(Zt.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new iu(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new iu(Zt.keyField(),r))}return e.ce}function Pr(t){const e=Re(t);return e.le||(e.le=E9(e,ja(t))),e.le}function E9(t,e){if(t.limitType==="F")return wp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new iu(s.field,o)});const n=t.endAt?new su(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new su(t.startAt.position,t.startAt.inclusive):null;return wp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ad(t,e,n){return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nu(t,e){return _f(Pr(t),Pr(e))&&t.limitType===e.limitType}function Bg(t){return`${wf(Pr(t))}|lt:${t.limitType}`}function Zi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Lg(s)).join(", ")}]`),Cu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Do(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Do(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Pu(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of ja(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,g){const _=yp(c,d,g);return c.inclusive?_<=0:_<0}(r.startAt,ja(r),s)||r.endAt&&!function(c,d,g){const _=yp(c,d,g);return c.inclusive?_>=0:_>0}(r.endAt,ja(r),s))}(t,e)}function k9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jg(t){return(e,n)=>{let r=!1;for(const s of ja(t)){const o=A9(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function A9(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,c,d){const g=c.data.field(o),_=d.data.field(o);return g!==null&&_!==null?Mo(g,_):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Ng(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new St(Ee.comparator);function ss(){return I9}const Ug=new St(Ee.comparator);function Ia(...t){let e=Ug;for(const n of t)e=e.insert(n.key,n);return e}function qg(t){let e=Ug;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Ua()}function Hg(){return Ua()}function Ua(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const C9=new St(Ee.comparator),R9=new tn(Ee.comparator);function Ve(...t){let e=R9;for(const n of t)e=e.add(n);return e}const N9=new tn(We);function P9(){return N9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function $g(t){return{integerValue:""+t}}function M9(t,e){return l9(e)?$g(e):bf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this._=void 0}}function D9(t,e,n){return t instanceof ou?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&gf(o)&&(o=yf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof fl?Gg(t,e):t instanceof ml?Kg(t,e):function(s,o){const c=Wg(s,o),d=xp(c)+xp(s.Pe);return sd(c)&&sd(s.Pe)?$g(d):bf(s.serializer,d)}(t,e)}function V9(t,e,n){return t instanceof fl?Gg(t,e):t instanceof ml?Kg(t,e):n}function Wg(t,e){return t instanceof au?function(r){return sd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ou extends Mu{}class fl extends Mu{constructor(e){super(),this.elements=e}}function Gg(t,e){const n=Qg(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ml extends Mu{constructor(e){super(),this.elements=e}}function Kg(t,e){let n=Qg(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class au extends Mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xp(t){return It(t.integerValue||t.doubleValue)}function Qg(t){return vf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof fl&&s instanceof fl||r instanceof ml&&s instanceof ml?Po(r.elements,s.elements,Vr):r instanceof au&&s instanceof au?Vr(r.Pe,s.Pe):r instanceof ou&&s instanceof ou}(t.transform,e.transform)}class O9{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Du{}function Yg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sf(t.key,Mr.none()):new Sl(t.key,t.data,Mr.none());{const n=t.data,r=tr.empty();let s=new tn(Zt.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Pi(t.key,r,new yr(s.toArray()),Mr.none())}}function L9(t,e,n){t instanceof Sl?function(s,o,c){const d=s.value.clone(),g=Sp(s.fieldTransforms,o,c.transformResults);d.setAll(g),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(s,o,c){if(!A0(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Sp(s.fieldTransforms,o,c.transformResults),g=o.data;g.setAll(Xg(s)),g.setAll(d),o.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof Sl?function(o,c,d,g){if(!A0(o.precondition,c))return d;const _=o.value.clone(),E=Tp(o.fieldTransforms,g,c);return _.setAll(E),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(o,c,d,g){if(!A0(o.precondition,c))return d;const _=Tp(o.fieldTransforms,g,c),E=c.data;return E.setAll(Xg(o)),E.setAll(_),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(t,e,n,r):function(o,c,d){return A0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function F9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Wg(r.transform,s||null);o!=null&&(n===null&&(n=tr.empty()),n.set(r.field,o))}return n||null}function bp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Po(r,s,(o,c)=>z9(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends Du{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pi extends Du{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Xg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sp(t,e,n){const r=new Map;rt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,V9(c,d,n[s]))}return r}function Tp(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,D9(o,c,e))}return r}class Sf extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B9 extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&L9(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hg();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const g=Yg(c,d);g!==null&&r.set(s.key,g),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>bp(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>bp(n,r))}}class Tf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){rt(e.mutations.length===r.length);let s=function(){return C9}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Tf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Be;function H9(t){switch(t){default:return Ae();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function Jg(t){if(t===void 0)return rs("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Nt.OK:return ae.OK;case Nt.CANCELLED:return ae.CANCELLED;case Nt.UNKNOWN:return ae.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ae.INTERNAL;case Nt.UNAVAILABLE:return ae.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ae.NOT_FOUND;case Nt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Nt.ABORTED:return ae.ABORTED;case Nt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Nt.DATA_LOSS:return ae.DATA_LOSS;default:return Ae()}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new wi([4294967295,4294967295],0);function Ep(t){const e=$9().encode(t),n=new Sg;return n.update(e),new Uint8Array(n.digest())}function kp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wi([n,r],0),new wi([s,o],0)]}class Ef{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(wi.fromNumber(r)));return s.compare(W9)===1&&(s=new wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ep(e),[r,s]=kp(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ef(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ie===0)return;const n=Ep(e),[r,s]=kp(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vu(Ce.min(),s,new St(We),ss(),Ve())}}class Tl{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Zg{constructor(e,n){this.targetId=e,this.me=n}}class e5{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ap{constructor(){this.fe=0,this.ge=Cp(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Tl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Cp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G9{constructor(e){this.Le=e,this.Be=new Map,this.ke=ss(),this.qe=Ip(),this.Qe=new St(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(od(o))if(r===0){const c=new Ee(o.path);this.Ue(n,c,pn.newNoDocument(c,Ce.min()))}else rt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),g=d?this.Xe(d,e,c):1;if(g!==0){this.je(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=Ii(r).toUint8Array()}catch(g){if(g instanceof Pg)return No("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Ef(c,s,o)}catch(g){return No(g instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,c)=>{const d=this.Je(c);if(d){if(o.current&&od(d.target)){const g=new Ee(d.target.path);this.ke.get(g)!==null||this.it(c,g)||this.Ue(c,g,pn.newNoDocument(g,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Ve();this.qe.forEach((o,c)=>{let d=!0;c.forEachWhile(g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new Vu(e,n,this.Qe,this.ke,r);return this.ke=ss(),this.qe=Ip(),this.Qe=new St(We),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ap,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ap),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ip(){return new St(Ee.comparator)}function Cp(){return new St(Ee.comparator)}const K9={asc:"ASCENDING",desc:"DESCENDING"},Q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y9={and:"AND",or:"OR"};class X9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ld(t,e){return t.useProto3Json||Cu(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J9(t,e){return lu(t,e.toTimestamp())}function Dr(t){return rt(!!t),Ce.fromTimestamp(function(n){const r=Hs(n);return new Lt(r.seconds,r.nanos)}(t))}function kf(t,e){return ud(t,e).canonicalString()}function ud(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function n5(t){const e=gt.fromString(t);return rt(a5(e)),e}function cd(t,e){return kf(t.databaseId,e.path)}function Xc(t,e){const n=n5(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(s5(n))}function r5(t,e){return kf(t.databaseId,e)}function Z9(t){const e=n5(t);return e.length===4?gt.emptyPath():s5(e)}function hd(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s5(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rp(t,e,n){return{name:cd(t,e),fields:n.value.mapValue.fields}}function ev(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(_,E){return _.useProto3Json?(rt(E===void 0||typeof E=="string"),rn.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),rn.fromUint8Array(E||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const E=_.code===void 0?ae.UNKNOWN:Jg(_.code);return new Se(E,_.message||"")}(c);n=new e5(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xc(t,r.document.name),o=Dr(r.document.updateTime),c=r.document.createTime?Dr(r.document.createTime):Ce.min(),d=new tr({mapValue:{fields:r.document.fields}}),g=pn.newFoundDocument(s,o,c,d),_=r.targetIds||[],E=r.removedTargetIds||[];n=new I0(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xc(t,r.document),o=r.readTime?Dr(r.readTime):Ce.min(),c=pn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new I0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xc(t,r.document),o=r.removedTargetIds||[];n=new I0([],o,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new q9(s,o),d=r.targetId;n=new Zg(d,c)}}return n}function tv(t,e){let n;if(e instanceof Sl)n={update:Rp(t,e.key,e.value)};else if(e instanceof Sf)n={delete:cd(t,e.key)};else if(e instanceof Pi)n={update:Rp(t,e.key,e.data),updateMask:cv(e.fieldMask)};else{if(!(e instanceof B9))return Ae();n={verify:cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ml)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof au)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:J9(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(t,e.precondition)),n}function nv(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(s,o){let c=s.updateTime?Dr(s.updateTime):Dr(o);return c.isEqual(Ce.min())&&(c=Dr(o)),new O9(c,s.transformResults||[])}(n,e))):[]}function rv(t,e){return{documents:[r5(t,e.path)]}}function sv(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r5(t,s);const o=function(_){if(_.length!==0)return o5(zr.create(_,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(_){if(_.length!==0)return _.map(E=>function(R){return{field:eo(R.field),direction:av(R.dir)}}(E))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ld(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:s}}function iv(t){let e=Z9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){rt(r===1);const E=n.from[0];E.allDescendants?s=E.collectionId:e=e.child(E.collectionId)}let o=[];n.where&&(o=function(C){const R=i5(C);return R instanceof zr&&zg(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(C){return C.map(R=>function(Y){return new iu(to(Y.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(R))}(n.orderBy));let d=null;n.limit&&(d=function(C){let R;return R=typeof C=="object"?C.value:C,Cu(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(C){const R=!!C.before,H=C.values||[];return new su(H,R)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const R=!C.before,H=C.values||[];return new su(H,R)}(n.endAt)),S9(e,s,c,o,d,"F",g,_)}function ov(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=to(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=to(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=to(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(to(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>i5(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function av(t){return K9[t]}function lv(t){return Q9[t]}function uv(t){return Y9[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return Zt.fromServerFormat(t.fieldPath)}function o5(t){return t instanceof zt?function(n){if(n.op==="=="){if(gp(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(pp(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gp(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(pp(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:lv(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(s=>o5(s));return r.length===1?r[0]:{compositeFilter:{op:uv(n.op),filters:r}}}(t):Ae()}function cv(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,o=Ce.min(),c=Ce.min(),d=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.ct=e}}function dv(t){const e=iv({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.un=new mv}addToCollectionParentIndex(e,n){return this.un.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(qs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class mv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(gt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vo(0)}static kn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qa(r.mutation,s,yr.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=gi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Ia();return o.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=ss();const c=Ua(),d=function(){return Ua()}();return n.forEach((g,_)=>{const E=r.get(_.key);s.has(_.key)&&(E===void 0||E.mutation instanceof Pi)?o=o.insert(_.key,_):E!==void 0?(c.set(_.key,E.mutation.getFieldMask()),qa(E.mutation,_,E.mutation.getFieldMask(),Lt.now())):c.set(_.key,yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((_,E)=>c.set(_,E)),n.forEach((_,E)=>{var C;return d.set(_,new gv(E,(C=c.get(_))!==null&&C!==void 0?C:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Ua();let s=new St((c,d)=>c-d),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=r.get(g)||yr.empty();E=d.applyToLocalView(_,E),r.set(g,E);const C=(s.get(d.batchId)||Ve()).add(g);s=s.insert(d.batchId,C)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),_=g.key,E=g.value,C=Hg();E.forEach(R=>{if(!o.has(R)){const H=Yg(n.get(R),r.get(R));H!==null&&C.set(R,H),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,C))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ie.resolve(gi());let d=-1,g=o;return c.next(_=>ie.forEach(_,(E,C)=>(d<C.largestBatchId&&(d=C.largestBatchId),o.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,g,_,Ve())).next(E=>({batchId:d,changes:qg(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let s=Ia();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Ia();return this.indexManager.getCollectionParents(e,o).next(d=>ie.forEach(d,g=>{const _=function(C,R){return new Ru(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(o));return this.getDocumentsMatchingCollectionQuery(e,_,r,s).next(E=>{E.forEach((C,R)=>{c=c.insert(C,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((g,_)=>{const E=_.getKey();c.get(E)===null&&(c=c.insert(E,pn.newInvalidDocument(E)))});let d=Ia();return c.forEach((g,_)=>{const E=o.get(g);E!==void 0&&qa(E.mutation,_,yr.empty(),Lt.now()),Pu(n,_)&&(d=d.insert(g,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:dv(s.bundledQuery),readTime:Dr(s.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.overlays=new St(Ee.comparator),this.Ir=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gi();return ie.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const s=gi(),o=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===o&&g.largestBatchId>r&&s.set(g.getKey(),g)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new St((_,E)=>_-E);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let E=o.get(_.largestBatchId);E===null&&(E=gi(),o=o.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const d=gi(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>d.set(_,E)),!(d.size()>=s)););return ie.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new U9(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.Tr=new tn(qt.Er),this.dr=new tn(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ee(new gt([])),r=new qt(n,e),s=new qt(n,e+1),o=[];return this.dr.forEachInRange([r,s],c=>{this.Vr(c),o.push(c.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ee(new gt([])),r=new qt(n,e),s=new qt(n,e+1);let o=Ve();return this.dr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ee.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(qt.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new j9(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.br=this.br.add(new qt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],c=>{const d=this.Dr(c.wr);o.push(d)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(We);return n.forEach(s=>{const o=new qt(s,0),c=new qt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],d=>{r=r.add(d.wr)})}),ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const c=new qt(new Ee(o),0);let d=new tn(We);return this.br.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===s&&(d=d.add(g.wr)),!0)},c),ie.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ie.forEach(n.mutations,s=>{const o=new qt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qt(n,0),s=this.br.firstAfterOrEqual(r);return ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.Mr=e,this.docs=function(){return new St(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():pn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ss();const c=n.path,d=new Ee(c.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||s9(r9(E),r)<=0||(s.has(E.key)||Pu(n,E))&&(o=o.insert(E.key,E.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ae()}Or(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sv(this)}getSize(e){return ie.resolve(this.size)}}class Sv extends pv{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.persistence=e,this.Nr=new Ho(n=>wf(n),_f),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Af,this.targetCount=0,this.kr=Vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Kn(n),ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(o).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pf(0),this.Kr=!1,this.Kr=!0,this.$r=new _v,this.referenceDelegate=e(this),this.Ur=new Tv(this),this.indexManager=new fv,this.remoteDocumentCache=function(s){return new bv(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hv(n),this.Gr=new vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new kv(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kv extends o9{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Jr=new Af,this.Yr=null}static Zr(e){return new If(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,r=>{const s=Ee.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ie.or([()=>ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ve(),s=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Cf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ny()?8:a9(Cy())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new Av;return this.Xi(e,n,c).next(d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ba()<=Ue.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Zi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(ba()<=Ue.DEBUG&&we("QueryEngine","Query:",Zi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ba()<=Ue.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Zi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ie.resolve())}Yi(e,n){if(_p(n))return ie.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ad(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Ve(...o);return this.Ji.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.ts(n,d);return this.ns(n,_,c,g.readTime)?this.Yi(e,ad(n,null,"F")):this.rs(e,_,n,g)}))})))}Zi(e,n,r,s){return _p(n)||s.isEqual(Ce.min())?ie.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const c=this.ts(n,o);return this.ns(n,c,r,s)?ie.resolve(null):(ba()<=Ue.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zi(n)),this.rs(e,c,n,n9(s,-1)).next(d=>d))})}ts(e,n){let r=new tn(jg(e));return n.forEach((s,o)=>{Pu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return ba()<=Ue.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Zi(n)),this.Ji.getDocumentsMatchingQuery(e,n,qs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new St(We),this._s=new Ho(o=>wf(o),_f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Rv(t,e,n,r){return new Cv(t,e,n,r)}async function l5(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let g=Ve();for(const _ of s){c.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of o){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next(_=>({hs:_,removedBatchIds:c,addedBatchIds:d}))})})}function Nv(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(d,g,_,E){const C=_.batch,R=C.keys();let H=ie.resolve();return R.forEach(Y=>{H=H.next(()=>E.getEntry(g,Y)).next(ee=>{const W=_.docVersions.get(Y);rt(W!==null),ee.version.compareTo(W)<0&&(C.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),E.addEntry(ee)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(g,C))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Ve();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function u5(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Pv(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const d=[];e.targetChanges.forEach((E,C)=>{const R=s.get(C);if(!R)return;d.push(n.Ur.removeMatchingKeys(o,E.removedDocuments,C).next(()=>n.Ur.addMatchingKeys(o,E.addedDocuments,C)));let H=R.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(rn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,r)),s=s.insert(C,H),function(ee,W,L){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(R,H,E)&&d.push(n.Ur.updateTargetData(o,H))});let g=ss(),_=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,E))}),d.push(Mv(o,c,e.documentUpdates).next(E=>{g=E.Ps,_=E.Is})),!r.isEqual(Ce.min())){const E=n.Ur.getLastRemoteSnapshotVersion(o).next(C=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(E)}return ie.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,g,_)).next(()=>g)}).then(o=>(n.os=s,o))}function Mv(t,e,n){let r=Ve(),s=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=ss();return n.forEach((d,g)=>{const _=o.get(d);g.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):we("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",g.version)}),{Ps:c,Is:s}})}function Dv(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vv(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,ie.resolve(s)):n.Ur.allocateTargetId(r).next(c=>(s=new Cs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function dd(t,e,n){const r=Re(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!bl(c))throw c;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Np(t,e,n){const r=Re(t);let s=Ce.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",c=>function(g,_,E){const C=Re(g),R=C._s.get(E);return R!==void 0?ie.resolve(C.os.get(R)):C.Ur.getTargetData(_,E)}(r,c,Pr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next(g=>{o=g})}).next(()=>r.ss.getDocumentsMatchingQuery(c,e,n?s:Ce.min(),n?o:Ve())).next(d=>(zv(r,k9(e),d),{documents:d,Ts:o})))}function zv(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Pp{constructor(){this.activeTargetIds=P9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ov{constructor(){this.so=new Pp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0=null;function Jc(){return d0===null?d0=function(){return 268435456+Math.round(2147483648*Math.random())}():d0++,"0x"+d0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class jv extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,c){const d=Jc(),g=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,o,c),this.No(n,g,_,s).then(E=>(we("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw No("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",s),E})}Lo(n,r,s,o,c,d){return this.Mo(n,r,s,o,c)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),s&&s.headers.forEach((o,c)=>n[c]=o)}xo(n,r){const s=Fv[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=Jc();return new Promise((c,d)=>{const g=new Tg;g.setWithCredentials(!0),g.listenOnce(Eg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case E0.NO_ERROR:const E=g.getResponseJson();we(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(E)),c(E);break;case E0.TIMEOUT:we(dn,`RPC '${e}' ${o} timed out`),d(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:const C=g.getStatus();if(we(dn,`RPC '${e}' ${o} failed with status:`,C,"response text:",g.getResponseText()),C>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R==null?void 0:R.error;if(H&&H.status&&H.message){const Y=function(W){const L=W.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(L)>=0?L:ae.UNKNOWN}(H.status);d(new Se(Y,H.message))}else d(new Se(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{we(dn,`RPC '${e}' ${o} completed.`)}});const _=JSON.stringify(s);we(dn,`RPC '${e}' ${o} sending request:`,s),g.send(n,"POST",_,r,15)})}Bo(e,n,r){const s=Jc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ig(),d=Ag(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=o.join("");we(dn,`Creating RPC '${e}' stream ${s}: ${E}`,g);const C=c.createWebChannel(E,g);let R=!1,H=!1;const Y=new Bv({Io:W=>{H?we(dn,`Not sending because RPC '${e}' stream ${s} is closed:`,W):(R||(we(dn,`Opening RPC '${e}' stream ${s} transport.`),C.open(),R=!0),we(dn,`RPC '${e}' stream ${s} sending:`,W),C.send(W))},To:()=>C.close()}),ee=(W,L,M)=>{W.listen(L,F=>{try{M(F)}catch(te){setTimeout(()=>{throw te},0)}})};return ee(C,Aa.EventType.OPEN,()=>{H||(we(dn,`RPC '${e}' stream ${s} transport opened.`),Y.yo())}),ee(C,Aa.EventType.CLOSE,()=>{H||(H=!0,we(dn,`RPC '${e}' stream ${s} transport closed`),Y.So())}),ee(C,Aa.EventType.ERROR,W=>{H||(H=!0,No(dn,`RPC '${e}' stream ${s} transport errored:`,W),Y.So(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),ee(C,Aa.EventType.MESSAGE,W=>{var L;if(!H){const M=W.data[0];rt(!!M);const F=M,te=F.error||((L=F[0])===null||L===void 0?void 0:L.error);if(te){we(dn,`RPC '${e}' stream ${s} received error:`,te);const le=te.status;let ce=function(P){const z=Nt[P];if(z!==void 0)return Jg(z)}(le),D=te.message;ce===void 0&&(ce=ae.INTERNAL,D="Unknown error status: "+le+" with message "+te.message),H=!0,Y.So(new Se(ce,D)),C.close()}else we(dn,`RPC '${e}' stream ${s} received:`,M),Y.bo(M)}}),ee(d,kg.STAT_EVENT,W=>{W.stat===nd.PROXY?we(dn,`RPC '${e}' stream ${s} detected buffering proxy`):W.stat===nd.NOPROXY&&we(dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Y.wo()},0),Y}}function Zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){return new X9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r,s,o,c,d,g){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c5(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uv extends h5{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ev(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Dr(c.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=hd(this.serializer),n.addTarget=function(o,c){let d;const g=c.target;if(d=od(g)?{documents:rv(o,g)}:{query:sv(o,g)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=t5(o,c.resumeToken);const _=ld(o,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=lu(o,c.snapshotVersion.toTimestamp());const _=ld(o,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const r=ov(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=hd(this.serializer),n.removeTarget=e,this.a_(n)}}class qv extends h5{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nv(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=hd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tv(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Mo(e,ud(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ae.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Lo(e,ud(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ae.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $v{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rs(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(c=>{r.enqueueAndForget(async()=>{Mi(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Re(g);_.L_.add(4),await El(_),_.q_.set("Unknown"),_.L_.delete(4),await Ou(_)}(this))})}),this.q_=new $v(r,s)}}async function Ou(t){if(Mi(t))for(const e of t.B_)await e(!0)}async function El(t){for(const e of t.B_)await e(!1)}function d5(t,e){const n=Re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mf(n)?Pf(n):$o(n).r_()&&Nf(n,e))}function Rf(t,e){const n=Re(t),r=$o(n);n.N_.delete(e),r.r_()&&f5(n,e),n.N_.size===0&&(r.r_()?r.o_():Mi(n)&&n.q_.set("Unknown"))}function Nf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).A_(e)}function f5(t,e){t.Q_.xe(e),$o(t).R_(e)}function Pf(t){t.Q_=new G9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.q_.v_()}function Mf(t){return Mi(t)&&!$o(t).n_()&&t.N_.size>0}function Mi(t){return Re(t).L_.size===0}function m5(t){t.Q_=void 0}async function Gv(t){t.q_.set("Online")}async function Kv(t){t.N_.forEach((e,n)=>{Nf(t,e)})}async function Qv(t,e){m5(t),Mf(t)?(t.q_.M_(e),Pf(t)):t.q_.set("Unknown")}async function Yv(t,e,n){if(t.q_.set("Online"),e instanceof e5&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.N_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.N_.delete(d),s.Q_.removeTarget(d))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uu(t,r)}else if(e instanceof I0?t.Q_.Ke(e):e instanceof Zg?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await u5(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=o.N_.get(_);E&&o.N_.set(_,E.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,_)=>{const E=o.N_.get(g);if(!E)return;o.N_.set(g,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),f5(o,g);const C=new Cs(E.target,g,_,E.sequenceNumber);Nf(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await uu(t,r)}}async function uu(t,e,n){if(!bl(e))throw e;t.L_.add(1),await El(t),t.q_.set("Offline"),n||(n=()=>u5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ou(t)})}function p5(t,e){return e().catch(n=>uu(t,n,e))}async function Lu(t){const e=Re(t),n=$s(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xv(e);)try{const s=await Dv(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Jv(e,s)}catch(s){await uu(e,s)}g5(e)&&y5(e)}function Xv(t){return Mi(t)&&t.O_.length<10}function Jv(t,e){t.O_.push(e);const n=$s(t);n.r_()&&n.V_&&n.m_(e.mutations)}function g5(t){return Mi(t)&&!$s(t).n_()&&t.O_.length>0}function y5(t){$s(t).start()}async function Zv(t){$s(t).p_()}async function ew(t){const e=$s(t);for(const n of t.O_)e.m_(n.mutations)}async function tw(t,e,n){const r=t.O_.shift(),s=Tf.from(r,e,n);await p5(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lu(t)}async function nw(t,e){e&&$s(t).V_&&await async function(r,s){if(function(c){return H9(c)&&c!==ae.ABORTED}(s.code)){const o=r.O_.shift();$s(r).s_(),await p5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Lu(r)}}(t,e),g5(t)&&y5(t)}async function Dp(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Mi(n);n.L_.add(3),await El(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ou(n)}async function rw(t,e){const n=Re(t);e?(n.L_.delete(2),await Ou(n)):e||(n.L_.add(2),await El(n),n.q_.set("Unknown"))}function $o(t){return t.K_||(t.K_=function(n,r,s){const o=Re(n);return o.w_(),new Uv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Gv.bind(null,t),Ro:Kv.bind(null,t),mo:Qv.bind(null,t),d_:Yv.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Mf(t)?Pf(t):t.q_.set("Unknown")):(await t.K_.stop(),m5(t))})),t.K_}function $s(t){return t.U_||(t.U_=function(n,r,s){const o=Re(n);return o.w_(),new qv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Zv.bind(null,t),mo:nw.bind(null,t),f_:ew.bind(null,t),g_:tw.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lu(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new Df(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(t,e){if(rs("AsyncQueue",`${e}: ${t}`),bl(t))return new Se(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Ia(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.W_=new St(Ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zo{constructor(e,n,r,s,o,c,d,g,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new zo(e,n,bo.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iw{constructor(){this.queries=zp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Re(n),o=s.queries;s.queries=zp(),o.forEach((c,d)=>{for(const g of d.j_)g.onError(r)})})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function zp(){return new Ho(t=>Bg(t),Nu)}async function ow(t,e){const n=Re(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new sw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Vf(c,`Initialization of query '${Zi(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&zf(n)}async function aw(t,e){const n=Re(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lw(t,e){const n=Re(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(s)&&(r=!0);c.z_=s}}r&&zf(n)}function uw(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function zf(t){t.Y_.forEach(e=>{e.next()})}var fd,Op;(Op=fd||(fd={})).ea="default",Op.Cache="cache";class cw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.key=e}}class w5{constructor(e){this.key=e}}class hw{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=jg(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Vp,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,_=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((E,C)=>{const R=s.get(E),H=Pu(this.query,C)?C:null,Y=!!R&&this.mutatedKeys.has(R.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;R&&H?R.data.isEqual(H.data)?Y!==ee&&(r.track({type:3,doc:H}),W=!0):this.ga(R,H)||(r.track({type:2,doc:H}),W=!0,(g&&this.Aa(H,g)>0||_&&this.Aa(H,_)<0)&&(d=!0)):!R&&H?(r.track({type:0,doc:H}),W=!0):R&&!H&&(r.track({type:1,doc:R}),W=!0,(g||_)&&(d=!0)),W&&(H?(c=c.add(H),o=ee?o.add(E):o.delete(E)):(c=c.delete(E),o=o.delete(E)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),o=o.delete(E.key),r.track({type:1,doc:E})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((E,C)=>function(H,Y){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return ee(H)-ee(Y)}(E.type,C.type)||this.Aa(E.doc,C.doc)),this.pa(r),s=s!=null&&s;const d=n&&!s?this.ya():[],g=this.da.size===0&&this.current&&!s?1:0,_=g!==this.Ea;return this.Ea=g,c.length!==0||_?{snapshot:new zo(this.query,e.Ra,o,c,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new w5(r))}),this.da.forEach(r=>{e.has(r)||n.push(new v5(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dw{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fw{constructor(e){this.key=e,this.va=!1}}class mw{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Ho(d=>Bg(d),Nu),this.Ma=new Map,this.xa=new Set,this.Oa=new St(Ee.comparator),this.Na=new Map,this.La=new Af,this.Ba={},this.ka=new Map,this.qa=Vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pw(t,e,n=!0){const r=E5(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await _5(r,e,n,!0),s}async function gw(t,e){const n=E5(t);await _5(n,e,!0,!1)}async function _5(t,e,n,r){const s=await Vv(t.localStore,Pr(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await yw(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&d5(t.remoteStore,s),d}async function yw(t,e,n,r,s){t.Ka=(C,R,H)=>async function(ee,W,L,M){let F=W.view.ma(L);F.ns&&(F=await Np(ee.localStore,W.query,!1).then(({documents:D})=>W.view.ma(D,F)));const te=M&&M.targetChanges.get(W.targetId),le=M&&M.targetMismatches.get(W.targetId)!=null,ce=W.view.applyChanges(F,ee.isPrimaryClient,te,le);return Fp(ee,W.targetId,ce.wa),ce.snapshot}(t,C,R,H);const o=await Np(t.localStore,e,!0),c=new hw(e,o.Ts),d=c.ma(o.documents),g=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),_=c.applyChanges(d,t.isPrimaryClient,g);Fp(t,n,_.wa);const E=new dw(e,n,c);return t.Fa.set(e,E),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),_.snapshot}async function vw(t,e,n){const r=Re(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(c=>!Nu(c,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Rf(r.remoteStore,s.targetId),md(r,s.targetId)}).catch(xl)):(md(r,s.targetId),await dd(r.localStore,s.targetId,!0))}async function ww(t,e){const n=Re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rf(n.remoteStore,r.targetId))}async function _w(t,e,n){const r=Aw(t);try{const s=await function(c,d){const g=Re(c),_=Lt.now(),E=d.reduce((H,Y)=>H.add(Y.key),Ve());let C,R;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=ss(),ee=Ve();return g.cs.getEntries(H,E).next(W=>{Y=W,Y.forEach((L,M)=>{M.isValidDocument()||(ee=ee.add(L))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Y)).next(W=>{C=W;const L=[];for(const M of d){const F=F9(M,C.get(M.key).overlayedDocument);F!=null&&L.push(new Pi(M.key,F,Mg(F.value.mapValue),Mr.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,L,d)}).next(W=>{R=W;const L=W.applyToLocalDocumentSet(C,ee);return g.documentOverlayCache.saveOverlays(H,W.batchId,L)})}).then(()=>({batchId:R.batchId,changes:qg(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,g){let _=c.Ba[c.currentUser.toKey()];_||(_=new St(We)),_=_.insert(d,g),c.Ba[c.currentUser.toKey()]=_}(r,s.batchId,n),await kl(r,s.changes),await Lu(r.remoteStore)}catch(s){const o=Vf(s,"Failed to persist write");n.reject(o)}}async function x5(t,e){const n=Re(t);try{const r=await Pv(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Na.get(o);c&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.va=!0:s.modifiedDocuments.size>0?rt(c.va):s.removedDocuments.size>0&&(rt(c.va),c.va=!1))}),await kl(n,r,e)}catch(r){await xl(r)}}function Lp(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,c)=>{const d=c.view.Z_(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const g=Re(c);g.onlineState=d;let _=!1;g.queries.forEach((E,C)=>{for(const R of C.j_)R.Z_(d)&&(_=!0)}),_&&zf(g)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xw(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let c=new St(Ee.comparator);c=c.insert(o,pn.newNoDocument(o,Ce.min()));const d=Ve().add(o),g=new Vu(Ce.min(),new Map,new St(We),c,d);await x5(r,g),r.Oa=r.Oa.remove(o),r.Na.delete(e),Of(r)}else await dd(r.localStore,e,!1).then(()=>md(r,e,n)).catch(xl)}async function bw(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await Nv(n.localStore,e);S5(n,r,null),b5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kl(n,s)}catch(s){await xl(s)}}async function Sw(t,e,n){const r=Re(t);try{const s=await function(c,d){const g=Re(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,d).next(C=>(rt(C!==null),E=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(r.localStore,e);S5(r,e,n),b5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kl(r,s)}catch(s){await xl(s)}}function b5(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function S5(t,e,n){const r=Re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function md(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||T5(t,r)})}function T5(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Rf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Of(t))}function Fp(t,e,n){for(const r of n)r instanceof v5?(t.La.addReference(r.key,e),Tw(t,r)):r instanceof w5?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||T5(t,r.key)):Ae()}function Tw(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),Of(t))}function Of(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ee(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new fw(n)),t.Oa=t.Oa.insert(n,r),d5(t.remoteStore,new Cs(Pr(xf(n.path)),r,"TargetPurposeLimboResolution",pf.oe))}}async function kl(t,e,n){const r=Re(t),s=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach((d,g)=>{c.push(r.Ka(g,e,n).then(_=>{var E;if((_||n)&&r.isPrimaryClient){const C=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(_){s.push(_);const C=Cf.Wi(g.targetId,_);o.push(C)}}))}),await Promise.all(c),r.Ca.d_(s),await async function(g,_){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ie.forEach(_,R=>ie.forEach(R.$i,H=>E.persistence.referenceDelegate.addReference(C,R.targetId,H)).next(()=>ie.forEach(R.Ui,H=>E.persistence.referenceDelegate.removeReference(C,R.targetId,H)))))}catch(C){if(!bl(C))throw C;we("LocalStore","Failed to update sequence numbers: "+C)}for(const C of _){const R=C.targetId;if(!C.fromCache){const H=E.os.get(R),Y=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(Y);E.os=E.os.insert(R,ee)}}}(r.localStore,o))}async function Ew(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await l5(n.localStore,e);n.currentUser=e,function(o,c){o.ka.forEach(d=>{d.forEach(g=>{g.reject(new Se(ae.CANCELLED,c))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kl(n,r.hs)}}function kw(t,e){const n=Re(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let s=Ve();const o=n.Ma.get(e);if(!o)return s;for(const c of o){const d=n.Fa.get(c);s=s.unionWith(d.view.Va)}return s}}function E5(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xw.bind(null,e),e.Ca.d_=lw.bind(null,e.eventManager),e.Ca.$a=uw.bind(null,e.eventManager),e}function Aw(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Rv(this.persistence,new Iv,e.initialUser,this.serializer)}Ga(e){return new Ev(If.Zr,this.serializer)}Wa(e){return new Ov}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class pd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ew.bind(null,this.syncEngine),await rw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iw}()}createDatastore(e){const n=zu(e.databaseInfo.databaseId),r=function(o){return new jv(o)}(e.databaseInfo);return function(o,c,d,g){return new Hv(o,c,d,g)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new Wv(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Lp(this.syncEngine,n,0),function(){return Mp.D()?new Mp:new Lv}())}createSyncEngine(e,n){return function(s,o,c,d,g,_,E){const C=new mw(s,o,c,d,g,_);return E&&(C.Qa=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Re(s);we("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await El(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{we("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(we("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eh(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await l5(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rw(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Dp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Dp(e.remoteStore,s)),t._onlineComponents=e}async function Rw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await eh(t,new cu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await eh(t,new cu);return t._offlineComponents}async function k5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await Bp(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await Bp(t,new pd))),t._onlineComponents}function Nw(t){return k5(t).then(e=>e.syncEngine)}async function jp(t){const e=await k5(t),n=e.eventManager;return n.onListen=pw.bind(null,e.syncEngine),n.onUnlisten=vw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ww.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pw(t,e,n,r){if(e===!0&&r===!0)throw new Se(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qp(t){if(!Ee.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hp(t){if(Ee.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(t);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G8;switch(r.type){case"firstParty":return new X8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Up.get(n);r&&(we("ComponentProvider","Removing Datastore"),Up.delete(n),r.terminate())}(this),Promise.resolve()}}function Mw(t,e,n,r={}){var s;const o=(t=xi(t,Fu))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=fn.MOCK_USER;else{d=Iy(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fn(_)}t._authCredentials=new K8(new Cg(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Bs extends Bu{constructor(e,n,r){super(e,n,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Ee(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function Dw(t,e,...n){if(t=Ro(t),I5("collection","path",e),t instanceof Fu){const r=gt.fromString(e,...n);return Hp(r),new Bs(t,null,r)}{if(!(t instanceof Un||t instanceof Bs))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return Hp(r),new Bs(t.firestore,null,r)}}function C5(t,e,...n){if(t=Ro(t),arguments.length===1&&(e=Rg.newId()),I5("doc","path",e),t instanceof Fu){const r=gt.fromString(e,...n);return qp(r),new Un(t,null,new Ee(r))}{if(!(t instanceof Un||t instanceof Bs))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return qp(r),new Un(t.firestore,t instanceof Bs?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new c5(this,"async_queue_retry"),this.Vu=()=>{const r=Zc();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new _i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bl(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw rs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Df.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Gp(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class pl extends Fu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Wp,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wp(e),this._firestoreClient=void 0,await e}}}function Vw(t,e){const n=typeof t=="object"?t:O8(),r=typeof t=="string"?t:"(default)",s=M8(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ky("firestore");o&&Mw(s,...o)}return s}function R5(t){if(t._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zw(t),t._firestoreClient}function zw(t){var e,n,r;const s=t._freezeSettings(),o=function(d,g,_,E){return new c9(d,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,A5(E.experimentalLongPollingOptions),E.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Cw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(rn.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=/^__.*__$/;class Lw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}function P5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Uf{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(P5(this.Cu)&&Ow.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Fw{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zu(e)}Qu(e,n,r,s=!1){return new Uf({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bw(t){const e=t._freezeSettings(),n=zu(t._databaseId);return new Fw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jw(t,e,n,r,s,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);z5("Data must be an object, but it was:",c,r);const d=D5(r,c);let g,_;if(o.merge)g=new yr(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const E=[];for(const C of o.mergeFields){const R=Uw(e,C,n);if(!c.contains(R))throw new Se(ae.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Hw(E,R)||E.push(R)}g=new yr(E),_=c.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,_=c.fieldTransforms;return new Lw(new tr(d),g,_)}function M5(t,e){if(V5(t=Ro(t)))return z5("Unsupported field value:",e,t),D5(t,e);if(t instanceof N5)return function(r,s){if(!P5(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let g=M5(d,s.Lu(c));g==null&&(g={nullValue:"NULL_VALUE"}),o.push(g),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:lu(s.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(s.serializer,o)}}if(r instanceof Bf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oo)return{bytesValue:t5(s.serializer,r._byteString)};if(r instanceof Un){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jf)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Bu("VectorValues must only contain numeric values.");return bf(d.serializer,g)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Lf(r)}`)}(t,e)}function D5(t,e){const n={};return Ng(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,s)=>{const o=M5(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function V5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Bf||t instanceof Oo||t instanceof Un||t instanceof N5||t instanceof jf)}function z5(t,e,n){if(!V5(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Uw(t,e,n){if((e=Ro(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return O5(t,e);throw hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const qw=new RegExp("[~\\*/\\[\\]]");function O5(t,e,n){if(e.search(qw)>=0)throw hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hu(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(o||c)&&(g+=" (found",o&&(g+=` in field ${r}`),c&&(g+=` in document ${s}`),g+=")"),new Se(ae.INVALID_ARGUMENT,d+t+g)}function Hw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $w extends L5{data(){return super.data()}}function F5(t,e){return typeof e=="string"?O5(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gw{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>It(c.doubleValue));return new jf(o)}convertGeoPoint(e){return new Bf(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);rt(a5(r));const s=new hl(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return s.isEqual(n)||rs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B5 extends L5{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class C0 extends B5{data(e={}){return super.data(e)}}class Qw{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ra(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new C0(this._firestore,this._userDataWriter,r.key,r,new Ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const g=new C0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ra(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const g=new C0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ra(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,E=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),E=c.indexOf(d.doc.key)),{type:Yw(d.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class j5 extends Gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function Xw(t,e,n){t=xi(t,Un);const r=xi(t.firestore,pl),s=Kw(t.converter,e,n);return U5(r,[jw(Bw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mr.none())])}function Jw(t){return U5(xi(t.firestore,pl),[new Sf(t._key,Mr.none())])}function Zw(t,...e){var n,r,s;t=Ro(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Gp(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Gp(e[c])){const C=e[c];e[c]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[c+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[c+2]=(s=C.complete)===null||s===void 0?void 0:s.bind(C)}let g,_,E;if(t instanceof Un)_=xi(t.firestore,pl),E=xf(t._key.path),g={next:C=>{e[c]&&e[c](e_(_,t,C))},error:e[c+1],complete:e[c+2]};else{const C=xi(t,Bu);_=xi(C.firestore,pl),E=C._query;const R=new j5(_);g={next:H=>{e[c]&&e[c](new Qw(_,R,C,H))},error:e[c+1],complete:e[c+2]},Ww(t._query)}return function(R,H,Y,ee){const W=new Iw(ee),L=new cw(H,W,Y);return R.asyncQueue.enqueueAndForget(async()=>ow(await jp(R),L)),()=>{W.Za(),R.asyncQueue.enqueueAndForget(async()=>aw(await jp(R),L))}}(R5(_),E,d,g)}function U5(t,e){return function(r,s){const o=new _i;return r.asyncQueue.enqueueAndForget(async()=>_w(await Nw(r),s,o)),o.promise}(R5(t),e)}function e_(t,e,n){const r=n.docs.get(e._key),s=new j5(t);return new B5(t,s,e._key,r,new Ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Uo=s})(z8),nu(new al("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new pl(new Q8(r.getProvider("auth-internal")),new Z8(r.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(_.options.projectId,E)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),xo(cp,"4.7.3",e),xo(cp,"4.7.3","esm2017")})();var t_="firebase",n_="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo(t_,n_,"app");const r_=null,s_=(()=>{var n;if(typeof globalThis>"u")return null;const t=(n=globalThis.__FIREBASE_DEFAULTS__)==null?void 0:n.config;if(t!=null&&t.projectId)return t;const e=globalThis.__FIREBASE_CONFIG__;return e!=null&&e.projectId?e:null})(),Kp=r_??s_??null;let Qp,du=null;Kp&&(Qp=_g(Kp),du=Vw(Qp));const ks=!!du,i_="exams",qf=()=>du?Dw(du,i_):null,o_=(t,e)=>{const n=qf();return!n||!ks?()=>{}:Zw(n,r=>{const s=r.docs.map(o=>({...o.data(),id:o.id}));t(s,{fromCache:r.metadata.fromCache})},r=>{e&&e(r)})},Yp=async t=>{const e=qf();!e||!ks||await Xw(C5(e,t.id),t,{merge:!0})},a_=async t=>{const e=qf();!e||!ks||await Jw(C5(e,t))},Xp="omniExamStudio.exams",th="latinExamMaker.exams",Jp=t=>{const e=[...t];for(let n=e.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},l_=(t,e)=>(e.shuffleQuestions?Jp(t.questions):t.questions.slice()).map(r=>{if(!e.shuffleAnswers)return{entry:r.entry,options:r.options.map(d=>({...d})),correctIndex:r.correctIndex};const s=r.options.map((d,g)=>({...d,originalIndex:g})),o=Jp(s).map((d,g)=>({label:String.fromCharCode(97+g),text:d.text,originalIndex:d.originalIndex})),c=o.findIndex(d=>d.originalIndex===r.correctIndex);return{entry:r.entry,options:o.map(({originalIndex:d,...g})=>g),correctIndex:c>=0?c:r.correctIndex}}),u_=()=>{const t=uy(),[e,n]=Le.useState(ay),[r,s]=Le.useState(""),[o,c]=Le.useState(0),[d,g]=Le.useState([]),[_,E]=Le.useState(!1),[C,R]=Le.useState(null),[H,Y]=Le.useState(!1),[ee,W]=Le.useState(!1),[L,M]=Le.useState(!1),[F,te]=Le.useState(null),[le,ce]=Le.useState(!1),[D,A]=Le.useState(!1),[P,z]=Le.useState(!1),[U,q]=Le.useState(!1),O=Le.useRef(null),Wt=Le.useRef(null),Dn=Le.useRef(!1);Le.useEffect(()=>{if(!(typeof window>"u"))try{const me=window.localStorage.getItem(Xp),Ne=me?null:window.localStorage.getItem(th),De=me??Ne;if(Ne&&window.localStorage.removeItem(th),De){const He=JSON.parse(De);if(Array.isArray(He)&&He.length>0){n(He);return}}}catch{}},[]),Le.useEffect(()=>{typeof window>"u"||(window.localStorage.setItem(Xp,JSON.stringify(e)),window.localStorage.removeItem(th))},[e]),Le.useEffect(()=>{if(!ks)return;const me=o_(async(Ne,{fromCache:De})=>{if(Ne.length===0){if(!De&&!Dn.current)try{await Yp(dg),Dn.current=!0}catch(He){console.error("Failed to seed default exam in Firestore.",He)}return}Dn.current=!0,n(Ne)},Ne=>{console.error("Failed to sync exams from Firestore.",Ne),R({text:"Could not sync exams with cloud storage. Showing local copy.",type:"error"})});return()=>{me()}},[]),Le.useEffect(()=>{E(!t&&L),Y(!1)},[t,L]),Le.useEffect(()=>{if(!H)return;const me=De=>{var He;(He=Wt.current)!=null&&He.contains(De.target)||Y(!1)},Ne=De=>{De.key==="Escape"&&Y(!1)};return document.addEventListener("mousedown",me),document.addEventListener("keydown",Ne),()=>{document.removeEventListener("mousedown",me),document.removeEventListener("keydown",Ne)}},[H]);const Ft=Le.useMemo(()=>{if(r)return e.find(me=>me.id===r)},[e,r]);Le.useEffect(()=>{if(!F||!L){g([]),c(0),q(!1);return}g(Array(F.questions.length).fill(null)),c(0),q(!1)},[F==null?void 0:F.id,L]);const Bt=(F==null?void 0:F.questions.length)??0,fe=L&&Bt>0?F==null?void 0:F.questions[o]:void 0,ke=!!(L&&F&&Bt>0&&fe),oe=Le.useMemo(()=>d.reduce((me,Ne)=>Ne!=null&&Ne.isCorrect?me+1:me,0),[d]),Ye=!!d[o],Ge=o>0,st=o<Bt-1,Tn=!!(d[o]&&ke&&!U),Rt=Le.useCallback(me=>{const Ne=e.find(He=>He.id===me);if(!Ne)return;s(me),q(!1),M(!0),W(!1),Y(!1);const De=l_(Ne,{shuffleQuestions:le,shuffleAnswers:D});te({id:Ne.id,title:Ne.title,questions:De})},[e,D,le]),sn=()=>{M(!1),s(""),te(null),E(!1),c(0),g([]),W(!1),Y(!1),q(!1)},Vn=me=>{!L||!fe||U||g(Ne=>{const De=[...Ne];return De[o]={optionIndex:me,isCorrect:me===fe.correctIndex},De})},Wo=()=>{U||c(me=>Math.max(0,me-1))},Go=()=>{U||c(me=>Math.min(Bt-1,me+1))},os=()=>{F&&(q(!0),E(!1))},as=()=>{const me=(F==null?void 0:F.id)??r;if(!me)return;if(!e.some(De=>De.id===me)){R({text:"That exam is no longer available.",type:"info"});return}Rt(me)},Qs=me=>{Rt(me)},ls=async me=>{const Ne=e.find(He=>He.id===me);if(!Ne)return;let De=!0;if(typeof window<"u"&&(De=window.confirm(`Delete "${Ne.title}" from your stored exams?`)),!!De&&(n(He=>He.filter(on=>on.id!==me)),(me===r||(F==null?void 0:F.id)===me)&&sn(),R({text:`Deleted "${Ne.title}".`,type:"info"}),ks))try{await a_(me)}catch(He){console.error("Failed to delete exam from Firestore.",He),R({text:"Deleted locally but could not remove from cloud yet.",type:"error"})}},Or=()=>{var me;(me=O.current)==null||me.click()},us=async me=>{var De;const Ne=(De=me.target.files)==null?void 0:De[0];if(Ne)try{const He=await Ne.text(),on=py(He);if(!on.success)R({text:on.message,type:"error"});else{const hs=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`exam-${Date.now()}`,ds={id:hs,title:on.data.title,questions:on.data.questions};n(Xe=>[...Xe,ds]),s(hs);let yt=!1;if(ks)try{await Yp(ds),yt=!0}catch(Xe){console.error("Failed to persist exam to Firestore.",Xe)}R({text:yt||!ks?`Imported "${on.data.title}" successfully.`:`Imported "${on.data.title}" locally. Cloud sync will retry shortly.`,type:yt||!ks?"success":"info"})}}catch{R({text:"Could not read that file. Please try another plain-text export.",type:"error"})}finally{me.target.value=""}},cs=()=>{if(!Ft){R({text:"Select an exam before exporting.",type:"info"});return}if(!Ft.questions.length){R({text:"No questions to export yet.",type:"info"});return}const me=gy(Ft),Ne=new Blob([me],{type:"text/plain"}),De=URL.createObjectURL(Ne),He=document.createElement("a"),on=Ft.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");He.href=De,He.download=`${on||"exam"}.txt`,document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(De),R({text:`Exported "${Ft.title}" as a text file.`,type:"success"})},En=`Title: My Custom Exam

Question 1: puella, puellae, f.
a. girl
b. boy
c. child
d. pull
Answer: a`,xr=me=>{R({text:`${me} is coming soon.`,type:"info"})};return Z.jsx("div",{className:"min-h-screen bg-cream-50 px-4 py-6 sm:px-8 sm:py-10",children:Z.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 md:flex-row",children:[Z.jsxs("main",{className:"flex-1",children:[Z.jsx("input",{ref:O,type:"file",accept:".txt,text/plain",className:"hidden",onChange:us}),Z.jsx("div",{className:"mb-4 flex justify-end",children:Z.jsxs("div",{ref:Wt,className:"relative",children:[Z.jsxs("button",{type:"button",className:"flex h-11 w-11 items-center justify-center rounded-full border border-cream-100 bg-white text-cocoa-500 shadow-sm transition hover:border-rose-200 hover:text-rose-400","aria-haspopup":"menu","aria-expanded":H,onClick:()=>Y(me=>!me),children:[Z.jsx("span",{className:"sr-only",children:H?"Close navigation menu":"Open navigation menu"}),Z.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-current",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})]}),H&&Z.jsxs("div",{role:"menu",className:"absolute right-0 z-20 mt-3 w-60 rounded-2xl border border-cream-100 bg-white p-2 shadow-xl",children:[Z.jsx("button",{type:"button",role:"menuitem",disabled:!L,className:`w-full rounded-xl px-3 py-2 text-left text-sm font-semibold transition ${L?"text-cocoa-500 hover:bg-cream-50":"cursor-not-allowed text-cocoa-300"}`,onClick:()=>{L&&(Y(!1),sn())},children:"Go to exam hub"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),xr("Login")},children:"Login"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),xr("Register")},children:"Register"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),xr("Settings")},children:"Settings"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),cs()},children:"Export exam (.txt)"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),Or()},children:"Import exam (.txt)"}),Z.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{Y(!1),W(me=>!me)},children:ee?"Hide help guide":"Show help guide"})]})]})}),L?Z.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-8 shadow-card sm:px-10 sm:py-12",children:[Z.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[Z.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:sn,children:"Back to exam hub"}),Z.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>E(me=>!me),children:_?"Hide exam list":"Show exam list"})]}),ke?U&&F?Z.jsx(ry,{title:F.title,score:oe,total:Bt,onRetake:as,onExit:sn}):Z.jsxs(Z.Fragment,{children:[Z.jsx(G7,{title:(F==null?void 0:F.title)??(Ft==null?void 0:Ft.title)??"Exam",score:oe,total:Bt,questionIndex:o}),Z.jsx("section",{className:"mt-8",children:Z.jsx(hf,{text:(fe==null?void 0:fe.entry)??"",displayMode:"block",enabled:P,className:`${t?"text-xl":"text-2xl"} font-semibold text-cocoa-500`})}),Z.jsx("div",{className:"mt-6 space-y-4",children:fe.options.map((me,Ne)=>{var De;return Z.jsx(Z7,{option:me,isSelected:((De=d[o])==null?void 0:De.optionIndex)===Ne,isCorrectChoice:Ne===fe.correctIndex,showStatus:Tn,onSelect:()=>Vn(Ne),renderMath:P},`${fe.entry}-${me.label}`)})}),Z.jsx(ey,{selection:d[o],question:fe,renderMath:P}),Z.jsx(ty,{hasPrev:Ge,hasNext:st,canProceed:Ye,onPrev:Wo,onNext:Go,onFinish:os})]}):Z.jsxs("div",{className:"rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[Z.jsx("p",{className:"text-lg font-semibold",children:"No questions are loaded yet."}),Z.jsx("p",{className:"mt-2 text-sm",children:"Import a .txt file that follows the provided template to start practicing."})]})]}):Z.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-10 shadow-card sm:px-10 sm:py-16",children:[Z.jsxs("header",{className:"max-w-3xl",children:[Z.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-rose-400",children:"Omni Exam Studio"}),Z.jsx("h1",{className:"mt-3 font-display text-4xl font-semibold text-cocoa-600",children:"Choose an exam to begin practicing"}),Z.jsx("p",{className:"mt-4 text-base text-cocoa-400",children:"Tap one of the stored exams below or import a new list of questions."})]}),Z.jsx("div",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:e.map(me=>{const De=me.id===r?"border-rose-400 bg-blush-200/60 shadow-xl":"border-transparent bg-cream-50/70 shadow-card hover:-translate-y-1 hover:shadow-2xl";return Z.jsxs("div",{className:"group relative",children:[Z.jsxs("button",{type:"button",className:`flex w-full flex-col overflow-hidden rounded-[36px] border px-8 py-10 text-left transition-transform duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${De}`,onClick:()=>Rt(me.id),children:[Z.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-rose-400",children:"Exam"}),Z.jsx("h2",{className:"mt-4 font-display text-2xl font-semibold text-cocoa-600",children:me.title}),Z.jsxs("p",{className:"mt-6 text-sm font-medium text-cocoa-400",children:[me.questions.length," ",me.questions.length===1?"question":"questions"]})]}),Z.jsx("button",{type:"button","aria-label":`Delete ${me.title}`,className:"absolute right-6 top-6 rounded-full border border-transparent bg-white/80 px-4 py-2 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:He=>{He.stopPropagation(),ls(me.id)},children:"Delete"})]},me.id)})}),e.length===0&&Z.jsxs("div",{className:"mt-8 rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[Z.jsx("p",{className:"text-lg font-semibold",children:"No exams stored yet."}),Z.jsx("p",{className:"mt-2 text-sm",children:"Import a plain-text exam file to get started."})]}),Z.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[Z.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-5 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:Or,children:"Import exam (.txt)"}),Z.jsx("button",{type:"button",className:`rounded-2xl border px-5 py-3 text-sm font-semibold transition ${Ft?"border-rose-200 text-rose-500 hover:bg-blush-200/40":"cursor-not-allowed border-cream-100 text-cocoa-300"}`,onClick:cs,disabled:!Ft,children:"Export current exam (.txt)"})]}),Z.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm",children:[Z.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[Z.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:le,onChange:me=>ce(me.target.checked)}),"Shuffle questions"]}),Z.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[Z.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:D,onChange:me=>A(me.target.checked)}),"Shuffle answers"]}),Z.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[Z.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:P,onChange:me=>z(me.target.checked)}),"Render math ($$...$$)"]}),Z.jsx("span",{className:"text-xs font-medium text-cocoa-400",children:"Shuffle changes apply next session; math toggle updates instantly"})]})]}),ee&&Z.jsxs("section",{className:"mt-10 rounded-3xl border border-cream-100 bg-cream-50/60 px-6 py-6 sm:px-10",children:[Z.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"font-display text-xl font-semibold text-rose-500",children:"Import or Export"}),Z.jsx("p",{className:"text-sm text-cocoa-400",children:"Use a plain-text file to add new exams or share the current one."})]}),Z.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[Z.jsxs("div",{className:"flex flex-wrap gap-3 sm:justify-end",children:[Z.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 px-4 py-2 text-sm font-semibold text-rose-500 transition hover:bg-blush-200/40",onClick:cs,children:"Export exam (.txt)"}),Z.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:Or,children:"Import exam (.txt)"})]}),Z.jsx("button",{type:"button",className:"self-end rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-400 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>W(!1),children:"Hide guide"})]})]}),Z.jsxs("div",{className:"mt-4 rounded-2xl bg-white/80 p-4 text-sm text-cocoa-400",children:[Z.jsx("p",{className:"font-semibold text-cocoa-500",children:"Template (repeat the Question block up to 1000 times):"}),Z.jsx("pre",{className:"mt-3 overflow-x-auto rounded-2xl bg-cream-50 p-4 font-mono text-xs leading-6 text-cocoa-500",children:En})]})]}),C&&Z.jsx("div",{className:"mt-6",children:Z.jsx(oy,{text:C.text,type:C.type,onDismiss:()=>R(null)})})]}),L&&Z.jsx(ny,{exams:e,activeExamId:r,isOpen:_,onSelect:Qs,onToggle:()=>E(me=>!me),onDelete:ls})]})})};nh.createRoot(document.getElementById("root")).render(Z.jsx(V3.StrictMode,{children:Z.jsx(u_,{})}));
