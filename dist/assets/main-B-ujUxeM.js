var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D4={exports:{}},Tu={},V4={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),h6=Symbol.for("react.portal"),d6=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),p6=Symbol.for("react.provider"),g6=Symbol.for("react.context"),y6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),w6=Symbol.for("react.memo"),x6=Symbol.for("react.lazy"),m1=Symbol.iterator;function _6(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var z4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O4=Object.assign,L4={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=L4,this.updater=n||z4}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F4(){}F4.prototype=Jo.prototype;function Dd(t,e,n){this.props=t,this.context=e,this.refs=L4,this.updater=n||z4}var Vd=Dd.prototype=new F4;Vd.constructor=Dd;O4(Vd,Jo.prototype);Vd.isPureReactComponent=!0;var p1=Array.isArray,B4=Object.prototype.hasOwnProperty,zd={current:null},j4={key:!0,ref:!0,__self:!0,__source:!0};function U4(t,e,n){var r,s={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)B4.call(e,r)&&!j4.hasOwnProperty(r)&&(s[r]=e[r]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var p=Array(d),x=0;x<d;x++)p[x]=arguments[x+2];s.children=p}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)s[r]===void 0&&(s[r]=d[r]);return{$$typeof:Al,type:t,key:o,ref:c,props:s,_owner:zd.current}}function b6(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Od(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function S6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g1=/\/+/g;function Mc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S6(""+t.key):e.toString(36)}function E0(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case Al:case h6:c=!0}}if(c)return c=t,s=s(c),t=r===""?"."+Mc(c,0):r,p1(s)?(n="",t!=null&&(n=t.replace(g1,"$&/")+"/"),E0(s,e,n,"",function(x){return x})):s!=null&&(Od(s)&&(s=b6(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(g1,"$&/")+"/")+t)),e.push(s)),1;if(c=0,r=r===""?".":r+":",p1(t))for(var d=0;d<t.length;d++){o=t[d];var p=r+Mc(o,d);c+=E0(o,e,n,p,s)}else if(p=_6(t),typeof p=="function")for(t=p.call(t),d=0;!(o=t.next()).done;)o=o.value,p=r+Mc(o,d++),c+=E0(o,e,n,p,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function n0(t,e,n){if(t==null)return t;var r=[],s=0;return E0(t,r,"","",function(o){return e.call(n,o,s++)}),r}function E6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},T0={transition:null},T6={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:T0,ReactCurrentOwner:zd};function q4(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:n0,forEach:function(t,e,n){n0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return n0(t,function(){e++}),e},toArray:function(t){return n0(t,function(e){return e})||[]},only:function(t){if(!Od(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Jo;ze.Fragment=d6;ze.Profiler=m6;ze.PureComponent=Dd;ze.StrictMode=f6;ze.Suspense=v6;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;ze.act=q4;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O4({},t.props),s=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=zd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(p in e)B4.call(e,p)&&!j4.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&d!==void 0?d[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){d=Array(p);for(var x=0;x<p;x++)d[x]=arguments[x+2];r.children=d}return{$$typeof:Al,type:t.type,key:s,ref:o,props:r,_owner:c}};ze.createContext=function(t){return t={$$typeof:g6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p6,_context:t},t.Consumer=t};ze.createElement=U4;ze.createFactory=function(t){var e=U4.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:y6,render:t}};ze.isValidElement=Od;ze.lazy=function(t){return{$$typeof:x6,_payload:{_status:-1,_result:t},_init:E6}};ze.memo=function(t,e){return{$$typeof:w6,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=T0.transition;T0.transition={};try{t()}finally{T0.transition=e}};ze.unstable_act=q4;ze.useCallback=function(t,e){return bn.current.useCallback(t,e)};ze.useContext=function(t){return bn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return bn.current.useEffect(t,e)};ze.useId=function(){return bn.current.useId()};ze.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return bn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};ze.useRef=function(t){return bn.current.useRef(t)};ze.useState=function(t){return bn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return bn.current.useTransition()};ze.version="18.3.1";V4.exports=ze;var be=V4.exports;const k6=c6(be);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6=be,I6=Symbol.for("react.element"),C6=Symbol.for("react.fragment"),R6=Object.prototype.hasOwnProperty,N6=A6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P6={key:!0,ref:!0,__self:!0,__source:!0};function H4(t,e,n){var r,s={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)R6.call(e,r)&&!P6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:I6,type:t,key:o,ref:c,props:s,_owner:N6.current}}Tu.Fragment=C6;Tu.jsx=H4;Tu.jsxs=H4;D4.exports=Tu;var L=D4.exports,xh={},$4={exports:{}},Gn={},W4={exports:{}},G4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ve,Ce){var ce=ve.length;ve.push(Ce);e:for(;0<ce;){var qe=ce-1>>>1,De=ve[qe];if(0<s(De,Ce))ve[qe]=Ce,ve[ce]=De,ce=qe;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Ce=ve[0],ce=ve.pop();if(ce!==Ce){ve[0]=ce;e:for(var qe=0,De=ve.length,et=De>>>1;qe<et;){var pn=2*(qe+1)-1,Nt=ve[pn],sn=pn+1,Vn=ve[sn];if(0>s(Nt,ce))sn<De&&0>s(Vn,Nt)?(ve[qe]=Vn,ve[sn]=ce,qe=sn):(ve[qe]=Nt,ve[pn]=ce,qe=pn);else if(sn<De&&0>s(Vn,ce))ve[qe]=Vn,ve[sn]=ce,qe=sn;else break e}}return Ce}function s(ve,Ce){var ce=ve.sortIndex-Ce.sortIndex;return ce!==0?ce:ve.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],x=[],T=1,C=null,R=3,H=!1,Y=!1,J=!1,G=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ve){for(var Ce=n(x);Ce!==null;){if(Ce.callback===null)r(x);else if(Ce.startTime<=ve)r(x),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=n(x)}}function te(ve){if(J=!1,j(ve),!Y)if(n(p)!==null)Y=!0,Dn(de);else{var Ce=n(x);Ce!==null&&mn(te,Ce.startTime-ve)}}function de(ve,Ce){Y=!1,J&&(J=!1,F(k),k=-1),H=!0;var ce=R;try{for(j(Ce),C=n(p);C!==null&&(!(C.expirationTime>Ce)||ve&&!q());){var qe=C.callback;if(typeof qe=="function"){C.callback=null,R=C.priorityLevel;var De=qe(C.expirationTime<=Ce);Ce=t.unstable_now(),typeof De=="function"?C.callback=De:C===n(p)&&r(p),j(Ce)}else r(p);C=n(p)}if(C!==null)var et=!0;else{var pn=n(x);pn!==null&&mn(te,pn.startTime-Ce),et=!1}return et}finally{C=null,R=ce,H=!1}}var ue=!1,O=null,k=-1,D=5,M=-1;function q(){return!(t.unstable_now()-M<D)}function $(){if(O!==null){var ve=t.unstable_now();M=ve;var Ce=!0;try{Ce=O(!0,ve)}finally{Ce?z():(ue=!1,O=null)}}else ue=!1}var z;if(typeof P=="function")z=function(){P($)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,Be=Rt.port2;Rt.port1.onmessage=$,z=function(){Be.postMessage(null)}}else z=function(){G($,0)};function Dn(ve){O=ve,ue||(ue=!0,z())}function mn(ve,Ce){k=G(function(){ve(t.unstable_now())},Ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){Y||H||(Y=!0,Dn(de))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ve){switch(R){case 1:case 2:case 3:var Ce=3;break;default:Ce=R}var ce=R;R=Ce;try{return ve()}finally{R=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,Ce){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var ce=R;R=ve;try{return Ce()}finally{R=ce}},t.unstable_scheduleCallback=function(ve,Ce,ce){var qe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?qe+ce:qe):ce=qe,ve){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ce+De,ve={id:T++,callback:Ce,priorityLevel:ve,startTime:ce,expirationTime:De,sortIndex:-1},ce>qe?(ve.sortIndex=ce,e(x,ve),n(p)===null&&ve===n(x)&&(J?(F(k),k=-1):J=!0,mn(te,ce-qe))):(ve.sortIndex=De,e(p,ve),Y||H||(Y=!0,Dn(de))),ve},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(ve){var Ce=R;return function(){var ce=R;R=Ce;try{return ve.apply(this,arguments)}finally{R=ce}}}})(G4);W4.exports=G4;var M6=W4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D6=be,Wn=M6;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K4=new Set,nl={};function Hi(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(nl[t]=e,t=0;t<e.length;t++)K4.add(e[t])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,V6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y1={},v1={};function z6(t){return _h.call(v1,t)?!0:_h.call(y1,t)?!1:V6.test(t)?v1[t]=!0:(y1[t]=!0,!1)}function O6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L6(t,e,n,r){if(e===null||typeof e>"u"||O6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,s,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ld=/[\-:]([a-z])/g;function Fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ld,Fd);nn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ld,Fd);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ld,Fd);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bd(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L6(e,n,s,r)&&(n=null),r||s===null?z6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bs=D6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r0=Symbol.for("react.element"),po=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),Q4=Symbol.for("react.provider"),X4=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),qd=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),Y4=Symbol.for("react.offscreen"),w1=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=w1&&t[w1]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Dc;function Da(t){if(Dc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dc=e&&e[1]||""}return`
`+Dc+t}var Vc=!1;function zc(t,e){if(!t||Vc)return"";Vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var r=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){r=x}t.call(e.prototype)}else{try{throw Error()}catch(x){r=x}t()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),o=r.stack.split(`
`),c=s.length-1,d=o.length-1;1<=c&&0<=d&&s[c]!==o[d];)d--;for(;1<=c&&0<=d;c--,d--)if(s[c]!==o[d]){if(c!==1||d!==1)do if(c--,d--,0>d||s[c]!==o[d]){var p=`
`+s[c].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=c&&0<=d);break}}}finally{Vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function F6(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=zc(t.type,!1),t;case 11:return t=zc(t.type.render,!1),t;case 1:return t=zc(t.type,!0),t;default:return""}}function Th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case po:return"Portal";case bh:return"Profiler";case jd:return"StrictMode";case Sh:return"Suspense";case Eh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X4:return(t.displayName||"Context")+".Consumer";case Q4:return(t._context.displayName||"Context")+".Provider";case Ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qd:return e=t.displayName||null,e!==null?e:Th(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return Th(t(e))}catch{}}return null}function B6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(e);case 8:return e===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j6(t){var e=J4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function s0(t){t._valueTracker||(t._valueTracker=j6(t))}function Z4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function j0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kh(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e2(t,e){e=e.checked,e!=null&&Bd(t,"checked",e,!1)}function Ah(t,e){e2(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ih(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ih(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ih(t,e,n){(e!=="number"||j0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ch(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Va(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function t2(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var i0,r2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(i0=i0||document.createElement("div"),i0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=i0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U6=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){U6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function s2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function i2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=s2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var q6=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(q6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Ph(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function Hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dh=null,Io=null,Co=null;function E1(t){if(t=Rl(t)){if(typeof Dh!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Ru(e),Dh(t.stateNode,t.type,e))}}function o2(t){Io?Co?Co.push(t):Co=[t]:Io=t}function a2(){if(Io){var t=Io,e=Co;if(Co=Io=null,E1(t),e)for(t=0;t<e.length;t++)E1(e[t])}}function l2(t,e){return t(e)}function u2(){}var Oc=!1;function c2(t,e,n){if(Oc)return t(e,n);Oc=!0;try{return l2(t,e,n)}finally{Oc=!1,(Io!==null||Co!==null)&&(u2(),a2())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Vh=!1;if(ps)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Vh=!1}function H6(t,e,n,r,s,o,c,d,p){var x=Array.prototype.slice.call(arguments,3);try{e.apply(n,x)}catch(T){this.onError(T)}}var qa=!1,U0=null,q0=!1,zh=null,$6={onError:function(t){qa=!0,U0=t}};function W6(t,e,n,r,s,o,c,d,p){qa=!1,U0=null,H6.apply($6,arguments)}function G6(t,e,n,r,s,o,c,d,p){if(W6.apply(this,arguments),qa){if(qa){var x=U0;qa=!1,U0=null}else throw Error(he(198));q0||(q0=!0,zh=x)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T1(t){if($i(t)!==t)throw Error(he(188))}function K6(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return T1(s),t;if(o===r)return T1(s),e;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,d=s.child;d;){if(d===n){c=!0,n=s,r=o;break}if(d===r){c=!0,r=s,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,r=s;break}if(d===r){c=!0,r=o,n=s;break}d=d.sibling}if(!c)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function d2(t){return t=K6(t),t!==null?f2(t):null}function f2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f2(t);if(e!==null)return e;t=t.sibling}return null}var m2=Wn.unstable_scheduleCallback,k1=Wn.unstable_cancelCallback,Q6=Wn.unstable_shouldYield,X6=Wn.unstable_requestPaint,Ct=Wn.unstable_now,Y6=Wn.unstable_getCurrentPriorityLevel,$d=Wn.unstable_ImmediatePriority,p2=Wn.unstable_UserBlockingPriority,H0=Wn.unstable_NormalPriority,J6=Wn.unstable_LowPriority,g2=Wn.unstable_IdlePriority,ku=null,Fr=null;function Z6(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:n7,e7=Math.log,t7=Math.LN2;function n7(t){return t>>>=0,t===0?32:31-(e7(t)/t7|0)|0}var o0=64,a0=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var d=c&~s;d!==0?r=za(d):(o&=c,o!==0&&(r=za(o)))}else c=n&~s,c!==0?r=za(c):o!==0&&(r=za(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),s=1<<n,r|=t[n],e&=~s;return r}function r7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Sr(o),d=1<<c,p=s[c];p===-1?(!(d&n)||d&r)&&(s[c]=r7(d,e)):p<=e&&(t.expiredLanes|=d),o&=~d}}function Oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y2(){var t=o0;return o0<<=1,!(o0&4194240)&&(o0=64),t}function Lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function i7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Sr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Wd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function v2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w2,Gd,x2,_2,b2,Lh=!1,l0=[],Hs=null,$s=null,Ws=null,il=new Map,ol=new Map,Fs=[],o7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A1(t,e){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function Aa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Rl(e),e!==null&&Gd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function a7(t,e,n,r,s){switch(e){case"focusin":return Hs=Aa(Hs,t,e,n,r,s),!0;case"dragenter":return $s=Aa($s,t,e,n,r,s),!0;case"mouseover":return Ws=Aa(Ws,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return il.set(o,Aa(il.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ol.set(o,Aa(ol.get(o)||null,t,e,n,r,s)),!0}return!1}function S2(t){var e=Ai(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=h2(n),e!==null){t.blockedOn=e,b2(t.priority,function(){x2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function k0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return e=Rl(n),e!==null&&Gd(e),t.blockedOn=n,!1;e.shift()}return!0}function I1(t,e,n){k0(t)&&n.delete(e)}function l7(){Lh=!1,Hs!==null&&k0(Hs)&&(Hs=null),$s!==null&&k0($s)&&($s=null),Ws!==null&&k0(Ws)&&(Ws=null),il.forEach(I1),ol.forEach(I1)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Lh||(Lh=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,l7)))}function al(t){function e(s){return Ia(s,t)}if(0<l0.length){Ia(l0[0],t);for(var n=1;n<l0.length;n++){var r=l0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hs!==null&&Ia(Hs,t),$s!==null&&Ia($s,t),Ws!==null&&Ia(Ws,t),il.forEach(e),ol.forEach(e),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)S2(n),n.blockedOn===null&&Fs.shift()}var Ro=bs.ReactCurrentBatchConfig,W0=!0;function u7(t,e,n,r){var s=nt,o=Ro.transition;Ro.transition=null;try{nt=1,Kd(t,e,n,r)}finally{nt=s,Ro.transition=o}}function c7(t,e,n,r){var s=nt,o=Ro.transition;Ro.transition=null;try{nt=4,Kd(t,e,n,r)}finally{nt=s,Ro.transition=o}}function Kd(t,e,n,r){if(W0){var s=Fh(t,e,n,r);if(s===null)Kc(t,e,r,G0,n),A1(t,r);else if(a7(s,t,e,n,r))r.stopPropagation();else if(A1(t,r),e&4&&-1<o7.indexOf(t)){for(;s!==null;){var o=Rl(s);if(o!==null&&w2(o),o=Fh(t,e,n,r),o===null&&Kc(t,e,r,G0,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Kc(t,e,r,null,n)}}var G0=null;function Fh(t,e,n,r){if(G0=null,t=Hd(r),t=Ai(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return G0=t,null}function E2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y6()){case $d:return 1;case p2:return 4;case H0:case J6:return 16;case g2:return 536870912;default:return 16}default:return 16}}var js=null,Qd=null,A0=null;function T2(){if(A0)return A0;var t,e=Qd,n=e.length,r,s="value"in js?js.value:js.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===s[o-r];r++);return A0=s.slice(t,1<r?1-r:void 0)}function I0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function u0(){return!0}function C1(){return!1}function Kn(t){function e(n,r,s,o,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?u0:C1,this.isPropagationStopped=C1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=u0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=u0)},persist:function(){},isPersistent:u0}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=Kn(Zo),Cl=_t({},Zo,{view:0,detail:0}),h7=Kn(Cl),Fc,Bc,Ca,Au=_t({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(Fc=t.screenX-Ca.screenX,Bc=t.screenY-Ca.screenY):Bc=Fc=0,Ca=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:Bc}}),R1=Kn(Au),d7=_t({},Au,{dataTransfer:0}),f7=Kn(d7),m7=_t({},Cl,{relatedTarget:0}),jc=Kn(m7),p7=_t({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),g7=Kn(p7),y7=_t({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v7=Kn(y7),w7=_t({},Zo,{data:0}),N1=Kn(w7),x7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b7[t])?!!e[t]:!1}function Yd(){return S7}var E7=_t({},Cl,{key:function(t){if(t.key){var e=x7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=I0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(t){return t.type==="keypress"?I0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?I0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T7=Kn(E7),k7=_t({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P1=Kn(k7),A7=_t({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),I7=Kn(A7),C7=_t({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),R7=Kn(C7),N7=_t({},Au,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P7=Kn(N7),M7=[9,13,27,32],Jd=ps&&"CompositionEvent"in window,Ha=null;ps&&"documentMode"in document&&(Ha=document.documentMode);var D7=ps&&"TextEvent"in window&&!Ha,k2=ps&&(!Jd||Ha&&8<Ha&&11>=Ha),M1=" ",D1=!1;function A2(t,e){switch(t){case"keyup":return M7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function V7(t,e){switch(t){case"compositionend":return I2(e);case"keypress":return e.which!==32?null:(D1=!0,M1);case"textInput":return t=e.data,t===M1&&D1?null:t;default:return null}}function z7(t,e){if(yo)return t==="compositionend"||!Jd&&A2(t,e)?(t=T2(),A0=Qd=js=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k2&&e.locale!=="ko"?null:e.data;default:return null}}var O7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O7[t.type]:e==="textarea"}function C2(t,e,n,r){o2(r),e=K0(e,"onChange"),0<e.length&&(n=new Xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $a=null,ll=null;function L7(t){B2(t,0)}function Iu(t){var e=xo(t);if(Z4(e))return t}function F7(t,e){if(t==="change")return e}var R2=!1;if(ps){var Uc;if(ps){var qc="oninput"in document;if(!qc){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),qc=typeof z1.oninput=="function"}Uc=qc}else Uc=!1;R2=Uc&&(!document.documentMode||9<document.documentMode)}function O1(){$a&&($a.detachEvent("onpropertychange",N2),ll=$a=null)}function N2(t){if(t.propertyName==="value"&&Iu(ll)){var e=[];C2(e,ll,t,Hd(t)),c2(L7,e)}}function B7(t,e,n){t==="focusin"?(O1(),$a=e,ll=n,$a.attachEvent("onpropertychange",N2)):t==="focusout"&&O1()}function j7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(ll)}function U7(t,e){if(t==="click")return Iu(e)}function q7(t,e){if(t==="input"||t==="change")return Iu(e)}function H7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:H7;function ul(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_h.call(e,s)||!Ar(t[s],e[s]))return!1}return!0}function L1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F1(t,e){var n=L1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L1(n)}}function P2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M2(){for(var t=window,e=j0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=j0(t.document)}return e}function Zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $7(t){var e=M2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P2(n.ownerDocument.documentElement,n)){if(r!==null&&Zd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=F1(n,o);var c=F1(n,r);s&&c&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W7=ps&&"documentMode"in document&&11>=document.documentMode,vo=null,Bh=null,Wa=null,jh=!1;function B1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jh||vo==null||vo!==j0(r)||(r=vo,"selectionStart"in r&&Zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wa&&ul(Wa,r)||(Wa=r,r=K0(Bh,"onSelect"),0<r.length&&(e=new Xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function c0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:c0("Animation","AnimationEnd"),animationiteration:c0("Animation","AnimationIteration"),animationstart:c0("Animation","AnimationStart"),transitionend:c0("Transition","TransitionEnd")},Hc={},D2={};ps&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Cu(t){if(Hc[t])return Hc[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D2)return Hc[t]=e[n];return t}var V2=Cu("animationend"),z2=Cu("animationiteration"),O2=Cu("animationstart"),L2=Cu("transitionend"),F2=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){F2.set(t,e),Hi(e,[t])}for(var $c=0;$c<j1.length;$c++){var Wc=j1[$c],G7=Wc.toLowerCase(),K7=Wc[0].toUpperCase()+Wc.slice(1);oi(G7,"on"+K7)}oi(V2,"onAnimationEnd");oi(z2,"onAnimationIteration");oi(O2,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(L2,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function U1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,G6(r,e,void 0,t),t.currentTarget=null}function B2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var d=r[c],p=d.instance,x=d.currentTarget;if(d=d.listener,p!==o&&s.isPropagationStopped())break e;U1(s,d,x),o=p}else for(c=0;c<r.length;c++){if(d=r[c],p=d.instance,x=d.currentTarget,d=d.listener,p!==o&&s.isPropagationStopped())break e;U1(s,d,x),o=p}}}if(q0)throw t=zh,q0=!1,zh=null,t}function ht(t,e){var n=e[Wh];n===void 0&&(n=e[Wh]=new Set);var r=t+"__bubble";n.has(r)||(j2(e,t,2,!1),n.add(r))}function Gc(t,e,n){var r=0;e&&(r|=4),j2(n,t,r,e)}var h0="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[h0]){t[h0]=!0,K4.forEach(function(n){n!=="selectionchange"&&(Q7.has(n)||Gc(n,!1,t),Gc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[h0]||(e[h0]=!0,Gc("selectionchange",!1,e))}}function j2(t,e,n,r){switch(E2(e)){case 1:var s=u7;break;case 4:s=c7;break;default:s=Kd}n=s.bind(null,e,n,t),s=void 0,!Vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kc(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;d!==null;){if(c=Ai(d),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}d=d.parentNode}}r=r.return}c2(function(){var x=o,T=Hd(n),C=[];e:{var R=F2.get(t);if(R!==void 0){var H=Xd,Y=t;switch(t){case"keypress":if(I0(n)===0)break e;case"keydown":case"keyup":H=T7;break;case"focusin":Y="focus",H=jc;break;case"focusout":Y="blur",H=jc;break;case"beforeblur":case"afterblur":H=jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=f7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=I7;break;case V2:case z2:case O2:H=g7;break;case L2:H=R7;break;case"scroll":H=h7;break;case"wheel":H=P7;break;case"copy":case"cut":case"paste":H=v7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=P1}var J=(e&4)!==0,G=!J&&t==="scroll",F=J?R!==null?R+"Capture":null:R;J=[];for(var P=x,j;P!==null;){j=P;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,F!==null&&(te=sl(P,F),te!=null&&J.push(hl(P,te,j)))),G)break;P=P.return}0<J.length&&(R=new H(R,Y,null,n,T),C.push({event:R,listeners:J}))}}if(!(e&7)){e:{if(R=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",R&&n!==Mh&&(Y=n.relatedTarget||n.fromElement)&&(Ai(Y)||Y[gs]))break e;if((H||R)&&(R=T.window===T?T:(R=T.ownerDocument)?R.defaultView||R.parentWindow:window,H?(Y=n.relatedTarget||n.toElement,H=x,Y=Y?Ai(Y):null,Y!==null&&(G=$i(Y),Y!==G||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(H=null,Y=x),H!==Y)){if(J=R1,te="onMouseLeave",F="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(J=P1,te="onPointerLeave",F="onPointerEnter",P="pointer"),G=H==null?R:xo(H),j=Y==null?R:xo(Y),R=new J(te,P+"leave",H,n,T),R.target=G,R.relatedTarget=j,te=null,Ai(T)===x&&(J=new J(F,P+"enter",Y,n,T),J.target=j,J.relatedTarget=G,te=J),G=te,H&&Y)t:{for(J=H,F=Y,P=0,j=J;j;j=co(j))P++;for(j=0,te=F;te;te=co(te))j++;for(;0<P-j;)J=co(J),P--;for(;0<j-P;)F=co(F),j--;for(;P--;){if(J===F||F!==null&&J===F.alternate)break t;J=co(J),F=co(F)}J=null}else J=null;H!==null&&q1(C,R,H,J,!1),Y!==null&&G!==null&&q1(C,G,Y,J,!0)}}e:{if(R=x?xo(x):window,H=R.nodeName&&R.nodeName.toLowerCase(),H==="select"||H==="input"&&R.type==="file")var de=F7;else if(V1(R))if(R2)de=q7;else{de=j7;var ue=B7}else(H=R.nodeName)&&H.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(de=U7);if(de&&(de=de(t,x))){C2(C,de,n,T);break e}ue&&ue(t,R,x),t==="focusout"&&(ue=R._wrapperState)&&ue.controlled&&R.type==="number"&&Ih(R,"number",R.value)}switch(ue=x?xo(x):window,t){case"focusin":(V1(ue)||ue.contentEditable==="true")&&(vo=ue,Bh=x,Wa=null);break;case"focusout":Wa=Bh=vo=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,B1(C,n,T);break;case"selectionchange":if(W7)break;case"keydown":case"keyup":B1(C,n,T)}var O;if(Jd)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else yo?A2(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(k2&&n.locale!=="ko"&&(yo||k!=="onCompositionStart"?k==="onCompositionEnd"&&yo&&(O=T2()):(js=T,Qd="value"in js?js.value:js.textContent,yo=!0)),ue=K0(x,k),0<ue.length&&(k=new N1(k,t,null,n,T),C.push({event:k,listeners:ue}),O?k.data=O:(O=I2(n),O!==null&&(k.data=O)))),(O=D7?V7(t,n):z7(t,n))&&(x=K0(x,"onBeforeInput"),0<x.length&&(T=new N1("onBeforeInput","beforeinput",null,n,T),C.push({event:T,listeners:x}),T.data=O))}B2(C,e)})}function hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function K0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=sl(t,n),o!=null&&r.unshift(hl(t,o,s)),o=sl(t,e),o!=null&&r.push(hl(t,o,s))),t=t.return}return r}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q1(t,e,n,r,s){for(var o=e._reactName,c=[];n!==null&&n!==r;){var d=n,p=d.alternate,x=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&x!==null&&(d=x,s?(p=sl(n,o),p!=null&&c.unshift(hl(n,p,d))):s||(p=sl(n,o),p!=null&&c.push(hl(n,p,d)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var X7=/\r\n?/g,Y7=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(X7,`
`).replace(Y7,"")}function d0(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(he(425))}function Q0(){}var Uh=null,qh=null;function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,J7=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,Z7=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(t){return $1.resolve(null).then(t).catch(ey)}:$h;function ey(t){setTimeout(function(){throw t})}function Qc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);al(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Lr="__reactFiber$"+ea,dl="__reactProps$"+ea,gs="__reactContainer$"+ea,Wh="__reactEvents$"+ea,ty="__reactListeners$"+ea,ny="__reactHandles$"+ea;function Ai(t){var e=t[Lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gs]||n[Lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W1(t);t!==null;){if(n=t[Lr])return n;t=W1(t)}return e}t=n,n=t.parentNode}return null}function Rl(t){return t=t[Lr]||t[gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Ru(t){return t[dl]||null}var Gh=[],_o=-1;function ai(t){return{current:t}}function dt(t){0>_o||(t.current=Gh[_o],Gh[_o]=null,_o--)}function lt(t,e){_o++,Gh[_o]=t.current,t.current=e}var ni={},fn=ai(ni),Rn=ai(!1),Vi=ni;function zo(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(t){return t=t.childContextTypes,t!=null}function X0(){dt(Rn),dt(fn)}function G1(t,e,n){if(fn.current!==ni)throw Error(he(168));lt(fn,e),lt(Rn,n)}function U2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(he(108,B6(t)||"Unknown",s));return _t({},n,r)}function Y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,Vi=fn.current,lt(fn,t),lt(Rn,Rn.current),!0}function K1(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=U2(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,dt(Rn),dt(fn),lt(fn,t)):dt(Rn),lt(Rn,n)}var us=null,Nu=!1,Xc=!1;function q2(t){us===null?us=[t]:us.push(t)}function ry(t){Nu=!0,q2(t)}function li(){if(!Xc&&us!==null){Xc=!0;var t=0,e=nt;try{var n=us;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}us=null,Nu=!1}catch(s){throw us!==null&&(us=us.slice(t+1)),m2($d,li),s}finally{nt=e,Xc=!1}}return null}var bo=[],So=0,J0=null,Z0=0,ir=[],or=0,zi=null,cs=1,hs="";function Ei(t,e){bo[So++]=Z0,bo[So++]=J0,J0=t,Z0=e}function H2(t,e,n){ir[or++]=cs,ir[or++]=hs,ir[or++]=zi,zi=t;var r=cs;t=hs;var s=32-Sr(r)-1;r&=~(1<<s),n+=1;var o=32-Sr(e)+s;if(30<o){var c=s-s%5;o=(r&(1<<c)-1).toString(32),r>>=c,s-=c,cs=1<<32-Sr(e)+s|n<<s|r,hs=o+t}else cs=1<<o|n<<s|r,hs=t}function ef(t){t.return!==null&&(Ei(t,1),H2(t,1,0))}function tf(t){for(;t===J0;)J0=bo[--So],bo[So]=null,Z0=bo[--So],bo[So]=null;for(;t===zi;)zi=ir[--or],ir[or]=null,hs=ir[--or],ir[or]=null,cs=ir[--or],ir[or]=null}var $n=null,Hn=null,pt=!1,_r=null;function $2(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Hn=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:cs,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Hn=null,!0):!1;default:return!1}}function Kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qh(t){if(pt){var e=Hn;if(e){var n=e;if(!Q1(t,e)){if(Kh(t))throw Error(he(418));e=Gs(n.nextSibling);var r=$n;e&&Q1(t,e)?$2(r,n):(t.flags=t.flags&-4097|2,pt=!1,$n=t)}}else{if(Kh(t))throw Error(he(418));t.flags=t.flags&-4097|2,pt=!1,$n=t}}}function X1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function f0(t){if(t!==$n)return!1;if(!pt)return X1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hh(t.type,t.memoizedProps)),e&&(e=Hn)){if(Kh(t))throw W2(),Error(he(418));for(;e;)$2(t,e),e=Gs(e.nextSibling)}if(X1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=Gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=$n?Gs(t.stateNode.nextSibling):null;return!0}function W2(){for(var t=Hn;t;)t=Gs(t.nextSibling)}function Oo(){Hn=$n=null,pt=!1}function nf(t){_r===null?_r=[t]:_r.push(t)}var sy=bs.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var d=s.refs;c===null?delete d[o]:d[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function m0(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y1(t){var e=t._init;return e(t._payload)}function G2(t){function e(F,P){if(t){var j=F.deletions;j===null?(F.deletions=[P],F.flags|=16):j.push(P)}}function n(F,P){if(!t)return null;for(;P!==null;)e(F,P),P=P.sibling;return null}function r(F,P){for(F=new Map;P!==null;)P.key!==null?F.set(P.key,P):F.set(P.index,P),P=P.sibling;return F}function s(F,P){return F=Ys(F,P),F.index=0,F.sibling=null,F}function o(F,P,j){return F.index=j,t?(j=F.alternate,j!==null?(j=j.index,j<P?(F.flags|=2,P):j):(F.flags|=2,P)):(F.flags|=1048576,P)}function c(F){return t&&F.alternate===null&&(F.flags|=2),F}function d(F,P,j,te){return P===null||P.tag!==6?(P=rh(j,F.mode,te),P.return=F,P):(P=s(P,j),P.return=F,P)}function p(F,P,j,te){var de=j.type;return de===go?T(F,P,j.props.children,te,j.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Os&&Y1(de)===P.type)?(te=s(P,j.props),te.ref=Ra(F,P,j),te.return=F,te):(te=V0(j.type,j.key,j.props,null,F.mode,te),te.ref=Ra(F,P,j),te.return=F,te)}function x(F,P,j,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=sh(j,F.mode,te),P.return=F,P):(P=s(P,j.children||[]),P.return=F,P)}function T(F,P,j,te,de){return P===null||P.tag!==7?(P=Mi(j,F.mode,te,de),P.return=F,P):(P=s(P,j),P.return=F,P)}function C(F,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return P=rh(""+P,F.mode,j),P.return=F,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case r0:return j=V0(P.type,P.key,P.props,null,F.mode,j),j.ref=Ra(F,null,P),j.return=F,j;case po:return P=sh(P,F.mode,j),P.return=F,P;case Os:var te=P._init;return C(F,te(P._payload),j)}if(Va(P)||Ta(P))return P=Mi(P,F.mode,j,null),P.return=F,P;m0(F,P)}return null}function R(F,P,j,te){var de=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:d(F,P,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case r0:return j.key===de?p(F,P,j,te):null;case po:return j.key===de?x(F,P,j,te):null;case Os:return de=j._init,R(F,P,de(j._payload),te)}if(Va(j)||Ta(j))return de!==null?null:T(F,P,j,te,null);m0(F,j)}return null}function H(F,P,j,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(j)||null,d(P,F,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case r0:return F=F.get(te.key===null?j:te.key)||null,p(P,F,te,de);case po:return F=F.get(te.key===null?j:te.key)||null,x(P,F,te,de);case Os:var ue=te._init;return H(F,P,j,ue(te._payload),de)}if(Va(te)||Ta(te))return F=F.get(j)||null,T(P,F,te,de,null);m0(P,te)}return null}function Y(F,P,j,te){for(var de=null,ue=null,O=P,k=P=0,D=null;O!==null&&k<j.length;k++){O.index>k?(D=O,O=null):D=O.sibling;var M=R(F,O,j[k],te);if(M===null){O===null&&(O=D);break}t&&O&&M.alternate===null&&e(F,O),P=o(M,P,k),ue===null?de=M:ue.sibling=M,ue=M,O=D}if(k===j.length)return n(F,O),pt&&Ei(F,k),de;if(O===null){for(;k<j.length;k++)O=C(F,j[k],te),O!==null&&(P=o(O,P,k),ue===null?de=O:ue.sibling=O,ue=O);return pt&&Ei(F,k),de}for(O=r(F,O);k<j.length;k++)D=H(O,F,k,j[k],te),D!==null&&(t&&D.alternate!==null&&O.delete(D.key===null?k:D.key),P=o(D,P,k),ue===null?de=D:ue.sibling=D,ue=D);return t&&O.forEach(function(q){return e(F,q)}),pt&&Ei(F,k),de}function J(F,P,j,te){var de=Ta(j);if(typeof de!="function")throw Error(he(150));if(j=de.call(j),j==null)throw Error(he(151));for(var ue=de=null,O=P,k=P=0,D=null,M=j.next();O!==null&&!M.done;k++,M=j.next()){O.index>k?(D=O,O=null):D=O.sibling;var q=R(F,O,M.value,te);if(q===null){O===null&&(O=D);break}t&&O&&q.alternate===null&&e(F,O),P=o(q,P,k),ue===null?de=q:ue.sibling=q,ue=q,O=D}if(M.done)return n(F,O),pt&&Ei(F,k),de;if(O===null){for(;!M.done;k++,M=j.next())M=C(F,M.value,te),M!==null&&(P=o(M,P,k),ue===null?de=M:ue.sibling=M,ue=M);return pt&&Ei(F,k),de}for(O=r(F,O);!M.done;k++,M=j.next())M=H(O,F,k,M.value,te),M!==null&&(t&&M.alternate!==null&&O.delete(M.key===null?k:M.key),P=o(M,P,k),ue===null?de=M:ue.sibling=M,ue=M);return t&&O.forEach(function($){return e(F,$)}),pt&&Ei(F,k),de}function G(F,P,j,te){if(typeof j=="object"&&j!==null&&j.type===go&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case r0:e:{for(var de=j.key,ue=P;ue!==null;){if(ue.key===de){if(de=j.type,de===go){if(ue.tag===7){n(F,ue.sibling),P=s(ue,j.props.children),P.return=F,F=P;break e}}else if(ue.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Os&&Y1(de)===ue.type){n(F,ue.sibling),P=s(ue,j.props),P.ref=Ra(F,ue,j),P.return=F,F=P;break e}n(F,ue);break}else e(F,ue);ue=ue.sibling}j.type===go?(P=Mi(j.props.children,F.mode,te,j.key),P.return=F,F=P):(te=V0(j.type,j.key,j.props,null,F.mode,te),te.ref=Ra(F,P,j),te.return=F,F=te)}return c(F);case po:e:{for(ue=j.key;P!==null;){if(P.key===ue)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){n(F,P.sibling),P=s(P,j.children||[]),P.return=F,F=P;break e}else{n(F,P);break}else e(F,P);P=P.sibling}P=sh(j,F.mode,te),P.return=F,F=P}return c(F);case Os:return ue=j._init,G(F,P,ue(j._payload),te)}if(Va(j))return Y(F,P,j,te);if(Ta(j))return J(F,P,j,te);m0(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,P!==null&&P.tag===6?(n(F,P.sibling),P=s(P,j),P.return=F,F=P):(n(F,P),P=rh(j,F.mode,te),P.return=F,F=P),c(F)):n(F,P)}return G}var Lo=G2(!0),K2=G2(!1),eu=ai(null),tu=null,Eo=null,rf=null;function sf(){rf=Eo=tu=null}function of(t){var e=eu.current;dt(eu),t._currentValue=e}function Xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){tu=t,rf=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(rf!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(tu===null)throw Error(he(308));Eo=t,tu.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Ii=null;function af(t){Ii===null?Ii=[t]:Ii.push(t)}function Q2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,af(e)):(n.next=s.next,s.next=n),e.interleaved=n,ys(t,r)}function ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ys(t,n)}return s=r.interleaved,s===null?(e.next=e,af(r)):(e.next=s.next,s.next=e),r.interleaved=e,ys(t,n)}function C0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wd(t,n)}}function J1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nu(t,e,n,r){var s=t.updateQueue;Ls=!1;var o=s.firstBaseUpdate,c=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var p=d,x=p.next;p.next=null,c===null?o=x:c.next=x,c=p;var T=t.alternate;T!==null&&(T=T.updateQueue,d=T.lastBaseUpdate,d!==c&&(d===null?T.firstBaseUpdate=x:d.next=x,T.lastBaseUpdate=p))}if(o!==null){var C=s.baseState;c=0,T=x=p=null,d=o;do{var R=d.lane,H=d.eventTime;if((r&R)===R){T!==null&&(T=T.next={eventTime:H,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var Y=t,J=d;switch(R=e,H=n,J.tag){case 1:if(Y=J.payload,typeof Y=="function"){C=Y.call(H,C,R);break e}C=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=J.payload,R=typeof Y=="function"?Y.call(H,C,R):Y,R==null)break e;C=_t({},C,R);break e;case 2:Ls=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,R=s.effects,R===null?s.effects=[d]:R.push(d))}else H={eventTime:H,lane:R,tag:d.tag,payload:d.payload,callback:d.callback,next:null},T===null?(x=T=H,p=C):T=T.next=H,c|=R;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;R=d,d=R.next,R.next=null,s.lastBaseUpdate=R,s.shared.pending=null}}while(!0);if(T===null&&(p=C),s.baseState=p,s.firstBaseUpdate=x,s.lastBaseUpdate=T,e=s.shared.interleaved,e!==null){s=e;do c|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Li|=c,t.lanes=c,t.memoizedState=C}}function Z1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Nl={},Br=ai(Nl),fl=ai(Nl),ml=ai(Nl);function Ci(t){if(t===Nl)throw Error(he(174));return t}function uf(t,e){switch(lt(ml,e),lt(fl,t),lt(Br,Nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rh(e,t)}dt(Br),lt(Br,e)}function Fo(){dt(Br),dt(fl),dt(ml)}function Y2(t){Ci(ml.current);var e=Ci(Br.current),n=Rh(e,t.type);e!==n&&(lt(fl,t),lt(Br,n))}function cf(t){fl.current===t&&(dt(Br),dt(fl))}var wt=ai(0);function ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yc=[];function hf(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var R0=bs.ReactCurrentDispatcher,Jc=bs.ReactCurrentBatchConfig,Oi=0,xt=null,Ft=null,Wt=null,su=!1,Ga=!1,pl=0,iy=0;function an(){throw Error(he(321))}function df(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function ff(t,e,n,r,s,o){if(Oi=o,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,R0.current=t===null||t.memoizedState===null?uy:cy,t=n(r,s),Ga){o=0;do{if(Ga=!1,pl=0,25<=o)throw Error(he(301));o+=1,Wt=Ft=null,e.updateQueue=null,R0.current=hy,t=n(r,s)}while(Ga)}if(R0.current=iu,e=Ft!==null&&Ft.next!==null,Oi=0,Wt=Ft=xt=null,su=!1,e)throw Error(he(300));return t}function mf(){var t=pl!==0;return pl=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?xt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function hr(){if(Ft===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Wt===null?xt.memoizedState:Wt.next;if(e!==null)Wt=e,Ft=t;else{if(t===null)throw Error(he(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?xt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function gl(t,e){return typeof e=="function"?e(t):e}function Zc(t){var e=hr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=Ft,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var c=s.next;s.next=o.next,o.next=c}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var d=c=null,p=null,x=o;do{var T=x.lane;if((Oi&T)===T)p!==null&&(p=p.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:t(r,x.action);else{var C={lane:T,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};p===null?(d=p=C,c=r):p=p.next=C,xt.lanes|=T,Li|=T}x=x.next}while(x!==null&&x!==o);p===null?c=r:p.next=d,Ar(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,xt.lanes|=o,Li|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eh(t){var e=hr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do o=t(o,c.action),c=c.next;while(c!==s);Ar(o,e.memoizedState)||(Cn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function J2(){}function Z2(t,e){var n=xt,r=hr(),s=e(),o=!Ar(r.memoizedState,s);if(o&&(r.memoizedState=s,Cn=!0),r=r.queue,pf(ng.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,yl(9,tg.bind(null,n,r,s,e),void 0,null),Gt===null)throw Error(he(349));Oi&30||eg(n,e,s)}return s}function eg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tg(t,e,n,r){e.value=n,e.getSnapshot=r,rg(e)&&sg(t)}function ng(t,e,n){return n(function(){rg(e)&&sg(t)})}function rg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function sg(t){var e=ys(t,1);e!==null&&Er(e,t,1,-1)}function ep(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=ly.bind(null,xt,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ig(){return hr().memoizedState}function N0(t,e,n,r){var s=Or();xt.flags|=t,s.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function Pu(t,e,n,r){var s=hr();r=r===void 0?null:r;var o=void 0;if(Ft!==null){var c=Ft.memoizedState;if(o=c.destroy,r!==null&&df(r,c.deps)){s.memoizedState=yl(e,n,o,r);return}}xt.flags|=t,s.memoizedState=yl(1|e,n,o,r)}function tp(t,e){return N0(8390656,8,t,e)}function pf(t,e){return Pu(2048,8,t,e)}function og(t,e){return Pu(4,2,t,e)}function ag(t,e){return Pu(4,4,t,e)}function lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ug(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4,4,lg.bind(null,e,t),n)}function gf(){}function cg(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&df(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hg(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&df(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dg(t,e,n){return Oi&21?(Ar(n,e)||(n=y2(),xt.lanes|=n,Li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function oy(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Jc.transition;Jc.transition={};try{t(!1),e()}finally{nt=n,Jc.transition=r}}function fg(){return hr().memoizedState}function ay(t,e,n){var r=Xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mg(t))pg(e,n);else if(n=Q2(t,e,n,r),n!==null){var s=_n();Er(n,t,r,s),gg(n,e,r)}}function ly(t,e,n){var r=Xs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mg(t))pg(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,d=o(c,n);if(s.hasEagerState=!0,s.eagerState=d,Ar(d,c)){var p=e.interleaved;p===null?(s.next=s,af(e)):(s.next=p.next,p.next=s),e.interleaved=s;return}}catch{}finally{}n=Q2(t,e,s,r),n!==null&&(s=_n(),Er(n,t,r,s),gg(n,e,r))}}function mg(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function pg(t,e){Ga=su=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wd(t,n)}}var iu={readContext:cr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},uy={readContext:cr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:tp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,N0(4194308,4,lg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return N0(4194308,4,t,e)},useInsertionEffect:function(t,e){return N0(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ay.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:ep,useDebugValue:gf,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=ep(!1),e=t[0];return t=oy.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,s=Or();if(pt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Gt===null)throw Error(he(349));Oi&30||eg(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,tp(ng.bind(null,r,o,t),[t]),r.flags|=2048,yl(9,tg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Or(),e=Gt.identifierPrefix;if(pt){var n=hs,r=cs;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cy={readContext:cr,useCallback:cg,useContext:cr,useEffect:pf,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:Zc,useRef:ig,useState:function(){return Zc(gl)},useDebugValue:gf,useDeferredValue:function(t){var e=hr();return dg(e,Ft.memoizedState,t)},useTransition:function(){var t=Zc(gl)[0],e=hr().memoizedState;return[t,e]},useMutableSource:J2,useSyncExternalStore:Z2,useId:fg,unstable_isNewReconciler:!1},hy={readContext:cr,useCallback:cg,useContext:cr,useEffect:pf,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:eh,useRef:ig,useState:function(){return eh(gl)},useDebugValue:gf,useDeferredValue:function(t){var e=hr();return Ft===null?e.memoizedState=t:dg(e,Ft.memoizedState,t)},useTransition:function(){var t=eh(gl)[0],e=hr().memoizedState;return[t,e]},useMutableSource:J2,useSyncExternalStore:Z2,useId:fg,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mu={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),s=Xs(t),o=fs(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ks(t,o,s),e!==null&&(Er(e,t,s,r),C0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),s=Xs(t),o=fs(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ks(t,o,s),e!==null&&(Er(e,t,s,r),C0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Xs(t),s=fs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ks(t,s,r),e!==null&&(Er(e,t,r,n),C0(e,t,r))}};function np(t,e,n,r,s,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!ul(n,r)||!ul(s,o):!0}function yg(t,e,n){var r=!1,s=ni,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(s=Nn(e)?Vi:fn.current,r=e.contextTypes,o=(r=r!=null)?zo(t,s):ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function rp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mu.enqueueReplaceState(e,e.state,null)}function Jh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=cr(o):(o=Nn(e)?Vi:fn.current,s.context=zo(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yh(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mu.enqueueReplaceState(s,s.state,null),nu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var n="",r=e;do n+=F6(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function th(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function vg(t,e,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){au||(au=!0,ud=r),Zh(t,e)},n}function wg(t,e,n){n=fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zh(t,e),typeof r!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function sp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dy;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ky.bind(null,t,e,n),e.then(t,t))}function ip(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function op(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fs(-1,1),e.tag=2,Ks(n,e,1))),n.lanes|=1),t)}var fy=bs.ReactCurrentOwner,Cn=!1;function xn(t,e,n,r){e.child=t===null?K2(e,null,n,r):Lo(e,t.child,n,r)}function ap(t,e,n,r,s){n=n.render;var o=e.ref;return No(e,s),r=ff(t,e,n,r,o,s),n=mf(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(pt&&n&&ef(e),e.flags|=1,xn(t,e,r,s),e.child)}function lp(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Ef(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xg(t,e,o,r,s)):(t=V0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(c,r)&&t.ref===e.ref)return vs(t,e,s)}return e.flags|=1,t=Ys(o,r),t.ref=e.ref,t.return=e,e.child=t}function xg(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(ul(o,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,vs(t,e,s)}return ed(t,e,n,r,s)}function _g(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ko,qn),qn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(ko,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,lt(ko,qn),qn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,lt(ko,qn),qn|=r;return xn(t,e,s,n),e.child}function bg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ed(t,e,n,r,s){var o=Nn(n)?Vi:fn.current;return o=zo(e,o),No(e,s),n=ff(t,e,n,r,o,s),r=mf(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(pt&&r&&ef(e),e.flags|=1,xn(t,e,n,s),e.child)}function up(t,e,n,r,s){if(Nn(n)){var o=!0;Y0(e)}else o=!1;if(No(e,s),e.stateNode===null)P0(t,e),yg(e,n,r),Jh(e,n,r,s),r=!0;else if(t===null){var c=e.stateNode,d=e.memoizedProps;c.props=d;var p=c.context,x=n.contextType;typeof x=="object"&&x!==null?x=cr(x):(x=Nn(n)?Vi:fn.current,x=zo(e,x));var T=n.getDerivedStateFromProps,C=typeof T=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||p!==x)&&rp(e,c,r,x),Ls=!1;var R=e.memoizedState;c.state=R,nu(e,r,c,s),p=e.memoizedState,d!==r||R!==p||Rn.current||Ls?(typeof T=="function"&&(Yh(e,n,T,r),p=e.memoizedState),(d=Ls||np(e,n,d,r,R,p,x))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),c.props=r,c.state=p,c.context=x,r=d):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,X2(t,e),d=e.memoizedProps,x=e.type===e.elementType?d:wr(e.type,d),c.props=x,C=e.pendingProps,R=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=cr(p):(p=Nn(n)?Vi:fn.current,p=zo(e,p));var H=n.getDerivedStateFromProps;(T=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==C||R!==p)&&rp(e,c,r,p),Ls=!1,R=e.memoizedState,c.state=R,nu(e,r,c,s);var Y=e.memoizedState;d!==C||R!==Y||Rn.current||Ls?(typeof H=="function"&&(Yh(e,n,H,r),Y=e.memoizedState),(x=Ls||np(e,n,x,r,R,Y,p)||!1)?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,p)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),c.props=r,c.state=Y,c.context=p,r=x):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),r=!1)}return td(t,e,n,r,o,s)}function td(t,e,n,r,s,o){bg(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return s&&K1(e,n,!1),vs(t,e,o);r=e.stateNode,fy.current=e;var d=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=Lo(e,t.child,null,o),e.child=Lo(e,null,d,o)):xn(t,e,d,o),e.memoizedState=r.state,s&&K1(e,n,!0),e.child}function Sg(t){var e=t.stateNode;e.pendingContext?G1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G1(t,e.context,!1),uf(t,e.containerInfo)}function cp(t,e,n,r,s){return Oo(),nf(s),e.flags|=256,xn(t,e,n,r),e.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Eg(t,e,n){var r=e.pendingProps,s=wt.current,o=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(s&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(wt,s&1),t===null)return Qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=zu(c,r,0,null),t=Mi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rd(n),e.memoizedState=nd,t):yf(e,c));if(s=t.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return my(t,e,c,r,d,s,n);if(o){o=r.fallback,c=e.mode,s=t.child,d=s.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=Ys(s,p),r.subtreeFlags=s.subtreeFlags&14680064),d!==null?o=Ys(d,o):(o=Mi(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?rd(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=nd,r}return o=t.child,t=o.sibling,r=Ys(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yf(t,e){return e=zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function p0(t,e,n,r){return r!==null&&nf(r),Lo(e,t.child,null,n),t=yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function my(t,e,n,r,s,o,c){if(n)return e.flags&256?(e.flags&=-257,r=th(Error(he(422))),p0(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=zu({mode:"visible",children:r.children},s,0,null),o=Mi(o,s,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Lo(e,t.child,null,c),e.child.memoizedState=rd(c),e.memoizedState=nd,o);if(!(e.mode&1))return p0(t,e,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(he(419)),r=th(o,r,void 0),p0(t,e,c,r)}if(d=(c&t.childLanes)!==0,Cn||d){if(r=Gt,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ys(t,s),Er(r,t,s,-1))}return Sf(),r=th(Error(he(421))),p0(t,e,c,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ay.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Hn=Gs(s.nextSibling),$n=e,pt=!0,_r=null,t!==null&&(ir[or++]=cs,ir[or++]=hs,ir[or++]=zi,cs=t.id,hs=t.overflow,zi=e),e=yf(e,r.children),e.flags|=4096,e)}function hp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xh(t.return,e,n)}function nh(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Tg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(xn(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,n,e);else if(t.tag===19)hp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ru(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ru(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nh(e,!0,n,null,o);break;case"together":nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function P0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function py(t,e,n){switch(e.tag){case 3:Sg(e),Oo();break;case 5:Y2(e);break;case 1:Nn(e.type)&&Y0(e);break;case 4:uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(eu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?Eg(t,e,n):(lt(wt,wt.current&1),t=vs(t,e,n),t!==null?t.sibling:null);lt(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,_g(t,e,n)}return vs(t,e,n)}var kg,sd,Ag,Ig;kg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sd=function(){};Ag=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(Br.current);var o=null;switch(n){case"input":s=kh(t,s),r=kh(t,r),o=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),o=[];break;case"textarea":s=Ch(t,s),r=Ch(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Q0)}Nh(n,r);var c;n=null;for(x in s)if(!r.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var d=s[x];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(nl.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in r){var p=r[x];if(d=s!=null?s[x]:void 0,r.hasOwnProperty(x)&&p!==d&&(p!=null||d!=null))if(x==="style")if(d){for(c in d)!d.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&d[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(x,n)),n=p;else x==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(o=o||[]).push(x,p)):x==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(x,""+p):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(nl.hasOwnProperty(x)?(p!=null&&x==="onScroll"&&ht("scroll",t),o||d===p||(o=[])):(o=o||[]).push(x,p))}n&&(o=o||[]).push("style",n);var x=o;(e.updateQueue=x)&&(e.flags|=4)}};Ig=function(t,e,n,r){n!==r&&(e.flags|=4)};function Na(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gy(t,e,n){var r=e.pendingProps;switch(tf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Nn(e.type)&&X0(),ln(e),null;case 3:return r=e.stateNode,Fo(),dt(Rn),dt(fn),hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(dd(_r),_r=null))),sd(t,e),ln(e),null;case 5:cf(e);var s=Ci(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)Ag(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return ln(e),null}if(t=Ci(Br.current),f0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Lr]=e,r[dl]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(s=0;s<Oa.length;s++)ht(Oa[s],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":x1(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":b1(r,o),ht("invalid",r)}Nh(n,o),s=null;for(var c in o)if(o.hasOwnProperty(c)){var d=o[c];c==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&d0(r.textContent,d,t),s=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&d0(r.textContent,d,t),s=["children",""+d]):nl.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&ht("scroll",r)}switch(n){case"input":s0(r),_1(r,o,!0);break;case"textarea":s0(r),S1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Q0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Lr]=e,t[dl]=r,kg(t,e,!1,!1),e.stateNode=t;e:{switch(c=Ph(n,r),n){case"dialog":ht("cancel",t),ht("close",t),s=r;break;case"iframe":case"object":case"embed":ht("load",t),s=r;break;case"video":case"audio":for(s=0;s<Oa.length;s++)ht(Oa[s],t);s=r;break;case"source":ht("error",t),s=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),s=r;break;case"details":ht("toggle",t),s=r;break;case"input":x1(t,r),s=kh(t,r),ht("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),ht("invalid",t);break;case"textarea":b1(t,r),s=Ch(t,r),ht("invalid",t);break;default:s=r}Nh(n,s),d=s;for(o in d)if(d.hasOwnProperty(o)){var p=d[o];o==="style"?i2(t,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&r2(t,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&rl(t,p):typeof p=="number"&&rl(t,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nl.hasOwnProperty(o)?p!=null&&o==="onScroll"&&ht("scroll",t):p!=null&&Bd(t,o,p,c))}switch(n){case"input":s0(t),_1(t,r,!1);break;case"textarea":s0(t),S1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ao(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Q0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)Ig(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Ci(ml.current),Ci(Br.current),f0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lr]=e,(o=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:d0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&d0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lr]=e,e.stateNode=r}return ln(e),null;case 13:if(dt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Hn!==null&&e.mode&1&&!(e.flags&128))W2(),Oo(),e.flags|=98560,o=!1;else if(o=f0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(he(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[Lr]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),o=!1}else _r!==null&&(dd(_r),_r=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?jt===0&&(jt=3):Sf())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Fo(),sd(t,e),t===null&&cl(e.stateNode.containerInfo),ln(e),null;case 10:return of(e.type._context),ln(e),null;case 17:return Nn(e.type)&&X0(),ln(e),null;case 19:if(dt(wt),o=e.memoizedState,o===null)return ln(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)Na(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=ru(t),c!==null){for(e.flags|=128,Na(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(wt,wt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>jo&&(e.flags|=128,r=!0,Na(o,!1),e.lanes=4194304)}else{if(!r)if(t=ru(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Na(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!pt)return ln(e),null}else 2*Ct()-o.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Na(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=wt.current,lt(wt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return bf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function yy(t,e){switch(tf(e),e.tag){case 1:return Nn(e.type)&&X0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fo(),dt(Rn),dt(fn),hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cf(e),null;case 13:if(dt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(wt),null;case 4:return Fo(),null;case 10:return of(e.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var g0=!1,hn=!1,vy=typeof WeakSet=="function"?WeakSet:Set,_e=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function id(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var dp=!1;function wy(t,e){if(Uh=W0,t=M2(),Zd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,d=-1,p=-1,x=0,T=0,C=t,R=null;t:for(;;){for(var H;C!==n||s!==0&&C.nodeType!==3||(d=c+s),C!==o||r!==0&&C.nodeType!==3||(p=c+r),C.nodeType===3&&(c+=C.nodeValue.length),(H=C.firstChild)!==null;)R=C,C=H;for(;;){if(C===t)break t;if(R===n&&++x===s&&(d=c),R===o&&++T===r&&(p=c),(H=C.nextSibling)!==null)break;C=R,R=C.parentNode}C=H}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},W0=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var Y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var J=Y.memoizedProps,G=Y.memoizedState,F=e.stateNode,P=F.getSnapshotBeforeUpdate(e.elementType===e.type?J:wr(e.type,J),G);F.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(te){Tt(e,e.return,te)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return Y=dp,dp=!1,Y}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&id(e,n,o)}s=s.next}while(s!==r)}}function Du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function od(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cg(t){var e=t.alternate;e!==null&&(t.alternate=null,Cg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lr],delete e[dl],delete e[Wh],delete e[ty],delete e[ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rg(t){return t.tag===5||t.tag===3||t.tag===4}function fp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Q0));else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}function ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ld(t,e,n),t=t.sibling;t!==null;)ld(t,e,n),t=t.sibling}var Yt=null,xr=!1;function Vs(t,e,n){for(n=n.child;n!==null;)Ng(t,e,n),n=n.sibling}function Ng(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(ku,n)}catch{}switch(n.tag){case 5:hn||To(n,e);case 6:var r=Yt,s=xr;Yt=null,Vs(t,e,n),Yt=r,xr=s,Yt!==null&&(xr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(xr?(t=Yt,n=n.stateNode,t.nodeType===8?Qc(t.parentNode,n):t.nodeType===1&&Qc(t,n),al(t)):Qc(Yt,n.stateNode));break;case 4:r=Yt,s=xr,Yt=n.stateNode.containerInfo,xr=!0,Vs(t,e,n),Yt=r,xr=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&id(n,e,c),s=s.next}while(s!==r)}Vs(t,e,n);break;case 1:if(!hn&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Tt(n,e,d)}Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Vs(t,e,n),hn=r):Vs(t,e,n);break;default:Vs(t,e,n)}}function mp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vy),e.forEach(function(r){var s=Iy.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,c=e,d=c;e:for(;d!==null;){switch(d.tag){case 5:Yt=d.stateNode,xr=!1;break e;case 3:Yt=d.stateNode.containerInfo,xr=!0;break e;case 4:Yt=d.stateNode.containerInfo,xr=!0;break e}d=d.return}if(Yt===null)throw Error(he(160));Ng(o,c,s),Yt=null,xr=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(x){Tt(s,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pg(e,t),e=e.sibling}function Pg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),zr(t),r&4){try{Ka(3,t,t.return),Du(3,t)}catch(J){Tt(t,t.return,J)}try{Ka(5,t,t.return)}catch(J){Tt(t,t.return,J)}}break;case 1:vr(e,t),zr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(vr(e,t),zr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{rl(s,"")}catch(J){Tt(t,t.return,J)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,d=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&e2(s,o),Ph(d,c);var x=Ph(d,o);for(c=0;c<p.length;c+=2){var T=p[c],C=p[c+1];T==="style"?i2(s,C):T==="dangerouslySetInnerHTML"?r2(s,C):T==="children"?rl(s,C):Bd(s,T,C,x)}switch(d){case"input":Ah(s,o);break;case"textarea":t2(s,o);break;case"select":var R=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var H=o.value;H!=null?Ao(s,!!o.multiple,H,!1):R!==!!o.multiple&&(o.defaultValue!=null?Ao(s,!!o.multiple,o.defaultValue,!0):Ao(s,!!o.multiple,o.multiple?[]:"",!1))}s[dl]=o}catch(J){Tt(t,t.return,J)}}break;case 6:if(vr(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(he(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(J){Tt(t,t.return,J)}}break;case 3:if(vr(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(J){Tt(t,t.return,J)}break;case 4:vr(e,t),zr(t);break;case 13:vr(e,t),zr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(xf=Ct())),r&4&&mp(t);break;case 22:if(T=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(x=hn)||T,vr(e,t),hn=x):vr(e,t),zr(t),r&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!T&&t.mode&1)for(_e=t,T=t.child;T!==null;){for(C=_e=T;_e!==null;){switch(R=_e,H=R.child,R.tag){case 0:case 11:case 14:case 15:Ka(4,R,R.return);break;case 1:To(R,R.return);var Y=R.stateNode;if(typeof Y.componentWillUnmount=="function"){r=R,n=R.return;try{e=r,Y.props=e.memoizedProps,Y.state=e.memoizedState,Y.componentWillUnmount()}catch(J){Tt(r,n,J)}}break;case 5:To(R,R.return);break;case 22:if(R.memoizedState!==null){gp(C);continue}}H!==null?(H.return=R,_e=H):gp(C)}T=T.sibling}e:for(T=null,C=t;;){if(C.tag===5){if(T===null){T=C;try{s=C.stateNode,x?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=C.stateNode,p=C.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=s2("display",c))}catch(J){Tt(t,t.return,J)}}}else if(C.tag===6){if(T===null)try{C.stateNode.nodeValue=x?"":C.memoizedProps}catch(J){Tt(t,t.return,J)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;T===C&&(T=null),C=C.return}T===C&&(T=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:vr(e,t),zr(t),r&4&&mp(t);break;case 21:break;default:vr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rg(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rl(s,""),r.flags&=-33);var o=fp(t);ld(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,d=fp(t);ad(t,d,c);break;default:throw Error(he(161))}}catch(p){Tt(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xy(t,e,n){_e=t,Mg(t)}function Mg(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,o=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||g0;if(!c){var d=s.alternate,p=d!==null&&d.memoizedState!==null||hn;d=g0;var x=hn;if(g0=c,(hn=p)&&!x)for(_e=s;_e!==null;)c=_e,p=c.child,c.tag===22&&c.memoizedState!==null?yp(s):p!==null?(p.return=c,_e=p):yp(s);for(;o!==null;)_e=o,Mg(o),o=o.sibling;_e=s,g0=d,hn=x}pp(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,_e=o):pp(t)}}function pp(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Z1(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z1(e,c,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var T=x.memoizedState;if(T!==null){var C=T.dehydrated;C!==null&&al(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}hn||e.flags&512&&od(e)}catch(R){Tt(e,e.return,R)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function gp(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function yp(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Du(4,e)}catch(p){Tt(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(p){Tt(e,s,p)}}var o=e.return;try{od(e)}catch(p){Tt(e,o,p)}break;case 5:var c=e.return;try{od(e)}catch(p){Tt(e,c,p)}}}catch(p){Tt(e,e.return,p)}if(e===t){_e=null;break}var d=e.sibling;if(d!==null){d.return=e.return,_e=d;break}_e=e.return}}var _y=Math.ceil,ou=bs.ReactCurrentDispatcher,vf=bs.ReactCurrentOwner,ur=bs.ReactCurrentBatchConfig,Ge=0,Gt=null,Mt=null,en=0,qn=0,ko=ai(0),jt=0,vl=null,Li=0,Vu=0,wf=0,Qa=null,In=null,xf=0,jo=1/0,ls=null,au=!1,ud=null,Qs=null,y0=!1,Us=null,lu=0,Xa=0,cd=null,M0=-1,D0=0;function _n(){return Ge&6?Ct():M0!==-1?M0:M0=Ct()}function Xs(t){return t.mode&1?Ge&2&&en!==0?en&-en:sy.transition!==null?(D0===0&&(D0=y2()),D0):(t=nt,t!==0||(t=window.event,t=t===void 0?16:E2(t.type)),t):1}function Er(t,e,n,r){if(50<Xa)throw Xa=0,cd=null,Error(he(185));Il(t,n,r),(!(Ge&2)||t!==Gt)&&(t===Gt&&(!(Ge&2)&&(Vu|=n),jt===4&&Bs(t,en)),Pn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(jo=Ct()+500,Nu&&li()))}function Pn(t,e){var n=t.callbackNode;s7(t,e);var r=$0(t,t===Gt?en:0);if(r===0)n!==null&&k1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k1(n),e===1)t.tag===0?ry(vp.bind(null,t)):q2(vp.bind(null,t)),Z7(function(){!(Ge&6)&&li()}),n=null;else{switch(v2(r)){case 1:n=$d;break;case 4:n=p2;break;case 16:n=H0;break;case 536870912:n=g2;break;default:n=H0}n=jg(n,Dg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dg(t,e){if(M0=-1,D0=0,Ge&6)throw Error(he(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=$0(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var s=Ge;Ge|=2;var o=zg();(Gt!==t||en!==e)&&(ls=null,jo=Ct()+500,Pi(t,e));do try{Ey();break}catch(d){Vg(t,d)}while(!0);sf(),ou.current=o,Ge=s,Mt!==null?e=0:(Gt=null,en=0,e=jt)}if(e!==0){if(e===2&&(s=Oh(t),s!==0&&(r=s,e=hd(t,s))),e===1)throw n=vl,Pi(t,0),Bs(t,r),Pn(t,Ct()),n;if(e===6)Bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!by(s)&&(e=uu(t,r),e===2&&(o=Oh(t),o!==0&&(r=o,e=hd(t,o))),e===1))throw n=vl,Pi(t,0),Bs(t,r),Pn(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Ti(t,In,ls);break;case 3:if(Bs(t,r),(r&130023424)===r&&(e=xf+500-Ct(),10<e)){if($0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$h(Ti.bind(null,t,In,ls),e);break}Ti(t,In,ls);break;case 4:if(Bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var c=31-Sr(r);o=1<<c,c=e[c],c>s&&(s=c),r&=~o}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_y(r/1960))-r,10<r){t.timeoutHandle=$h(Ti.bind(null,t,In,ls),r);break}Ti(t,In,ls);break;case 5:Ti(t,In,ls);break;default:throw Error(he(329))}}}return Pn(t,Ct()),t.callbackNode===n?Dg.bind(null,t):null}function hd(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=uu(t,e),t!==2&&(e=In,In=n,e!==null&&dd(e)),t}function dd(t){In===null?In=t:In.push.apply(In,t)}function by(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ar(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~wf,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function vp(t){if(Ge&6)throw Error(he(327));Po();var e=$0(t,0);if(!(e&1))return Pn(t,Ct()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=Oh(t);r!==0&&(e=r,n=hd(t,r))}if(n===1)throw n=vl,Pi(t,0),Bs(t,e),Pn(t,Ct()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,In,ls),Pn(t,Ct()),null}function _f(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(jo=Ct()+500,Nu&&li())}}function Fi(t){Us!==null&&Us.tag===0&&!(Ge&6)&&Po();var e=Ge;Ge|=1;var n=ur.transition,r=nt;try{if(ur.transition=null,nt=1,t)return t()}finally{nt=r,ur.transition=n,Ge=e,!(Ge&6)&&li()}}function bf(){qn=ko.current,dt(ko)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J7(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&X0();break;case 3:Fo(),dt(Rn),dt(fn),hf();break;case 5:cf(r);break;case 4:Fo();break;case 13:dt(wt);break;case 19:dt(wt);break;case 10:of(r.type._context);break;case 22:case 23:bf()}n=n.return}if(Gt=t,Mt=t=Ys(t.current,null),en=qn=e,jt=0,vl=null,wf=Vu=Li=0,In=Qa=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=s,r.next=c}n.pending=r}Ii=null}return t}function Vg(t,e){do{var n=Mt;try{if(sf(),R0.current=iu,su){for(var r=xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}su=!1}if(Oi=0,Wt=Ft=xt=null,Ga=!1,pl=0,vf.current=null,n===null||n.return===null){jt=1,vl=e,Mt=null;break}e:{var o=t,c=n.return,d=n,p=e;if(e=en,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var x=p,T=d,C=T.tag;if(!(T.mode&1)&&(C===0||C===11||C===15)){var R=T.alternate;R?(T.updateQueue=R.updateQueue,T.memoizedState=R.memoizedState,T.lanes=R.lanes):(T.updateQueue=null,T.memoizedState=null)}var H=ip(c);if(H!==null){H.flags&=-257,op(H,c,d,o,e),H.mode&1&&sp(o,x,e),e=H,p=x;var Y=e.updateQueue;if(Y===null){var J=new Set;J.add(p),e.updateQueue=J}else Y.add(p);break e}else{if(!(e&1)){sp(o,x,e),Sf();break e}p=Error(he(426))}}else if(pt&&d.mode&1){var G=ip(c);if(G!==null){!(G.flags&65536)&&(G.flags|=256),op(G,c,d,o,e),nf(Bo(p,d));break e}}o=p=Bo(p,d),jt!==4&&(jt=2),Qa===null?Qa=[o]:Qa.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var F=vg(o,p,e);J1(o,F);break e;case 1:d=p;var P=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Qs===null||!Qs.has(j)))){o.flags|=65536,e&=-e,o.lanes|=e;var te=wg(o,d,e);J1(o,te);break e}}o=o.return}while(o!==null)}Lg(n)}catch(de){e=de,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function zg(){var t=ou.current;return ou.current=iu,t===null?iu:t}function Sf(){(jt===0||jt===3||jt===2)&&(jt=4),Gt===null||!(Li&268435455)&&!(Vu&268435455)||Bs(Gt,en)}function uu(t,e){var n=Ge;Ge|=2;var r=zg();(Gt!==t||en!==e)&&(ls=null,Pi(t,e));do try{Sy();break}catch(s){Vg(t,s)}while(!0);if(sf(),Ge=n,ou.current=r,Mt!==null)throw Error(he(261));return Gt=null,en=0,jt}function Sy(){for(;Mt!==null;)Og(Mt)}function Ey(){for(;Mt!==null&&!Q6();)Og(Mt)}function Og(t){var e=Bg(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?Lg(t):Mt=e,vf.current=null}function Lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yy(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Mt=null;return}}else if(n=gy(n,e,qn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);jt===0&&(jt=5)}function Ti(t,e,n){var r=nt,s=ur.transition;try{ur.transition=null,nt=1,Ty(t,e,n,r)}finally{ur.transition=s,nt=r}return null}function Ty(t,e,n,r){do Po();while(Us!==null);if(Ge&6)throw Error(he(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(i7(t,o),t===Gt&&(Mt=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||y0||(y0=!0,jg(H0,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var c=nt;nt=1;var d=Ge;Ge|=4,vf.current=null,wy(t,n),Pg(n,t),$7(qh),W0=!!Uh,qh=Uh=null,t.current=n,xy(n),X6(),Ge=d,nt=c,ur.transition=o}else t.current=n;if(y0&&(y0=!1,Us=t,lu=s),o=t.pendingLanes,o===0&&(Qs=null),Z6(n.stateNode),Pn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(au)throw au=!1,t=ud,ud=null,t;return lu&1&&t.tag!==0&&Po(),o=t.pendingLanes,o&1?t===cd?Xa++:(Xa=0,cd=t):Xa=0,li(),null}function Po(){if(Us!==null){var t=v2(lu),e=ur.transition,n=nt;try{if(ur.transition=null,nt=16>t?16:t,Us===null)var r=!1;else{if(t=Us,Us=null,lu=0,Ge&6)throw Error(he(331));var s=Ge;for(Ge|=4,_e=t.current;_e!==null;){var o=_e,c=o.child;if(_e.flags&16){var d=o.deletions;if(d!==null){for(var p=0;p<d.length;p++){var x=d[p];for(_e=x;_e!==null;){var T=_e;switch(T.tag){case 0:case 11:case 15:Ka(8,T,o)}var C=T.child;if(C!==null)C.return=T,_e=C;else for(;_e!==null;){T=_e;var R=T.sibling,H=T.return;if(Cg(T),T===x){_e=null;break}if(R!==null){R.return=H,_e=R;break}_e=H}}}var Y=o.alternate;if(Y!==null){var J=Y.child;if(J!==null){Y.child=null;do{var G=J.sibling;J.sibling=null,J=G}while(J!==null)}}_e=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,_e=c;else e:for(;_e!==null;){if(o=_e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ka(9,o,o.return)}var F=o.sibling;if(F!==null){F.return=o.return,_e=F;break e}_e=o.return}}var P=t.current;for(_e=P;_e!==null;){c=_e;var j=c.child;if(c.subtreeFlags&2064&&j!==null)j.return=c,_e=j;else e:for(c=P;_e!==null;){if(d=_e,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Du(9,d)}}catch(de){Tt(d,d.return,de)}if(d===c){_e=null;break e}var te=d.sibling;if(te!==null){te.return=d.return,_e=te;break e}_e=d.return}}if(Ge=s,li(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(ku,t)}catch{}r=!0}return r}finally{nt=n,ur.transition=e}}return!1}function wp(t,e,n){e=Bo(n,e),e=vg(t,e,1),t=Ks(t,e,1),e=_n(),t!==null&&(Il(t,1,e),Pn(t,e))}function Tt(t,e,n){if(t.tag===3)wp(t,t,n);else for(;e!==null;){if(e.tag===3){wp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qs===null||!Qs.has(r))){t=Bo(n,t),t=wg(e,t,1),e=Ks(e,t,1),t=_n(),e!==null&&(Il(e,1,t),Pn(e,t));break}}e=e.return}}function ky(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&(jt===4||jt===3&&(en&130023424)===en&&500>Ct()-xf?Pi(t,0):wf|=n),Pn(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=a0,a0<<=1,!(a0&130023424)&&(a0=4194304)):e=1);var n=_n();t=ys(t,e),t!==null&&(Il(t,e,n),Pn(t,n))}function Ay(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fg(t,n)}function Iy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Fg(t,n)}var Bg;Bg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,py(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,pt&&e.flags&1048576&&H2(e,Z0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;P0(t,e),t=e.pendingProps;var s=zo(e,fn.current);No(e,n),s=ff(null,e,r,t,s,n);var o=mf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(o=!0,Y0(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lf(e),s.updater=Mu,e.stateNode=s,s._reactInternals=e,Jh(e,r,t,n),e=td(null,e,r,!0,o,n)):(e.tag=0,pt&&o&&ef(e),xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(P0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ry(r),t=wr(r,t),s){case 0:e=ed(null,e,r,t,n);break e;case 1:e=up(null,e,r,t,n);break e;case 11:e=ap(null,e,r,t,n);break e;case 14:e=lp(null,e,r,wr(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),ed(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),up(t,e,r,s,n);case 3:e:{if(Sg(e),t===null)throw Error(he(387));r=e.pendingProps,o=e.memoizedState,s=o.element,X2(t,e),nu(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Bo(Error(he(423)),e),e=cp(t,e,r,n,s);break e}else if(r!==s){s=Bo(Error(he(424)),e),e=cp(t,e,r,n,s);break e}else for(Hn=Gs(e.stateNode.containerInfo.firstChild),$n=e,pt=!0,_r=null,n=K2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===s){e=vs(t,e,n);break e}xn(t,e,r,n)}e=e.child}return e;case 5:return Y2(e),t===null&&Qh(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,c=s.children,Hh(r,s)?c=null:o!==null&&Hh(r,o)&&(e.flags|=32),bg(t,e),xn(t,e,c,n),e.child;case 6:return t===null&&Qh(e),null;case 13:return Eg(t,e,n);case 4:return uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lo(e,null,r,n):xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),ap(t,e,r,s,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,c=s.value,lt(eu,r._currentValue),r._currentValue=c,o!==null)if(Ar(o.value,c)){if(o.children===s.children&&!Rn.current){e=vs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){c=o.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=fs(-1,n&-n),p.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var T=x.pending;T===null?p.next=p:(p.next=T.next,T.next=p),x.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Xh(o.return,n,e),d.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(he(341));c.lanes|=n,d=c.alternate,d!==null&&(d.lanes|=n),Xh(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,No(e,n),s=cr(s),r=r(s),e.flags|=1,xn(t,e,r,n),e.child;case 14:return r=e.type,s=wr(r,e.pendingProps),s=wr(r.type,s),lp(t,e,r,s,n);case 15:return xg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),P0(t,e),e.tag=1,Nn(r)?(t=!0,Y0(e)):t=!1,No(e,n),yg(e,r,s),Jh(e,r,s,n),td(null,e,r,!0,t,n);case 19:return Tg(t,e,n);case 22:return _g(t,e,n)}throw Error(he(156,e.tag))};function jg(t,e){return m2(t,e)}function Cy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new Cy(t,e,n,r)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ry(t){if(typeof t=="function")return Ef(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ud)return 11;if(t===qd)return 14}return 2}function Ys(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function V0(t,e,n,r,s,o){var c=2;if(r=t,typeof t=="function")Ef(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case go:return Mi(n.children,s,o,e);case jd:c=8,s|=8;break;case bh:return t=lr(12,n,e,s|2),t.elementType=bh,t.lanes=o,t;case Sh:return t=lr(13,n,e,s),t.elementType=Sh,t.lanes=o,t;case Eh:return t=lr(19,n,e,s),t.elementType=Eh,t.lanes=o,t;case Y4:return zu(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q4:c=10;break e;case X4:c=9;break e;case Ud:c=11;break e;case qd:c=14;break e;case Os:c=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=lr(c,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Mi(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function zu(t,e,n,r){return t=lr(22,t,r,e),t.elementType=Y4,t.lanes=n,t.stateNode={isHidden:!1},t}function rh(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ny(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tf(t,e,n,r,s,o,c,d,p){return t=new Ny(t,e,n,d,p),e===1?(e=1,o===!0&&(e|=8)):e=0,o=lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(o),t}function Py(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ug(t){if(!t)return ni;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(Nn(n))return U2(t,n,e)}return e}function qg(t,e,n,r,s,o,c,d,p){return t=Tf(n,r,!0,t,s,o,c,d,p),t.context=Ug(null),n=t.current,r=_n(),s=Xs(n),o=fs(r,s),o.callback=e??null,Ks(n,o,s),t.current.lanes=s,Il(t,s,r),Pn(t,r),t}function Ou(t,e,n,r){var s=e.current,o=_n(),c=Xs(s);return n=Ug(n),e.context===null?e.context=n:e.pendingContext=n,e=fs(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ks(s,e,c),t!==null&&(Er(t,s,c,o),C0(t,s,c)),c}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kf(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function My(){return null}var Hg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Af(t){this._internalRoot=t}Lu.prototype.render=Af.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Ou(t,e,null,null)};Lu.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Ou(null,t,null,null)}),e[gs]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=_2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&S2(t)}};function If(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _p(){}function Dy(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var x=cu(c);o.call(x)}}var c=qg(e,r,t,0,null,!1,!1,"",_p);return t._reactRootContainer=c,t[gs]=c.current,cl(t.nodeType===8?t.parentNode:t),Fi(),c}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var d=r;r=function(){var x=cu(p);d.call(x)}}var p=Tf(t,0,!1,null,null,!1,!1,"",_p);return t._reactRootContainer=p,t[gs]=p.current,cl(t.nodeType===8?t.parentNode:t),Fi(function(){Ou(e,p,n,r)}),p}function Bu(t,e,n,r,s){var o=n._reactRootContainer;if(o){var c=o;if(typeof s=="function"){var d=s;s=function(){var p=cu(c);d.call(p)}}Ou(e,c,t,s)}else c=Dy(n,e,t,s,r);return cu(c)}w2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Wd(e,n|1),Pn(e,Ct()),!(Ge&6)&&(jo=Ct()+500,li()))}break;case 13:Fi(function(){var r=ys(t,1);if(r!==null){var s=_n();Er(r,t,1,s)}}),kf(t,1)}};Gd=function(t){if(t.tag===13){var e=ys(t,134217728);if(e!==null){var n=_n();Er(e,t,134217728,n)}kf(t,134217728)}};x2=function(t){if(t.tag===13){var e=Xs(t),n=ys(t,e);if(n!==null){var r=_n();Er(n,t,e,r)}kf(t,e)}};_2=function(){return nt};b2=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};Dh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ru(r);if(!s)throw Error(he(90));Z4(r),Ah(r,s)}}}break;case"textarea":t2(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};l2=_f;u2=Fi;var Vy={usingClientEntryPoint:!1,Events:[Rl,xo,Ru,o2,a2,_f]},Pa={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zy={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d2(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||My,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{ku=v0.inject(zy),Fr=v0}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(e))throw Error(he(200));return Py(t,e,null,n)};Gn.createRoot=function(t,e){if(!If(t))throw Error(he(299));var n=!1,r="",s=Hg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tf(t,1,!1,null,null,n,!1,r,s),t[gs]=e.current,cl(t.nodeType===8?t.parentNode:t),new Af(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=d2(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Fi(t)};Gn.hydrate=function(t,e,n){if(!Fu(e))throw Error(he(200));return Bu(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!If(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",c=Hg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=qg(e,null,t,1,n??null,s,!1,o,c),t[gs]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Lu(e)};Gn.render=function(t,e,n){if(!Fu(e))throw Error(he(200));return Bu(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Fu(t))throw Error(he(40));return t._reactRootContainer?(Fi(function(){Bu(null,null,t,!1,function(){t._reactRootContainer=null,t[gs]=null})}),!0):!1};Gn.unstable_batchedUpdates=_f;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fu(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Bu(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function $g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($g)}catch(t){console.error(t)}}$g(),$4.exports=Gn;var Oy=$4.exports,bp=Oy;xh.createRoot=bp.createRoot,xh.hydrateRoot=bp.hydrateRoot;const Ly=({title:t,score:e,total:n,questionIndex:r})=>L.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"font-display text-3xl font-semibold text-rose-500",children:t}),L.jsxs("p",{className:"text-base font-medium text-cocoa-300",children:["Question ",r+1," of ",n]})]}),L.jsxs("div",{className:"text-right text-lg font-semibold text-rose-500",children:["Score: ",e,"/",n]})]});var fd={exports:{}},ih={exports:{}},oh,Sp;function Fy(){if(Sp)return oh;Sp=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oh=t,oh}var ah,Ep;function By(){if(Ep)return ah;Ep=1;var t=Fy();function e(){}function n(){}return n.resetWarningCache=e,ah=function(){function r(c,d,p,x,T,C){if(C!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ah}var Tp;function jy(){return Tp||(Tp=1,ih.exports=By()()),ih.exports}var lh={exports:{}},kp;function Uy(){return kp||(kp=1,function(t,e){(function(r,s){t.exports=s()})(typeof self<"u"?self:M4,function(){return function(){var n={};(function(){n.d=function(a,i){for(var l in i)n.o(i,l)&&!n.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:i[l]})}})(),function(){n.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)}}();var r={};n.d(r,{default:function(){return a6}});class s{constructor(i,l){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let h="KaTeX parse error: "+i,f,y;const _=l&&l.loc;if(_&&_.start<=_.end){const I=_.lexer.input;f=_.start,y=_.end,f===I.length?h+=" at end of input: ":h+=" at position "+(f+1)+": ";const B=I.slice(f,y).replace(/[^]/g,"$&");let W;f>15?W=""+I.slice(f-15,f):W=I.slice(0,f);let K;y+15<I.length?K=I.slice(y,y+15)+"":K=I.slice(y),h+=W+B+K}const S=new Error(h);return S.name="ParseError",S.__proto__=s.prototype,S.position=f,f!=null&&y!=null&&(S.length=y-f),S.rawMessage=i,S}}s.prototype.__proto__=Error.prototype;var o=s;const c=function(a,i){return a===void 0?i:a},d=/([A-Z])/g,p=function(a){return a.replace(d,"-$1").toLowerCase()},x={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},T=/[&><"']/g;function C(a){return String(a).replace(T,i=>x[i])}const R=function(a){return a.type==="ordgroup"||a.type==="color"?a.body.length===1?R(a.body[0]):a:a.type==="font"?R(a.body):a},H=function(a){const i=R(a);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},Y=function(a){if(!a)throw new Error("Expected non-null, but got "+String(a));return a};var G={deflt:c,escape:C,hyphenate:p,getBaseElem:R,isCharacterBox:H,protocolFromUrl:function(a){const i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(a);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"}};const F={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,i)=>(i.push(a),i)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function P(a){if(a.default)return a.default;const i=a.type,l=Array.isArray(i)?i[0]:i;if(typeof l!="string")return l.enum[0];switch(l){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class j{constructor(i){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,i=i||{};for(const l in F)if(F.hasOwnProperty(l)){const h=F[l];this[l]=i[l]!==void 0?h.processor?h.processor(i[l]):i[l]:P(h)}}reportNonstrict(i,l,h){let f=this.strict;if(typeof f=="function"&&(f=f(i,l,h)),!(!f||f==="ignore")){if(f===!0||f==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(l+" ["+i+"]"),h);f==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]"))}}useStrictBehavior(i,l,h){let f=this.strict;if(typeof f=="function")try{f=f(i,l,h)}catch{f="error"}return!f||f==="ignore"?!1:f===!0||f==="error"?!0:f==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]")),!1)}isTrusted(i){if(i.url&&!i.protocol){const h=G.protocolFromUrl(i.url);if(h==null)return!1;i.protocol=h}return!!(typeof this.trust=="function"?this.trust(i):this.trust)}}class te{constructor(i,l,h){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=i,this.size=l,this.cramped=h}sup(){return z[Rt[this.id]]}sub(){return z[Be[this.id]]}fracNum(){return z[Dn[this.id]]}fracDen(){return z[mn[this.id]]}cramp(){return z[ve[this.id]]}text(){return z[Ce[this.id]]}isTight(){return this.size>=2}}const de=0,ue=1,O=2,k=3,D=4,M=5,q=6,$=7,z=[new te(de,0,!1),new te(ue,0,!0),new te(O,1,!1),new te(k,1,!0),new te(D,2,!1),new te(M,2,!0),new te(q,3,!1),new te($,3,!0)],Rt=[D,M,D,M,q,$,q,$],Be=[M,M,M,M,$,$,$,$],Dn=[O,k,D,M,q,$,q,$],mn=[k,k,M,M,$,$,$,$],ve=[ue,ue,k,k,M,M,$,$],Ce=[de,ue,O,k,O,k,O,k];var ce={DISPLAY:z[de],TEXT:z[O],SCRIPT:z[D],SCRIPTSCRIPT:z[q]};const qe=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function De(a){for(let i=0;i<qe.length;i++){const l=qe[i];for(let h=0;h<l.blocks.length;h++){const f=l.blocks[h];if(a>=f[0]&&a<=f[1])return l.name}}return null}const et=[];qe.forEach(a=>a.blocks.forEach(i=>et.push(...i)));function pn(a){for(let i=0;i<et.length;i+=2)if(a>=et[i]&&a<=et[i+1])return!0;return!1}const Nt=80,sn=function(a,i){return"M95,"+(622+a+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+a/2.075+" -"+a+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+a)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},Vn=function(a,i){return"M263,"+(601+a+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+a/2.084+" -"+a+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+a)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},ui=function(a,i){return"M983 "+(10+a+i)+`
l`+a/3.13+" -"+a+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+a)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},Wr=function(a,i){return"M424,"+(2398+a+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+a/4.223+" -"+a+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+a)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+a)+" "+i+`
h400000v`+(40+a)+"h-400000z"},Gr=function(a,i){return"M473,"+(2713+a+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+a/5.298+" -"+a+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+a)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+a)+" "+i+"h400000v"+(40+a)+"H1017.7z"},Ss=function(a){const i=a/2;return"M400000 "+a+" H0 L"+i+" 0 l65 45 L145 "+(a-80)+" H400000z"},Es=function(a,i,l){const h=l-54-i-a;return"M702 "+(a+i)+"H400000"+(40+a)+`
H742v`+h+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+a)+"H742z"},ci=function(a,i,l){i=1e3*i;let h="";switch(a){case"sqrtMain":h=sn(i,Nt);break;case"sqrtSize1":h=Vn(i,Nt);break;case"sqrtSize2":h=ui(i,Nt);break;case"sqrtSize3":h=Wr(i,Nt);break;case"sqrtSize4":h=Gr(i,Nt);break;case"sqrtTall":h=Es(i,Nt,l)}return h},Kr=function(a,i){switch(a){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},Qn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ir=function(a,i){switch(a){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var En={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const zn={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hi={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Ts(a,i){En[a]=i}function ks(a,i,l){if(!En[i])throw new Error("Font metrics not found for font: "+i+".");let h=a.charCodeAt(0),f=En[i][h];if(!f&&a[0]in hi&&(h=hi[a[0]].charCodeAt(0),f=En[i][h]),!f&&l==="text"&&pn(h)&&(f=En[i][77]),f)return{depth:f[0],height:f[1],italic:f[2],skew:f[3],width:f[4]}}const dr={};function Qr(a){let i;if(a>=5?i=0:a>=3?i=1:i=2,!dr[i]){const l=dr[i]={cssEmPerMu:zn.quad[i]/18};for(const h in zn)zn.hasOwnProperty(h)&&(l[h]=zn[h][i])}return dr[i]}const As=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],di=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],kt=function(a,i){return i.size<2?a:As[a-1][i.size-1]};class st{constructor(i){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=i.style,this.color=i.color,this.size=i.size||st.BASESIZE,this.textSize=i.textSize||this.size,this.phantom=!!i.phantom,this.font=i.font||"",this.fontFamily=i.fontFamily||"",this.fontWeight=i.fontWeight||"",this.fontShape=i.fontShape||"",this.sizeMultiplier=di[this.size-1],this.maxSize=i.maxSize,this.minRuleThickness=i.minRuleThickness,this._fontMetrics=void 0}extend(i){const l={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const h in i)i.hasOwnProperty(h)&&(l[h]=i[h]);return new st(l)}havingStyle(i){return this.style===i?this:this.extend({style:i,size:kt(this.textSize,i)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(i){return this.size===i&&this.textSize===i?this:this.extend({style:this.style.text(),size:i,textSize:i,sizeMultiplier:di[i-1]})}havingBaseStyle(i){i=i||this.style.text();const l=kt(st.BASESIZE,i);return this.size===l&&this.textSize===st.BASESIZE&&this.style===i?this:this.extend({style:i,size:l})}havingBaseSizing(){let i;switch(this.style.id){case 4:case 5:i=3;break;case 6:case 7:i=1;break;default:i=6}return this.extend({style:this.style.text(),size:i})}withColor(i){return this.extend({color:i})}withPhantom(){return this.extend({phantom:!0})}withFont(i){return this.extend({font:i})}withTextFontFamily(i){return this.extend({fontFamily:i,font:""})}withTextFontWeight(i){return this.extend({fontWeight:i,font:""})}withTextFontShape(i){return this.extend({fontShape:i,font:""})}sizingClasses(i){return i.size!==this.size?["sizing","reset-size"+i.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==st.BASESIZE?["sizing","reset-size"+this.size,"size"+st.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Qr(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}st.BASESIZE=6;var Xn=st;const On={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ki={ex:!0,em:!0,mu:!0},Qi=function(a){return typeof a!="string"&&(a=a.unit),a in On||a in Ki||a==="ex"},Xe=function(a,i){let l;if(a.unit in On)l=On[a.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(a.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{let h;if(i.style.isTight()?h=i.havingStyle(i.style.text()):h=i,a.unit==="ex")l=h.fontMetrics().xHeight;else if(a.unit==="em")l=h.fontMetrics().quad;else throw new o("Invalid unit: '"+a.unit+"'");h!==i&&(l*=h.sizeMultiplier/i.sizeMultiplier)}return Math.min(a.number*l,i.maxSize)},fe=function(a){return+a.toFixed(4)+"em"},Ln=function(a){return a.filter(i=>i).join(" ")},Is=function(a,i,l){if(this.classes=a||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");const h=i.getColor();h&&(this.style.color=h)}},gn=function(a){const i=document.createElement(a);i.className=Ln(this.classes);for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(const l in this.attributes)this.attributes.hasOwnProperty(l)&&i.setAttribute(l,this.attributes[l]);for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i},oa=/[\s"'>/=\x00-\x1f]/,Fn=function(a){let i="<"+a;this.classes.length&&(i+=' class="'+G.escape(Ln(this.classes))+'"');let l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=G.hyphenate(h)+":"+this.style[h]+";");l&&(i+=' style="'+G.escape(l)+'"');for(const h in this.attributes)if(this.attributes.hasOwnProperty(h)){if(oa.test(h))throw new o("Invalid attribute name '"+h+"'");i+=" "+h+'="'+G.escape(this.attributes[h])+'"'}i+=">";for(let h=0;h<this.children.length;h++)i+=this.children[h].toMarkup();return i+="</"+a+">",i};class Dt{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Is.call(this,i,h,f),this.children=l||[]}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return gn.call(this,"span")}toMarkup(){return Fn.call(this,"span")}}class Xr{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Is.call(this,l,f),this.children=h||[],this.setAttribute("href",i)}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return gn.call(this,"a")}toMarkup(){return Fn.call(this,"a")}}class Cr{constructor(i,l,h){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=l,this.src=i,this.classes=["mord"],this.style=h}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createElement("img");i.src=this.src,i.alt=this.alt,i.className="mord";for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);return i}toMarkup(){let i='<img src="'+G.escape(this.src)+'"'+(' alt="'+G.escape(this.alt)+'"'),l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=G.hyphenate(h)+":"+this.style[h]+";");return l&&(i+=' style="'+G.escape(l)+'"'),i+="'/>",i}}const fi={:"",:"",:"",:""};class qt{constructor(i,l,h,f,y,_,S,I){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=i,this.height=l||0,this.depth=h||0,this.italic=f||0,this.skew=y||0,this.width=_||0,this.classes=S||[],this.style=I||{},this.maxFontSize=0;const B=De(this.text.charCodeAt(0));B&&this.classes.push(B+"_fallback"),/[]/.test(this.text)&&(this.text=fi[this.text])}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createTextNode(this.text);let l=null;this.italic>0&&(l=document.createElement("span"),l.style.marginRight=fe(this.italic)),this.classes.length>0&&(l=l||document.createElement("span"),l.className=Ln(this.classes));for(const h in this.style)this.style.hasOwnProperty(h)&&(l=l||document.createElement("span"),l.style[h]=this.style[h]);return l?(l.appendChild(i),l):i}toMarkup(){let i=!1,l="<span";this.classes.length&&(i=!0,l+=' class="',l+=G.escape(Ln(this.classes)),l+='"');let h="";this.italic>0&&(h+="margin-right:"+this.italic+"em;");for(const y in this.style)this.style.hasOwnProperty(y)&&(h+=G.hyphenate(y)+":"+this.style[y]+";");h&&(i=!0,l+=' style="'+G.escape(h)+'"');const f=G.escape(this.text);return i?(l+=">",l+=f,l+="</span>",l):f}}class Vt{constructor(i,l){this.children=void 0,this.attributes=void 0,this.children=i||[],this.attributes=l||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);for(let h=0;h<this.children.length;h++)l.appendChild(this.children[h].toNode());return l}toMarkup(){let i='<svg xmlns="http://www.w3.org/2000/svg"';for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+G.escape(this.attributes[l])+'"');i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</svg>",i}}class Bn{constructor(i,l){this.pathName=void 0,this.alternate=void 0,this.pathName=i,this.alternate=l}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?l.setAttribute("d",this.alternate):l.setAttribute("d",Qn[this.pathName]),l}toMarkup(){return this.alternate?'<path d="'+G.escape(this.alternate)+'"/>':'<path d="'+G.escape(Qn[this.pathName])+'"/>'}}class Yn{constructor(i){this.attributes=void 0,this.attributes=i||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","line");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);return l}toMarkup(){let i="<line";for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+G.escape(this.attributes[l])+'"');return i+="/>",i}}function Rr(a){if(a instanceof qt)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function Yr(a){if(a instanceof Dt)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}const Xi={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zt={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Jr={math:{},text:{}};var Ye=Jr;function m(a,i,l,h,f,y){Jr[a][f]={font:i,group:l,replace:h},y&&h&&(Jr[a][h]=Jr[a][f])}const v="math",re="text",b="main",N="ams",it="accent-token",pe="bin",ne="close",ge="inner",ie="mathord",we="op-token",He="open",Nr="punct",V="rel",Kt="spacing",U="textord";m(v,b,V,"","\\equiv",!0),m(v,b,V,"","\\prec",!0),m(v,b,V,"","\\succ",!0),m(v,b,V,"","\\sim",!0),m(v,b,V,"","\\perp"),m(v,b,V,"","\\preceq",!0),m(v,b,V,"","\\succeq",!0),m(v,b,V,"","\\simeq",!0),m(v,b,V,"","\\mid",!0),m(v,b,V,"","\\ll",!0),m(v,b,V,"","\\gg",!0),m(v,b,V,"","\\asymp",!0),m(v,b,V,"","\\parallel"),m(v,b,V,"","\\bowtie",!0),m(v,b,V,"","\\smile",!0),m(v,b,V,"","\\sqsubseteq",!0),m(v,b,V,"","\\sqsupseteq",!0),m(v,b,V,"","\\doteq",!0),m(v,b,V,"","\\frown",!0),m(v,b,V,"","\\ni",!0),m(v,b,V,"","\\propto",!0),m(v,b,V,"","\\vdash",!0),m(v,b,V,"","\\dashv",!0),m(v,b,V,"","\\owns"),m(v,b,Nr,".","\\ldotp"),m(v,b,Nr,"","\\cdotp"),m(v,b,U,"#","\\#"),m(re,b,U,"#","\\#"),m(v,b,U,"&","\\&"),m(re,b,U,"&","\\&"),m(v,b,U,"","\\aleph",!0),m(v,b,U,"","\\forall",!0),m(v,b,U,"","\\hbar",!0),m(v,b,U,"","\\exists",!0),m(v,b,U,"","\\nabla",!0),m(v,b,U,"","\\flat",!0),m(v,b,U,"","\\ell",!0),m(v,b,U,"","\\natural",!0),m(v,b,U,"","\\clubsuit",!0),m(v,b,U,"","\\wp",!0),m(v,b,U,"","\\sharp",!0),m(v,b,U,"","\\diamondsuit",!0),m(v,b,U,"","\\Re",!0),m(v,b,U,"","\\heartsuit",!0),m(v,b,U,"","\\Im",!0),m(v,b,U,"","\\spadesuit",!0),m(v,b,U,"","\\S",!0),m(re,b,U,"","\\S"),m(v,b,U,"","\\P",!0),m(re,b,U,"","\\P"),m(v,b,U,"","\\dag"),m(re,b,U,"","\\dag"),m(re,b,U,"","\\textdagger"),m(v,b,U,"","\\ddag"),m(re,b,U,"","\\ddag"),m(re,b,U,"","\\textdaggerdbl"),m(v,b,ne,"","\\rmoustache",!0),m(v,b,He,"","\\lmoustache",!0),m(v,b,ne,"","\\rgroup",!0),m(v,b,He,"","\\lgroup",!0),m(v,b,pe,"","\\mp",!0),m(v,b,pe,"","\\ominus",!0),m(v,b,pe,"","\\uplus",!0),m(v,b,pe,"","\\sqcap",!0),m(v,b,pe,"","\\ast"),m(v,b,pe,"","\\sqcup",!0),m(v,b,pe,"","\\bigcirc",!0),m(v,b,pe,"","\\bullet",!0),m(v,b,pe,"","\\ddagger"),m(v,b,pe,"","\\wr",!0),m(v,b,pe,"","\\amalg"),m(v,b,pe,"&","\\And"),m(v,b,V,"","\\longleftarrow",!0),m(v,b,V,"","\\Leftarrow",!0),m(v,b,V,"","\\Longleftarrow",!0),m(v,b,V,"","\\longrightarrow",!0),m(v,b,V,"","\\Rightarrow",!0),m(v,b,V,"","\\Longrightarrow",!0),m(v,b,V,"","\\leftrightarrow",!0),m(v,b,V,"","\\longleftrightarrow",!0),m(v,b,V,"","\\Leftrightarrow",!0),m(v,b,V,"","\\Longleftrightarrow",!0),m(v,b,V,"","\\mapsto",!0),m(v,b,V,"","\\longmapsto",!0),m(v,b,V,"","\\nearrow",!0),m(v,b,V,"","\\hookleftarrow",!0),m(v,b,V,"","\\hookrightarrow",!0),m(v,b,V,"","\\searrow",!0),m(v,b,V,"","\\leftharpoonup",!0),m(v,b,V,"","\\rightharpoonup",!0),m(v,b,V,"","\\swarrow",!0),m(v,b,V,"","\\leftharpoondown",!0),m(v,b,V,"","\\rightharpoondown",!0),m(v,b,V,"","\\nwarrow",!0),m(v,b,V,"","\\rightleftharpoons",!0),m(v,N,V,"","\\nless",!0),m(v,N,V,"","\\@nleqslant"),m(v,N,V,"","\\@nleqq"),m(v,N,V,"","\\lneq",!0),m(v,N,V,"","\\lneqq",!0),m(v,N,V,"","\\@lvertneqq"),m(v,N,V,"","\\lnsim",!0),m(v,N,V,"","\\lnapprox",!0),m(v,N,V,"","\\nprec",!0),m(v,N,V,"","\\npreceq",!0),m(v,N,V,"","\\precnsim",!0),m(v,N,V,"","\\precnapprox",!0),m(v,N,V,"","\\nsim",!0),m(v,N,V,"","\\@nshortmid"),m(v,N,V,"","\\nmid",!0),m(v,N,V,"","\\nvdash",!0),m(v,N,V,"","\\nvDash",!0),m(v,N,V,"","\\ntriangleleft"),m(v,N,V,"","\\ntrianglelefteq",!0),m(v,N,V,"","\\subsetneq",!0),m(v,N,V,"","\\@varsubsetneq"),m(v,N,V,"","\\subsetneqq",!0),m(v,N,V,"","\\@varsubsetneqq"),m(v,N,V,"","\\ngtr",!0),m(v,N,V,"","\\@ngeqslant"),m(v,N,V,"","\\@ngeqq"),m(v,N,V,"","\\gneq",!0),m(v,N,V,"","\\gneqq",!0),m(v,N,V,"","\\@gvertneqq"),m(v,N,V,"","\\gnsim",!0),m(v,N,V,"","\\gnapprox",!0),m(v,N,V,"","\\nsucc",!0),m(v,N,V,"","\\nsucceq",!0),m(v,N,V,"","\\succnsim",!0),m(v,N,V,"","\\succnapprox",!0),m(v,N,V,"","\\ncong",!0),m(v,N,V,"","\\@nshortparallel"),m(v,N,V,"","\\nparallel",!0),m(v,N,V,"","\\nVDash",!0),m(v,N,V,"","\\ntriangleright"),m(v,N,V,"","\\ntrianglerighteq",!0),m(v,N,V,"","\\@nsupseteqq"),m(v,N,V,"","\\supsetneq",!0),m(v,N,V,"","\\@varsupsetneq"),m(v,N,V,"","\\supsetneqq",!0),m(v,N,V,"","\\@varsupsetneqq"),m(v,N,V,"","\\nVdash",!0),m(v,N,V,"","\\precneqq",!0),m(v,N,V,"","\\succneqq",!0),m(v,N,V,"","\\@nsubseteqq"),m(v,N,pe,"","\\unlhd"),m(v,N,pe,"","\\unrhd"),m(v,N,V,"","\\nleftarrow",!0),m(v,N,V,"","\\nrightarrow",!0),m(v,N,V,"","\\nLeftarrow",!0),m(v,N,V,"","\\nRightarrow",!0),m(v,N,V,"","\\nleftrightarrow",!0),m(v,N,V,"","\\nLeftrightarrow",!0),m(v,N,V,"","\\vartriangle"),m(v,N,U,"","\\hslash"),m(v,N,U,"","\\triangledown"),m(v,N,U,"","\\lozenge"),m(v,N,U,"","\\circledS"),m(v,N,U,"","\\circledR"),m(re,N,U,"","\\circledR"),m(v,N,U,"","\\measuredangle",!0),m(v,N,U,"","\\nexists"),m(v,N,U,"","\\mho"),m(v,N,U,"","\\Finv",!0),m(v,N,U,"","\\Game",!0),m(v,N,U,"","\\backprime"),m(v,N,U,"","\\blacktriangle"),m(v,N,U,"","\\blacktriangledown"),m(v,N,U,"","\\blacksquare"),m(v,N,U,"","\\blacklozenge"),m(v,N,U,"","\\bigstar"),m(v,N,U,"","\\sphericalangle",!0),m(v,N,U,"","\\complement",!0),m(v,N,U,"","\\eth",!0),m(re,b,U,"",""),m(v,N,U,"","\\diagup"),m(v,N,U,"","\\diagdown"),m(v,N,U,"","\\square"),m(v,N,U,"","\\Box"),m(v,N,U,"","\\Diamond"),m(v,N,U,"","\\yen",!0),m(re,N,U,"","\\yen",!0),m(v,N,U,"","\\checkmark",!0),m(re,N,U,"","\\checkmark"),m(v,N,U,"","\\beth",!0),m(v,N,U,"","\\daleth",!0),m(v,N,U,"","\\gimel",!0),m(v,N,U,"","\\digamma",!0),m(v,N,U,"","\\varkappa"),m(v,N,He,"","\\@ulcorner",!0),m(v,N,ne,"","\\@urcorner",!0),m(v,N,He,"","\\@llcorner",!0),m(v,N,ne,"","\\@lrcorner",!0),m(v,N,V,"","\\leqq",!0),m(v,N,V,"","\\leqslant",!0),m(v,N,V,"","\\eqslantless",!0),m(v,N,V,"","\\lesssim",!0),m(v,N,V,"","\\lessapprox",!0),m(v,N,V,"","\\approxeq",!0),m(v,N,pe,"","\\lessdot"),m(v,N,V,"","\\lll",!0),m(v,N,V,"","\\lessgtr",!0),m(v,N,V,"","\\lesseqgtr",!0),m(v,N,V,"","\\lesseqqgtr",!0),m(v,N,V,"","\\doteqdot"),m(v,N,V,"","\\risingdotseq",!0),m(v,N,V,"","\\fallingdotseq",!0),m(v,N,V,"","\\backsim",!0),m(v,N,V,"","\\backsimeq",!0),m(v,N,V,"","\\subseteqq",!0),m(v,N,V,"","\\Subset",!0),m(v,N,V,"","\\sqsubset",!0),m(v,N,V,"","\\preccurlyeq",!0),m(v,N,V,"","\\curlyeqprec",!0),m(v,N,V,"","\\precsim",!0),m(v,N,V,"","\\precapprox",!0),m(v,N,V,"","\\vartriangleleft"),m(v,N,V,"","\\trianglelefteq"),m(v,N,V,"","\\vDash",!0),m(v,N,V,"","\\Vvdash",!0),m(v,N,V,"","\\smallsmile"),m(v,N,V,"","\\smallfrown"),m(v,N,V,"","\\bumpeq",!0),m(v,N,V,"","\\Bumpeq",!0),m(v,N,V,"","\\geqq",!0),m(v,N,V,"","\\geqslant",!0),m(v,N,V,"","\\eqslantgtr",!0),m(v,N,V,"","\\gtrsim",!0),m(v,N,V,"","\\gtrapprox",!0),m(v,N,pe,"","\\gtrdot"),m(v,N,V,"","\\ggg",!0),m(v,N,V,"","\\gtrless",!0),m(v,N,V,"","\\gtreqless",!0),m(v,N,V,"","\\gtreqqless",!0),m(v,N,V,"","\\eqcirc",!0),m(v,N,V,"","\\circeq",!0),m(v,N,V,"","\\triangleq",!0),m(v,N,V,"","\\thicksim"),m(v,N,V,"","\\thickapprox"),m(v,N,V,"","\\supseteqq",!0),m(v,N,V,"","\\Supset",!0),m(v,N,V,"","\\sqsupset",!0),m(v,N,V,"","\\succcurlyeq",!0),m(v,N,V,"","\\curlyeqsucc",!0),m(v,N,V,"","\\succsim",!0),m(v,N,V,"","\\succapprox",!0),m(v,N,V,"","\\vartriangleright"),m(v,N,V,"","\\trianglerighteq"),m(v,N,V,"","\\Vdash",!0),m(v,N,V,"","\\shortmid"),m(v,N,V,"","\\shortparallel"),m(v,N,V,"","\\between",!0),m(v,N,V,"","\\pitchfork",!0),m(v,N,V,"","\\varpropto"),m(v,N,V,"","\\blacktriangleleft"),m(v,N,V,"","\\therefore",!0),m(v,N,V,"","\\backepsilon"),m(v,N,V,"","\\blacktriangleright"),m(v,N,V,"","\\because",!0),m(v,N,V,"","\\llless"),m(v,N,V,"","\\gggtr"),m(v,N,pe,"","\\lhd"),m(v,N,pe,"","\\rhd"),m(v,N,V,"","\\eqsim",!0),m(v,b,V,"","\\Join"),m(v,N,V,"","\\Doteq",!0),m(v,N,pe,"","\\dotplus",!0),m(v,N,pe,"","\\smallsetminus"),m(v,N,pe,"","\\Cap",!0),m(v,N,pe,"","\\Cup",!0),m(v,N,pe,"","\\doublebarwedge",!0),m(v,N,pe,"","\\boxminus",!0),m(v,N,pe,"","\\boxplus",!0),m(v,N,pe,"","\\divideontimes",!0),m(v,N,pe,"","\\ltimes",!0),m(v,N,pe,"","\\rtimes",!0),m(v,N,pe,"","\\leftthreetimes",!0),m(v,N,pe,"","\\rightthreetimes",!0),m(v,N,pe,"","\\curlywedge",!0),m(v,N,pe,"","\\curlyvee",!0),m(v,N,pe,"","\\circleddash",!0),m(v,N,pe,"","\\circledast",!0),m(v,N,pe,"","\\centerdot"),m(v,N,pe,"","\\intercal",!0),m(v,N,pe,"","\\doublecap"),m(v,N,pe,"","\\doublecup"),m(v,N,pe,"","\\boxtimes",!0),m(v,N,V,"","\\dashrightarrow",!0),m(v,N,V,"","\\dashleftarrow",!0),m(v,N,V,"","\\leftleftarrows",!0),m(v,N,V,"","\\leftrightarrows",!0),m(v,N,V,"","\\Lleftarrow",!0),m(v,N,V,"","\\twoheadleftarrow",!0),m(v,N,V,"","\\leftarrowtail",!0),m(v,N,V,"","\\looparrowleft",!0),m(v,N,V,"","\\leftrightharpoons",!0),m(v,N,V,"","\\curvearrowleft",!0),m(v,N,V,"","\\circlearrowleft",!0),m(v,N,V,"","\\Lsh",!0),m(v,N,V,"","\\upuparrows",!0),m(v,N,V,"","\\upharpoonleft",!0),m(v,N,V,"","\\downharpoonleft",!0),m(v,b,V,"","\\origof",!0),m(v,b,V,"","\\imageof",!0),m(v,N,V,"","\\multimap",!0),m(v,N,V,"","\\leftrightsquigarrow",!0),m(v,N,V,"","\\rightrightarrows",!0),m(v,N,V,"","\\rightleftarrows",!0),m(v,N,V,"","\\twoheadrightarrow",!0),m(v,N,V,"","\\rightarrowtail",!0),m(v,N,V,"","\\looparrowright",!0),m(v,N,V,"","\\curvearrowright",!0),m(v,N,V,"","\\circlearrowright",!0),m(v,N,V,"","\\Rsh",!0),m(v,N,V,"","\\downdownarrows",!0),m(v,N,V,"","\\upharpoonright",!0),m(v,N,V,"","\\downharpoonright",!0),m(v,N,V,"","\\rightsquigarrow",!0),m(v,N,V,"","\\leadsto"),m(v,N,V,"","\\Rrightarrow",!0),m(v,N,V,"","\\restriction"),m(v,b,U,"","`"),m(v,b,U,"$","\\$"),m(re,b,U,"$","\\$"),m(re,b,U,"$","\\textdollar"),m(v,b,U,"%","\\%"),m(re,b,U,"%","\\%"),m(v,b,U,"_","\\_"),m(re,b,U,"_","\\_"),m(re,b,U,"_","\\textunderscore"),m(v,b,U,"","\\angle",!0),m(v,b,U,"","\\infty",!0),m(v,b,U,"","\\prime"),m(v,b,U,"","\\triangle"),m(v,b,U,"","\\Gamma",!0),m(v,b,U,"","\\Delta",!0),m(v,b,U,"","\\Theta",!0),m(v,b,U,"","\\Lambda",!0),m(v,b,U,"","\\Xi",!0),m(v,b,U,"","\\Pi",!0),m(v,b,U,"","\\Sigma",!0),m(v,b,U,"","\\Upsilon",!0),m(v,b,U,"","\\Phi",!0),m(v,b,U,"","\\Psi",!0),m(v,b,U,"","\\Omega",!0),m(v,b,U,"A",""),m(v,b,U,"B",""),m(v,b,U,"E",""),m(v,b,U,"Z",""),m(v,b,U,"H",""),m(v,b,U,"I",""),m(v,b,U,"K",""),m(v,b,U,"M",""),m(v,b,U,"N",""),m(v,b,U,"O",""),m(v,b,U,"P",""),m(v,b,U,"T",""),m(v,b,U,"X",""),m(v,b,U,"","\\neg",!0),m(v,b,U,"","\\lnot"),m(v,b,U,"","\\top"),m(v,b,U,"","\\bot"),m(v,b,U,"","\\emptyset"),m(v,N,U,"","\\varnothing"),m(v,b,ie,"","\\alpha",!0),m(v,b,ie,"","\\beta",!0),m(v,b,ie,"","\\gamma",!0),m(v,b,ie,"","\\delta",!0),m(v,b,ie,"","\\epsilon",!0),m(v,b,ie,"","\\zeta",!0),m(v,b,ie,"","\\eta",!0),m(v,b,ie,"","\\theta",!0),m(v,b,ie,"","\\iota",!0),m(v,b,ie,"","\\kappa",!0),m(v,b,ie,"","\\lambda",!0),m(v,b,ie,"","\\mu",!0),m(v,b,ie,"","\\nu",!0),m(v,b,ie,"","\\xi",!0),m(v,b,ie,"","\\omicron",!0),m(v,b,ie,"","\\pi",!0),m(v,b,ie,"","\\rho",!0),m(v,b,ie,"","\\sigma",!0),m(v,b,ie,"","\\tau",!0),m(v,b,ie,"","\\upsilon",!0),m(v,b,ie,"","\\phi",!0),m(v,b,ie,"","\\chi",!0),m(v,b,ie,"","\\psi",!0),m(v,b,ie,"","\\omega",!0),m(v,b,ie,"","\\varepsilon",!0),m(v,b,ie,"","\\vartheta",!0),m(v,b,ie,"","\\varpi",!0),m(v,b,ie,"","\\varrho",!0),m(v,b,ie,"","\\varsigma",!0),m(v,b,ie,"","\\varphi",!0),m(v,b,pe,"","*",!0),m(v,b,pe,"+","+"),m(v,b,pe,"","-",!0),m(v,b,pe,"","\\cdot",!0),m(v,b,pe,"","\\circ",!0),m(v,b,pe,"","\\div",!0),m(v,b,pe,"","\\pm",!0),m(v,b,pe,"","\\times",!0),m(v,b,pe,"","\\cap",!0),m(v,b,pe,"","\\cup",!0),m(v,b,pe,"","\\setminus",!0),m(v,b,pe,"","\\land"),m(v,b,pe,"","\\lor"),m(v,b,pe,"","\\wedge",!0),m(v,b,pe,"","\\vee",!0),m(v,b,U,"","\\surd"),m(v,b,He,"","\\langle",!0),m(v,b,He,"","\\lvert"),m(v,b,He,"","\\lVert"),m(v,b,ne,"?","?"),m(v,b,ne,"!","!"),m(v,b,ne,"","\\rangle",!0),m(v,b,ne,"","\\rvert"),m(v,b,ne,"","\\rVert"),m(v,b,V,"=","="),m(v,b,V,":",":"),m(v,b,V,"","\\approx",!0),m(v,b,V,"","\\cong",!0),m(v,b,V,"","\\ge"),m(v,b,V,"","\\geq",!0),m(v,b,V,"","\\gets"),m(v,b,V,">","\\gt",!0),m(v,b,V,"","\\in",!0),m(v,b,V,"","\\@not"),m(v,b,V,"","\\subset",!0),m(v,b,V,"","\\supset",!0),m(v,b,V,"","\\subseteq",!0),m(v,b,V,"","\\supseteq",!0),m(v,N,V,"","\\nsubseteq",!0),m(v,N,V,"","\\nsupseteq",!0),m(v,b,V,"","\\models"),m(v,b,V,"","\\leftarrow",!0),m(v,b,V,"","\\le"),m(v,b,V,"","\\leq",!0),m(v,b,V,"<","\\lt",!0),m(v,b,V,"","\\rightarrow",!0),m(v,b,V,"","\\to"),m(v,N,V,"","\\ngeq",!0),m(v,N,V,"","\\nleq",!0),m(v,b,Kt,"","\\ "),m(v,b,Kt,"","\\space"),m(v,b,Kt,"","\\nobreakspace"),m(re,b,Kt,"","\\ "),m(re,b,Kt,""," "),m(re,b,Kt,"","\\space"),m(re,b,Kt,"","\\nobreakspace"),m(v,b,Kt,null,"\\nobreak"),m(v,b,Kt,null,"\\allowbreak"),m(v,b,Nr,",",","),m(v,b,Nr,";",";"),m(v,N,pe,"","\\barwedge",!0),m(v,N,pe,"","\\veebar",!0),m(v,b,pe,"","\\odot",!0),m(v,b,pe,"","\\oplus",!0),m(v,b,pe,"","\\otimes",!0),m(v,b,U,"","\\partial",!0),m(v,b,pe,"","\\oslash",!0),m(v,N,pe,"","\\circledcirc",!0),m(v,N,pe,"","\\boxdot",!0),m(v,b,pe,"","\\bigtriangleup"),m(v,b,pe,"","\\bigtriangledown"),m(v,b,pe,"","\\dagger"),m(v,b,pe,"","\\diamond"),m(v,b,pe,"","\\star"),m(v,b,pe,"","\\triangleleft"),m(v,b,pe,"","\\triangleright"),m(v,b,He,"{","\\{"),m(re,b,U,"{","\\{"),m(re,b,U,"{","\\textbraceleft"),m(v,b,ne,"}","\\}"),m(re,b,U,"}","\\}"),m(re,b,U,"}","\\textbraceright"),m(v,b,He,"{","\\lbrace"),m(v,b,ne,"}","\\rbrace"),m(v,b,He,"[","\\lbrack",!0),m(re,b,U,"[","\\lbrack",!0),m(v,b,ne,"]","\\rbrack",!0),m(re,b,U,"]","\\rbrack",!0),m(v,b,He,"(","\\lparen",!0),m(v,b,ne,")","\\rparen",!0),m(re,b,U,"<","\\textless",!0),m(re,b,U,">","\\textgreater",!0),m(v,b,He,"","\\lfloor",!0),m(v,b,ne,"","\\rfloor",!0),m(v,b,He,"","\\lceil",!0),m(v,b,ne,"","\\rceil",!0),m(v,b,U,"\\","\\backslash"),m(v,b,U,"","|"),m(v,b,U,"","\\vert"),m(re,b,U,"|","\\textbar",!0),m(v,b,U,"","\\|"),m(v,b,U,"","\\Vert"),m(re,b,U,"","\\textbardbl"),m(re,b,U,"~","\\textasciitilde"),m(re,b,U,"\\","\\textbackslash"),m(re,b,U,"^","\\textasciicircum"),m(v,b,V,"","\\uparrow",!0),m(v,b,V,"","\\Uparrow",!0),m(v,b,V,"","\\downarrow",!0),m(v,b,V,"","\\Downarrow",!0),m(v,b,V,"","\\updownarrow",!0),m(v,b,V,"","\\Updownarrow",!0),m(v,b,we,"","\\coprod"),m(v,b,we,"","\\bigvee"),m(v,b,we,"","\\bigwedge"),m(v,b,we,"","\\biguplus"),m(v,b,we,"","\\bigcap"),m(v,b,we,"","\\bigcup"),m(v,b,we,"","\\int"),m(v,b,we,"","\\intop"),m(v,b,we,"","\\iint"),m(v,b,we,"","\\iiint"),m(v,b,we,"","\\prod"),m(v,b,we,"","\\sum"),m(v,b,we,"","\\bigotimes"),m(v,b,we,"","\\bigoplus"),m(v,b,we,"","\\bigodot"),m(v,b,we,"","\\oint"),m(v,b,we,"","\\oiint"),m(v,b,we,"","\\oiiint"),m(v,b,we,"","\\bigsqcup"),m(v,b,we,"","\\smallint"),m(re,b,ge,"","\\textellipsis"),m(v,b,ge,"","\\mathellipsis"),m(re,b,ge,"","\\ldots",!0),m(v,b,ge,"","\\ldots",!0),m(v,b,ge,"","\\@cdots",!0),m(v,b,ge,"","\\ddots",!0),m(v,b,U,"","\\varvdots"),m(re,b,U,"","\\varvdots"),m(v,b,it,"","\\acute"),m(v,b,it,"","\\grave"),m(v,b,it,"","\\ddot"),m(v,b,it,"~","\\tilde"),m(v,b,it,"","\\bar"),m(v,b,it,"","\\breve"),m(v,b,it,"","\\check"),m(v,b,it,"^","\\hat"),m(v,b,it,"","\\vec"),m(v,b,it,"","\\dot"),m(v,b,it,"","\\mathring"),m(v,b,ie,"","\\@imath"),m(v,b,ie,"","\\@jmath"),m(v,b,U,"",""),m(v,b,U,"",""),m(re,b,U,"","\\i",!0),m(re,b,U,"","\\j",!0),m(re,b,U,"","\\ss",!0),m(re,b,U,"","\\ae",!0),m(re,b,U,"","\\oe",!0),m(re,b,U,"","\\o",!0),m(re,b,U,"","\\AE",!0),m(re,b,U,"","\\OE",!0),m(re,b,U,"","\\O",!0),m(re,b,it,"","\\'"),m(re,b,it,"","\\`"),m(re,b,it,"","\\^"),m(re,b,it,"","\\~"),m(re,b,it,"","\\="),m(re,b,it,"","\\u"),m(re,b,it,"","\\."),m(re,b,it,"","\\c"),m(re,b,it,"","\\r"),m(re,b,it,"","\\v"),m(re,b,it,"",'\\"'),m(re,b,it,"","\\H"),m(re,b,it,"","\\textcircled");const aa={"--":!0,"---":!0,"``":!0,"''":!0};m(re,b,U,"","--",!0),m(re,b,U,"","\\textendash"),m(re,b,U,"","---",!0),m(re,b,U,"","\\textemdash"),m(re,b,U,"","`",!0),m(re,b,U,"","\\textquoteleft"),m(re,b,U,"","'",!0),m(re,b,U,"","\\textquoteright"),m(re,b,U,"","``",!0),m(re,b,U,"","\\textquotedblleft"),m(re,b,U,"","''",!0),m(re,b,U,"","\\textquotedblright"),m(v,b,U,"","\\degree",!0),m(re,b,U,"","\\degree"),m(re,b,U,"","\\textdegree",!0),m(v,b,U,"","\\pounds"),m(v,b,U,"","\\mathsterling",!0),m(re,b,U,"","\\pounds"),m(re,b,U,"","\\textsterling",!0),m(v,N,U,"","\\maltese"),m(re,N,U,"","\\maltese");const jl='0123456789/@."';for(let a=0;a<jl.length;a++){const i=jl.charAt(a);m(v,b,U,i,i)}const mi='0123456789!@*()-=+";:?/.,';for(let a=0;a<mi.length;a++){const i=mi.charAt(a);m(re,b,U,i,i)}const pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<pi.length;a++){const i=pi.charAt(a);m(v,b,ie,i,i),m(re,b,U,i,i)}m(v,N,U,"C",""),m(re,N,U,"C",""),m(v,N,U,"H",""),m(re,N,U,"H",""),m(v,N,U,"N",""),m(re,N,U,"N",""),m(v,N,U,"P",""),m(re,N,U,"P",""),m(v,N,U,"Q",""),m(re,N,U,"Q",""),m(v,N,U,"R",""),m(re,N,U,"R",""),m(v,N,U,"Z",""),m(re,N,U,"Z",""),m(v,b,ie,"h",""),m(re,b,ie,"h","");let Ae="";for(let a=0;a<pi.length;a++){const i=pi.charAt(a);Ae=String.fromCharCode(55349,56320+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56372+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56424+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56580+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56684+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56736+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56788+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56840+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56944+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),a<26&&(Ae=String.fromCharCode(55349,56632+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,56476+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae))}Ae="",m(v,b,ie,"k",Ae),m(re,b,U,"k",Ae);for(let a=0;a<10;a++){const i=a.toString();Ae=String.fromCharCode(55349,57294+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,57314+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,57324+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae),Ae=String.fromCharCode(55349,57334+a),m(v,b,ie,i,Ae),m(re,b,U,i,Ae)}const Zr="";for(let a=0;a<Zr.length;a++){const i=Zr.charAt(a);m(v,b,ie,i,i),m(re,b,U,i,i)}const Jn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Yi=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],ic=function(a,i){const l=a.charCodeAt(0),h=a.charCodeAt(1),f=(l-55296)*1024+(h-56320)+65536,y=i==="math"?0:1;if(119808<=f&&f<120484){const _=Math.floor((f-119808)/26);return[Jn[_][2],Jn[_][y]]}else if(120782<=f&&f<=120831){const _=Math.floor((f-120782)/10);return[Yi[_][2],Yi[_][y]]}else{if(f===120485||f===120486)return[Jn[0][2],Jn[0][y]];if(120486<f&&f<120782)return["",""];throw new o("Unsupported character: "+a)}};class Cs{constructor(i){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=i,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createDocumentFragment();for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i}toText(){const i=l=>l.toText();return this.children.map(i).join("")}}const gi=function(a,i,l){return Ye[l][a]&&Ye[l][a].replace&&(a=Ye[l][a].replace),{value:a,metrics:ks(a,i,l)}},Tn=function(a,i,l,h,f){const y=gi(a,i,l),_=y.metrics;a=y.value;let S;if(_){let I=_.italic;(l==="text"||h&&h.font==="mathit")&&(I=0),S=new qt(a,_.height,_.depth,I,_.skew,_.width,f)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+a+"' in style '"+i+"' and mode '"+l+"'")),S=new qt(a,0,0,0,0,0,f);if(h){S.maxFontSize=h.sizeMultiplier,h.style.isTight()&&S.classes.push("mtight");const I=h.getColor();I&&(S.style.color=I)}return S},la=function(a,i,l,h){return h===void 0&&(h=[]),l.font==="boldsymbol"&&gi(a,"Main-Bold",i).metrics?Tn(a,"Main-Bold",i,l,h.concat(["mathbf"])):a==="\\"||Ye[i][a].font==="main"?Tn(a,"Main-Regular",i,l,h):Tn(a,"AMS-Regular",i,l,h.concat(["amsrm"]))},ua=function(a,i,l,h,f){return f!=="textord"&&gi(a,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ul=function(a,i,l){const h=a.mode,f=a.text,y=["mord"],_=h==="math"||h==="text"&&i.font,S=_?i.font:i.fontFamily;let I="",B="";if(f.charCodeAt(0)===55349&&([I,B]=ic(f,h)),I.length>0)return Tn(f,I,h,i,y.concat(B));if(S){let W,K;if(S==="boldsymbol"){const Z=ua(f,h,i,y,l);W=Z.fontName,K=[Z.fontClass]}else _?(W=Rs[S].fontName,K=[S]):(W=ts(S,i.fontWeight,i.fontShape),K=[S,i.fontWeight,i.fontShape]);if(gi(f,W,h).metrics)return Tn(f,W,h,i,y.concat(K));if(aa.hasOwnProperty(f)&&W.slice(0,10)==="Typewriter"){const Z=[];for(let se=0;se<f.length;se++)Z.push(Tn(f[se],W,h,i,y.concat(K)));return Zn(Z)}}if(l==="mathord")return Tn(f,"Math-Italic",h,i,y.concat(["mathnormal"]));if(l==="textord"){const W=Ye[h][f]&&Ye[h][f].font;if(W==="ams"){const K=ts("amsrm",i.fontWeight,i.fontShape);return Tn(f,K,h,i,y.concat("amsrm",i.fontWeight,i.fontShape))}else if(W==="main"||!W){const K=ts("textrm",i.fontWeight,i.fontShape);return Tn(f,K,h,i,y.concat(i.fontWeight,i.fontShape))}else{const K=ts(W,i.fontWeight,i.fontShape);return Tn(f,K,h,i,y.concat(K,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},ql=(a,i)=>{if(Ln(a.classes)!==Ln(i.classes)||a.skew!==i.skew||a.maxFontSize!==i.maxFontSize)return!1;if(a.classes.length===1){const l=a.classes[0];if(l==="mbin"||l==="mord")return!1}for(const l in a.style)if(a.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;for(const l in i.style)if(i.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;return!0},oc=a=>{for(let i=0;i<a.length-1;i++){const l=a[i],h=a[i+1];l instanceof qt&&h instanceof qt&&ql(l,h)&&(l.text+=h.text,l.height=Math.max(l.height,h.height),l.depth=Math.max(l.depth,h.depth),l.italic=h.italic,a.splice(i+1,1),i--)}return a},ca=function(a){let i=0,l=0,h=0;for(let f=0;f<a.children.length;f++){const y=a.children[f];y.height>i&&(i=y.height),y.depth>l&&(l=y.depth),y.maxFontSize>h&&(h=y.maxFontSize)}a.height=i,a.depth=l,a.maxFontSize=h},Qt=function(a,i,l,h){const f=new Dt(a,i,l,h);return ca(f),f},ha=(a,i,l,h)=>new Dt(a,i,l,h),ac=function(a,i,l){const h=Qt([a],[],i);return h.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),h.style.borderBottomWidth=fe(h.height),h.maxFontSize=1,h},es=function(a,i,l,h){const f=new Xr(a,i,l,h);return ca(f),f},Zn=function(a){const i=new Cs(a);return ca(i),i},Ji=function(a,i){return a instanceof Cs?Qt([],[a],i):a},Zi=function(a){if(a.positionType==="individualShift"){const l=a.children,h=[l[0]],f=-l[0].shift-l[0].elem.depth;let y=f;for(let _=1;_<l.length;_++){const S=-l[_].shift-y-l[_].elem.depth,I=S-(l[_-1].elem.height+l[_-1].elem.depth);y=y+S,h.push({type:"kern",size:I}),h.push(l[_])}return{children:h,depth:f}}let i;if(a.positionType==="top"){let l=a.positionData;for(let h=0;h<a.children.length;h++){const f=a.children[h];l-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}i=l}else if(a.positionType==="bottom")i=-a.positionData;else{const l=a.children[0];if(l.type!=="elem")throw new Error('First child must have type "elem".');if(a.positionType==="shift")i=-l.elem.depth-a.positionData;else if(a.positionType==="firstBaseline")i=-l.elem.depth;else throw new Error("Invalid positionType "+a.positionType+".")}return{children:a.children,depth:i}},Hl=function(a,i){const{children:l,depth:h}=Zi(a);let f=0;for(let se=0;se<l.length;se++){const xe=l[se];if(xe.type==="elem"){const Ee=xe.elem;f=Math.max(f,Ee.maxFontSize,Ee.height)}}f+=2;const y=Qt(["pstrut"],[]);y.style.height=fe(f);const _=[];let S=h,I=h,B=h;for(let se=0;se<l.length;se++){const xe=l[se];if(xe.type==="kern")B+=xe.size;else{const Ee=xe.elem,Fe=xe.wrapperClasses||[],Ve=xe.wrapperStyle||{},je=Qt(Fe,[y,Ee],void 0,Ve);je.style.top=fe(-f-B-Ee.depth),xe.marginLeft&&(je.style.marginLeft=xe.marginLeft),xe.marginRight&&(je.style.marginRight=xe.marginRight),_.push(je),B+=Ee.height+Ee.depth}S=Math.min(S,B),I=Math.max(I,B)}const W=Qt(["vlist"],_);W.style.height=fe(I);let K;if(S<0){const se=Qt([],[]),xe=Qt(["vlist"],[se]);xe.style.height=fe(-S);const Ee=Qt(["vlist-s"],[new qt("")]);K=[Qt(["vlist-r"],[W,Ee]),Qt(["vlist-r"],[xe])]}else K=[Qt(["vlist-r"],[W])];const Z=Qt(["vlist-t"],K);return K.length===2&&Z.classes.push("vlist-t2"),Z.height=I,Z.depth=-S,Z},ot=(a,i)=>{const l=Qt(["mspace"],[],i),h=Xe(a,i);return l.style.marginRight=fe(h),l},ts=function(a,i,l){let h="";switch(a){case"amsrm":h="AMS";break;case"textrm":h="Main";break;case"textsf":h="SansSerif";break;case"texttt":h="Typewriter";break;default:h=a}let f;return i==="textbf"&&l==="textit"?f="BoldItalic":i==="textbf"?f="Bold":i==="textit"?f="Italic":f="Regular",h+"-"+f},Rs={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ns={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var X={fontMap:Rs,makeSymbol:Tn,mathsym:la,makeSpan:Qt,makeSvgSpan:ha,makeLineSpan:ac,makeAnchor:es,makeFragment:Zn,wrapFragment:Ji,makeVList:Hl,makeOrd:Ul,makeGlue:ot,staticSvg:function(a,i){const[l,h,f]=Ns[a],y=new Bn(l),_=new Vt([y],{width:fe(h),height:fe(f),style:"width:"+fe(h),viewBox:"0 0 "+1e3*h+" "+1e3*f,preserveAspectRatio:"xMinYMin"}),S=ha(["overlay"],[_],i);return S.height=f,S.style.height=fe(f),S.style.width=fe(h),S},svgData:Ns,tryCombineChars:oc};const ut={number:3,unit:"mu"},ns={number:4,unit:"mu"},fr={number:5,unit:"mu"},lc={mord:{mop:ut,mbin:ns,mrel:fr,minner:ut},mop:{mord:ut,mop:ut,mrel:fr,minner:ut},mbin:{mord:ns,mop:ns,mopen:ns,minner:ns},mrel:{mord:fr,mop:fr,mopen:fr,minner:fr},mopen:{},mclose:{mop:ut,mbin:ns,mrel:fr,minner:ut},mpunct:{mord:ut,mop:ut,mrel:fr,mopen:ut,mclose:ut,mpunct:ut,minner:ut},minner:{mord:ut,mop:ut,mbin:ns,mrel:fr,mopen:ut,mpunct:ut,minner:ut}},yi={mord:{mop:ut},mop:{mord:ut,mop:ut},mbin:{},mrel:{},mopen:{},mclose:{mop:ut},mpunct:{},minner:{mop:ut}},mr={},vi={},wi={};function ye(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:_}=a;const S={type:i,numArgs:h.numArgs,argTypes:h.argTypes,allowedInArgument:!!h.allowedInArgument,allowedInText:!!h.allowedInText,allowedInMath:h.allowedInMath===void 0?!0:h.allowedInMath,numOptionalArgs:h.numOptionalArgs||0,infix:!!h.infix,primitive:!!h.primitive,handler:f};for(let I=0;I<l.length;++I)mr[l[I]]=S;i&&(y&&(vi[i]=y),_&&(wi[i]=_))}function kn(a){let{type:i,htmlBuilder:l,mathmlBuilder:h}=a;ye({type:i,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:l,mathmlBuilder:h})}const eo=function(a){return a.type==="ordgroup"&&a.body.length===1?a.body[0]:a},yt=function(a){return a.type==="ordgroup"?a.body:[a]},pr=X.makeSpan,Pr=["leftmost","mbin","mopen","mrel","mop","mpunct"],uc=["rightmost","mrel","mclose","mpunct"],cc={display:ce.DISPLAY,text:ce.TEXT,script:ce.SCRIPT,scriptscript:ce.SCRIPTSCRIPT},to={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ft=function(a,i,l,h){h===void 0&&(h=[null,null]);const f=[];for(let B=0;B<a.length;B++){const W=Te(a[B],i);if(W instanceof Cs){const K=W.children;f.push(...K)}else f.push(W)}if(X.tryCombineChars(f),!l)return f;let y=i;if(a.length===1){const B=a[0];B.type==="sizing"?y=i.havingSize(B.size):B.type==="styling"&&(y=i.havingStyle(cc[B.style]))}const _=pr([h[0]||"leftmost"],[],i),S=pr([h[1]||"rightmost"],[],i),I=l==="root";return no(f,(B,W)=>{const K=W.classes[0],Z=B.classes[0];K==="mbin"&&uc.includes(Z)?W.classes[0]="mord":Z==="mbin"&&Pr.includes(K)&&(B.classes[0]="mord")},{node:_},S,I),no(f,(B,W)=>{const K=ro(W),Z=ro(B),se=K&&Z?B.hasClass("mtight")?yi[K][Z]:lc[K][Z]:null;if(se)return X.makeGlue(se,y)},{node:_},S,I),f},no=function(a,i,l,h,f){h&&a.push(h);let y=0;for(;y<a.length;y++){const _=a[y],S=Ps(_);if(S){no(S.children,i,l,null,f);continue}const I=!_.hasClass("mspace");if(I){const B=i(_,l.node);B&&(l.insertAfter?l.insertAfter(B):(a.unshift(B),y++))}I?l.node=_:f&&_.hasClass("newline")&&(l.node=pr(["leftmost"])),l.insertAfter=(B=>W=>{a.splice(B+1,0,W),y++})(y)}h&&a.pop()},Ps=function(a){return a instanceof Cs||a instanceof Xr||a instanceof Dt&&a.hasClass("enclosing")?a:null},rs=function(a,i){const l=Ps(a);if(l){const h=l.children;if(h.length){if(i==="right")return rs(h[h.length-1],"right");if(i==="left")return rs(h[0],"left")}}return a},ro=function(a,i){return a?(i&&(a=rs(a,i)),to[a.classes[0]]||null):null},ss=function(a,i){const l=["nulldelimiter"].concat(a.baseSizingClasses());return pr(i.concat(l))},Te=function(a,i,l){if(!a)return pr();if(vi[a.type]){let h=vi[a.type](a,i);if(l&&i.size!==l.size){h=pr(i.sizingClasses(l),[h],i);const f=i.sizeMultiplier/l.sizeMultiplier;h.height*=f,h.depth*=f}return h}else throw new o("Got group of unknown type: '"+a.type+"'")};function so(a,i){const l=pr(["base"],a,i),h=pr(["strut"]);return h.style.height=fe(l.height+l.depth),l.depth&&(h.style.verticalAlign=fe(-l.depth)),l.children.unshift(h),l}function da(a,i){let l=null;a.length===1&&a[0].type==="tag"&&(l=a[0].tag,a=a[0].body);const h=ft(a,i,"root");let f;h.length===2&&h[1].hasClass("tag")&&(f=h.pop());const y=[];let _=[];for(let B=0;B<h.length;B++)if(_.push(h[B]),h[B].hasClass("mbin")||h[B].hasClass("mrel")||h[B].hasClass("allowbreak")){let W=!1;for(;B<h.length-1&&h[B+1].hasClass("mspace")&&!h[B+1].hasClass("newline");)B++,_.push(h[B]),h[B].hasClass("nobreak")&&(W=!0);W||(y.push(so(_,i)),_=[])}else h[B].hasClass("newline")&&(_.pop(),_.length>0&&(y.push(so(_,i)),_=[]),y.push(h[B]));_.length>0&&y.push(so(_,i));let S;l?(S=so(ft(l,i,!0)),S.classes=["tag"],y.push(S)):f&&y.push(f);const I=pr(["katex-html"],y);if(I.setAttribute("aria-hidden","true"),S){const B=S.children[0];B.style.height=fe(I.height+I.depth),I.depth&&(B.style.verticalAlign=fe(-I.depth))}return I}function fa(a){return new Cs(a)}class on{constructor(i,l,h){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=i,this.attributes={},this.children=l||[],this.classes=h||[]}setAttribute(i,l){this.attributes[i]=l}getAttribute(i){return this.attributes[i]}toNode(){const i=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);this.classes.length>0&&(i.className=Ln(this.classes));for(let l=0;l<this.children.length;l++)if(this.children[l]instanceof jn&&this.children[l+1]instanceof jn){let h=this.children[l].toText()+this.children[++l].toText();for(;this.children[l+1]instanceof jn;)h+=this.children[++l].toText();i.appendChild(new jn(h).toNode())}else i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="<"+this.type;for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="',i+=G.escape(this.attributes[l]),i+='"');this.classes.length>0&&(i+=' class ="'+G.escape(Ln(this.classes))+'"'),i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</"+this.type+">",i}toText(){return this.children.map(i=>i.toText()).join("")}}class jn{constructor(i){this.text=void 0,this.text=i}toNode(){return document.createTextNode(this.text)}toMarkup(){return G.escape(this.toText())}toText(){return this.text}}class io{constructor(i){this.width=void 0,this.character=void 0,this.width=i,i>=.05555&&i<=.05556?this.character="":i>=.1666&&i<=.1667?this.character="":i>=.2222&&i<=.2223?this.character="":i>=.2777&&i<=.2778?this.character="":i>=-.05556&&i<=-.05555?this.character="":i>=-.1667&&i<=-.1666?this.character="":i>=-.2223&&i<=-.2222?this.character="":i>=-.2778&&i<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const i=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return i.setAttribute("width",fe(this.width)),i}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var oe={MathNode:on,TextNode:jn,SpaceNode:io,newDocumentFragment:fa};const St=function(a,i,l){return Ye[i][a]&&Ye[i][a].replace&&a.charCodeAt(0)!==55349&&!(aa.hasOwnProperty(a)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(a=Ye[i][a].replace),new oe.TextNode(a)},oo=function(a){return a.length===1?a[0]:new oe.MathNode("mrow",a)},ma=function(a,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";const l=i.font;if(!l||l==="mathnormal")return null;const h=a.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return a.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";let f=a.text;if(["\\imath","\\jmath"].includes(f))return null;Ye[h][f]&&Ye[h][f].replace&&(f=Ye[h][f].replace);const y=X.fontMap[l].fontName;return ks(f,y,h)?X.fontMap[l].variant:null};function is(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){const i=a.children[0];return i instanceof jn&&i.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){const i=a.children[0];return i instanceof jn&&i.text===","}else return!1}const Xt=function(a,i,l){if(a.length===1){const y=Ke(a[0],i);return l&&y instanceof on&&y.type==="mo"&&(y.setAttribute("lspace","0em"),y.setAttribute("rspace","0em")),[y]}const h=[];let f;for(let y=0;y<a.length;y++){const _=Ke(a[y],i);if(_ instanceof on&&f instanceof on){if(_.type==="mtext"&&f.type==="mtext"&&_.getAttribute("mathvariant")===f.getAttribute("mathvariant")){f.children.push(..._.children);continue}else if(_.type==="mn"&&f.type==="mn"){f.children.push(..._.children);continue}else if(is(_)&&f.type==="mn"){f.children.push(..._.children);continue}else if(_.type==="mn"&&is(f))_.children=[...f.children,..._.children],h.pop();else if((_.type==="msup"||_.type==="msub")&&_.children.length>=1&&(f.type==="mn"||is(f))){const S=_.children[0];S instanceof on&&S.type==="mn"&&(S.children=[...f.children,...S.children],h.pop())}else if(f.type==="mi"&&f.children.length===1){const S=f.children[0];if(S instanceof jn&&S.text===""&&(_.type==="mo"||_.type==="mi"||_.type==="mn")){const I=_.children[0];I instanceof jn&&I.text.length>0&&(I.text=I.text.slice(0,1)+""+I.text.slice(1),h.pop())}}}h.push(_),f=_}return h},er=function(a,i,l){return oo(Xt(a,i,l))},Ke=function(a,i){if(!a)return new oe.MathNode("mrow");if(wi[a.type])return wi[a.type](a,i);throw new o("Got group of unknown type: '"+a.type+"'")};function pa(a,i,l,h,f){const y=Xt(a,l);let _;y.length===1&&y[0]instanceof on&&["mrow","mtable"].includes(y[0].type)?_=y[0]:_=new oe.MathNode("mrow",y);const S=new oe.MathNode("annotation",[new oe.TextNode(i)]);S.setAttribute("encoding","application/x-tex");const I=new oe.MathNode("semantics",[_,S]),B=new oe.MathNode("math",[I]);B.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),h&&B.setAttribute("display","block");const W=f?"katex":"katex-mathml";return X.makeSpan([W],[B])}const xi=function(a){return new Xn({style:a.displayMode?ce.DISPLAY:ce.TEXT,maxSize:a.maxSize,minRuleThickness:a.minRuleThickness})},$l=function(a,i){if(i.displayMode){const l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),a=X.makeSpan(l,[a])}return a},Wl=function(a,i,l){const h=xi(l);let f;if(l.output==="mathml")return pa(a,i,h,l.displayMode,!0);if(l.output==="html"){const y=da(a,h);f=X.makeSpan(["katex"],[y])}else{const y=pa(a,i,h,l.displayMode,!1),_=da(a,h);f=X.makeSpan(["katex"],[y,_])}return $l(f,l)},_i=function(a,i,l){const h=xi(l),f=da(a,h),y=X.makeSpan(["katex"],[f]);return $l(y,l)},Gl={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Kl=function(a){const i=new oe.MathNode("mo",[new oe.TextNode(Gl[a.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},ga={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ya=function(a){return a.type==="ordgroup"?a.body.length:1};var tr={encloseSpan:function(a,i,l,h,f){let y;const _=a.height+a.depth+l+h;if(/fbox|color|angl/.test(i)){if(y=X.makeSpan(["stretchy",i],[],f),i==="fbox"){const S=f.color&&f.getColor();S&&(y.style.borderColor=S)}}else{const S=[];/^[bx]cancel$/.test(i)&&S.push(new Yn({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&S.push(new Yn({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const I=new Vt(S,{width:"100%",height:fe(_)});y=X.makeSvgSpan([],[I],f)}return y.height=_,y.style.height=fe(_),y},mathMLnode:Kl,svgSpan:function(a,i){function l(){let _=4e5;const S=a.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(S)){const B=ya(a.base);let W,K,Z;if(B>5)S==="widehat"||S==="widecheck"?(W=420,_=2364,Z=.42,K=S+"4"):(W=312,_=2340,Z=.34,K="tilde4");else{const Ee=[1,1,2,2,3,3][B];S==="widehat"||S==="widecheck"?(_=[0,1062,2364,2364,2364][Ee],W=[0,239,300,360,420][Ee],Z=[0,.24,.3,.3,.36,.42][Ee],K=S+Ee):(_=[0,600,1033,2339,2340][Ee],W=[0,260,286,306,312][Ee],Z=[0,.26,.286,.3,.306,.34][Ee],K="tilde"+Ee)}const se=new Bn(K),xe=new Vt([se],{width:"100%",height:fe(Z),viewBox:"0 0 "+_+" "+W,preserveAspectRatio:"none"});return{span:X.makeSvgSpan([],[xe],i),minWidth:0,height:Z}}else{const I=[],B=ga[S],[W,K,Z]=B,se=Z/1e3,xe=W.length;let Ee,Fe;if(xe===1){const Ve=B[3];Ee=["hide-tail"],Fe=[Ve]}else if(xe===2)Ee=["halfarrow-left","halfarrow-right"],Fe=["xMinYMin","xMaxYMin"];else if(xe===3)Ee=["brace-left","brace-center","brace-right"],Fe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+xe+" children.");for(let Ve=0;Ve<xe;Ve++){const je=new Bn(W[Ve]),Je=new Vt([je],{width:"400em",height:fe(se),viewBox:"0 0 "+_+" "+Z,preserveAspectRatio:Fe[Ve]+" slice"}),at=X.makeSvgSpan([Ee[Ve]],[Je],i);if(xe===1)return{span:at,minWidth:K,height:se};at.style.height=fe(se),I.push(at)}return{span:X.makeSpan(["stretchy"],I,i),minWidth:K,height:se}}}const{span:h,minWidth:f,height:y}=l();return h.height=y,h.style.height=fe(y),f>0&&(h.style.minWidth=fe(f)),h}};function Ne(a,i){if(!a||a.type!==i)throw new Error("Expected node of type "+i+", but got "+(a?"node of type "+a.type:String(a)));return a}function gr(a){const i=bi(a);if(!i)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return i}function bi(a){return a&&(a.type==="atom"||zt.hasOwnProperty(a.type))?a:null}const ao=(a,i)=>{let l,h,f;a&&a.type==="supsub"?(h=Ne(a.base,"accent"),l=h.base,a.base=l,f=Yr(Te(a,i)),a.base=h):(h=Ne(a,"accent"),l=h.base);const y=Te(l,i.havingCrampedStyle()),_=h.isShifty&&G.isCharacterBox(l);let S=0;if(_){const Z=G.getBaseElem(l),se=Te(Z,i.havingCrampedStyle());S=Rr(se).skew}const I=h.label==="\\c";let B=I?y.height+y.depth:Math.min(y.height,i.fontMetrics().xHeight),W;if(h.isStretchy)W=tr.svgSpan(h,i),W=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"elem",elem:W,wrapperClasses:["svg-align"],wrapperStyle:S>0?{width:"calc(100% - "+fe(2*S)+")",marginLeft:fe(2*S)}:void 0}]},i);else{let Z,se;h.label==="\\vec"?(Z=X.staticSvg("vec",i),se=X.svgData.vec[1]):(Z=X.makeOrd({mode:h.mode,text:h.label},i,"textord"),Z=Rr(Z),Z.italic=0,se=Z.width,I&&(B+=Z.depth)),W=X.makeSpan(["accent-body"],[Z]);const xe=h.label==="\\textcircled";xe&&(W.classes.push("accent-full"),B=y.height);let Ee=S;xe||(Ee-=se/2),W.style.left=fe(Ee),h.label==="\\textcircled"&&(W.style.top=".2em"),W=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:-B},{type:"elem",elem:W}]},i)}const K=X.makeSpan(["mord","accent"],[W],i);return f?(f.children[0]=K,f.height=Math.max(K.height,f.height),f.classes[0]="mord",f):K},wa=(a,i)=>{const l=a.isStretchy?tr.mathMLnode(a.label):new oe.MathNode("mo",[St(a.label,a.mode)]),h=new oe.MathNode("mover",[Ke(a.base,i),l]);return h.setAttribute("accent","true"),h},Ql=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));ye({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,i)=>{const l=eo(i[0]),h=!Ql.test(a.funcName),f=!h||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:h,isShifty:f,base:l}},htmlBuilder:ao,mathmlBuilder:wa}),ye({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,i)=>{const l=i[0];let h=a.parser.mode;return h==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),h="text"),{type:"accent",mode:h,label:a.funcName,isStretchy:!1,isShifty:!0,base:l}},htmlBuilder:ao,mathmlBuilder:wa}),ye({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"accentUnder",mode:l.mode,label:h,base:f}},htmlBuilder:(a,i)=>{const l=Te(a.base,i),h=tr.svgSpan(a,i),f=a.label==="\\utilde"?.12:0,y=X.makeVList({positionType:"top",positionData:l.height,children:[{type:"elem",elem:h,wrapperClasses:["svg-align"]},{type:"kern",size:f},{type:"elem",elem:l}]},i);return X.makeSpan(["mord","accentunder"],[y],i)},mathmlBuilder:(a,i)=>{const l=tr.mathMLnode(a.label),h=new oe.MathNode("munder",[Ke(a.base,i),l]);return h.setAttribute("accentunder","true"),h}});const os=a=>{const i=new oe.MathNode("mpadded",a?[a]:[]);return i.setAttribute("width","+0.6em"),i.setAttribute("lspace","0.3em"),i};ye({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h,funcName:f}=a;return{type:"xArrow",mode:h.mode,label:f,body:i[0],below:l[0]}},htmlBuilder(a,i){const l=i.style;let h=i.havingStyle(l.sup());const f=X.wrapFragment(Te(a.body,h,i),i),y=a.label.slice(0,2)==="\\x"?"x":"cd";f.classes.push(y+"-arrow-pad");let _;a.below&&(h=i.havingStyle(l.sub()),_=X.wrapFragment(Te(a.below,h,i),i),_.classes.push(y+"-arrow-pad"));const S=tr.svgSpan(a,i),I=-i.fontMetrics().axisHeight+.5*S.height;let B=-i.fontMetrics().axisHeight-.5*S.height-.111;(f.depth>.25||a.label==="\\xleftequilibrium")&&(B-=f.depth);let W;if(_){const K=-i.fontMetrics().axisHeight+_.height+.5*S.height+.111;W=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:S,shift:I},{type:"elem",elem:_,shift:K}]},i)}else W=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:S,shift:I}]},i);return W.children[0].children[0].children[1].classes.push("svg-align"),X.makeSpan(["mrel","x-arrow"],[W],i)},mathmlBuilder(a,i){const l=tr.mathMLnode(a.label);l.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");let h;if(a.body){const f=os(Ke(a.body,i));if(a.below){const y=os(Ke(a.below,i));h=new oe.MathNode("munderover",[l,y,f])}else h=new oe.MathNode("mover",[l,f])}else if(a.below){const f=os(Ke(a.below,i));h=new oe.MathNode("munder",[l,f])}else h=os(),h=new oe.MathNode("mover",[l,h]);return h}});const yn=X.makeSpan;function xa(a,i){const l=ft(a.body,i,!0);return yn([a.mclass],l,i)}function _a(a,i){let l;const h=Xt(a.body,i);return a.mclass==="minner"?l=new oe.MathNode("mpadded",h):a.mclass==="mord"?a.isCharacterBox?(l=h[0],l.type="mi"):l=new oe.MathNode("mi",h):(a.isCharacterBox?(l=h[0],l.type="mo"):l=new oe.MathNode("mo",h),a.mclass==="mbin"?(l.attributes.lspace="0.22em",l.attributes.rspace="0.22em"):a.mclass==="mpunct"?(l.attributes.lspace="0em",l.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(l.attributes.lspace="0em",l.attributes.rspace="0em"):a.mclass==="minner"&&(l.attributes.lspace="0.0556em",l.attributes.width="+0.1111em")),l}ye({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"mclass",mode:l.mode,mclass:"m"+h.slice(5),body:yt(f),isCharacterBox:G.isCharacterBox(f)}},htmlBuilder:xa,mathmlBuilder:_a});const yr=a=>{const i=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return i.type==="atom"&&(i.family==="bin"||i.family==="rel")?"m"+i.family:"mord"};ye({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,i){let{parser:l}=a;return{type:"mclass",mode:l.mode,mclass:yr(i[0]),body:yt(i[1]),isCharacterBox:G.isCharacterBox(i[1])}}}),ye({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,i){let{parser:l,funcName:h}=a;const f=i[1],y=i[0];let _;h!=="\\stackrel"?_=yr(f):_="mrel";const S={type:"op",mode:f.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:h!=="\\stackrel",body:yt(f)},I={type:"supsub",mode:y.mode,base:S,sup:h==="\\underset"?null:y,sub:h==="\\underset"?y:null};return{type:"mclass",mode:l.mode,mclass:_,body:[I],isCharacterBox:G.isCharacterBox(I)}},htmlBuilder:xa,mathmlBuilder:_a}),ye({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"pmb",mode:l.mode,mclass:yr(i[0]),body:yt(i[0])}},htmlBuilder(a,i){const l=ft(a.body,i,!0),h=X.makeSpan([a.mclass],l,i);return h.style.textShadow="0.02em 0.01em 0.04px",h},mathmlBuilder(a,i){const l=Xt(a.body,i),h=new oe.MathNode("mstyle",l);return h.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),h}});const u={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},g=()=>({type:"styling",body:[],mode:"math",style:"display"}),w=a=>a.type==="textord"&&a.text==="@",A=(a,i)=>(a.type==="mathord"||a.type==="atom")&&a.text===i;function Q(a,i,l){const h=u[a];switch(h){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return l.callFunction(h,[i[0]],[i[1]]);case"\\uparrow":case"\\downarrow":{const f=l.callFunction("\\\\cdleft",[i[0]],[]),y={type:"atom",text:h,mode:"math",family:"rel"},_=l.callFunction("\\Big",[y],[]),S=l.callFunction("\\\\cdright",[i[1]],[]),I={type:"ordgroup",mode:"math",body:[f,_,S]};return l.callFunction("\\\\cdparent",[I],[])}case"\\\\cdlongequal":return l.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const f={type:"textord",text:"\\Vert",mode:"math"};return l.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ee(a){const i=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){i.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();const y=a.fetch().text;if(y==="&"||y==="\\\\")a.consume();else if(y==="\\end"){i[i.length-1].length===0&&i.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",a.nextToken)}let l=[];const h=[l];for(let y=0;y<i.length;y++){const _=i[y];let S=g();for(let I=0;I<_.length;I++)if(!w(_[I]))S.body.push(_[I]);else{l.push(S),I+=1;const B=gr(_[I]).text,W=new Array(2);if(W[0]={type:"ordgroup",mode:"math",body:[]},W[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(B)>-1))if("<>AV".indexOf(B)>-1)for(let se=0;se<2;se++){let xe=!0;for(let Ee=I+1;Ee<_.length;Ee++){if(A(_[Ee],B)){xe=!1,I=Ee;break}if(w(_[Ee]))throw new o("Missing a "+B+" character to complete a CD arrow.",_[Ee]);W[se].body.push(_[Ee])}if(xe)throw new o("Missing a "+B+" character to complete a CD arrow.",_[I])}else throw new o('Expected one of "<>AV=|." after @',_[I]);const Z={type:"styling",body:[Q(B,W,a)],mode:"math",style:"display"};l.push(Z),S=g()}y%2===0?l.push(S):l.shift(),l=[],h.push(l)}a.gullet.endGroup(),a.gullet.endGroup();const f=new Array(h[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:h,arraystretch:1,addJot:!0,rowGaps:[null],cols:f,colSeparationType:"CD",hLinesBeforeRow:new Array(h.length+1).fill([])}}ye({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"cdlabel",mode:l.mode,side:h.slice(4),label:i[0]}},htmlBuilder(a,i){const l=i.havingStyle(i.style.sup()),h=X.wrapFragment(Te(a.label,l,i),i);return h.classes.push("cd-label-"+a.side),h.style.bottom=fe(.8-h.depth),h.height=0,h.depth=0,h},mathmlBuilder(a,i){let l=new oe.MathNode("mrow",[Ke(a.label,i)]);return l=new oe.MathNode("mpadded",[l]),l.setAttribute("width","0"),a.side==="left"&&l.setAttribute("lspace","-1width"),l.setAttribute("voffset","0.7em"),l=new oe.MathNode("mstyle",[l]),l.setAttribute("displaystyle","false"),l.setAttribute("scriptlevel","1"),l}}),ye({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,i){let{parser:l}=a;return{type:"cdlabelparent",mode:l.mode,fragment:i[0]}},htmlBuilder(a,i){const l=X.wrapFragment(Te(a.fragment,i),i);return l.classes.push("cd-vert-arrow"),l},mathmlBuilder(a,i){return new oe.MathNode("mrow",[Ke(a.fragment,i)])}}),ye({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;const f=Ne(i[0],"ordgroup").body;let y="";for(let I=0;I<f.length;I++){const B=Ne(f[I],"textord");y+=B.text}let _=parseInt(y),S;if(isNaN(_))throw new o("\\@char has non-numeric argument "+y);if(_<0||_>=1114111)throw new o("\\@char with invalid code point "+y);return _<=65535?S=String.fromCharCode(_):(_-=65536,S=String.fromCharCode((_>>10)+55296,(_&1023)+56320)),{type:"textord",mode:l.mode,text:S}}});const me=(a,i)=>{const l=ft(a.body,i.withColor(a.color),!1);return X.makeFragment(l)},Ze=(a,i)=>{const l=Xt(a.body,i.withColor(a.color)),h=new oe.MathNode("mstyle",l);return h.setAttribute("mathcolor",a.color),h};ye({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,i){let{parser:l}=a;const h=Ne(i[0],"color-token").color,f=i[1];return{type:"color",mode:l.mode,color:h,body:yt(f)}},htmlBuilder:me,mathmlBuilder:Ze}),ye({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,i){let{parser:l,breakOnTokenText:h}=a;const f=Ne(i[0],"color-token").color;l.gullet.macros.set("\\current@color",f);const y=l.parseExpression(!0,h);return{type:"color",mode:l.mode,color:f,body:y}},htmlBuilder:me,mathmlBuilder:Ze}),ye({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,i,l){let{parser:h}=a;const f=h.gullet.future().text==="["?h.parseSizeGroup(!0):null,y=!h.settings.displayMode||!h.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:h.mode,newLine:y,size:f&&Ne(f,"size").value}},htmlBuilder(a,i){const l=X.makeSpan(["mspace"],[],i);return a.newLine&&(l.classes.push("newline"),a.size&&(l.style.marginTop=fe(Xe(a.size,i)))),l},mathmlBuilder(a,i){const l=new oe.MathNode("mspace");return a.newLine&&(l.setAttribute("linebreak","newline"),a.size&&l.setAttribute("height",fe(Xe(a.size,i)))),l}});const At={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Le=a=>{const i=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new o("Expected a control sequence",a);return i},Ht=a=>{let i=a.gullet.popToken();return i.text==="="&&(i=a.gullet.popToken(),i.text===" "&&(i=a.gullet.popToken())),i},Ot=(a,i,l,h)=>{let f=a.gullet.macros.get(l.text);f==null&&(l.noexpand=!0,f={tokens:[l],numArgs:0,unexpandable:!a.gullet.isExpandable(l.text)}),a.gullet.macros.set(i,f,h)};ye({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){let{parser:i,funcName:l}=a;i.consumeSpaces();const h=i.fetch();if(At[h.text])return(l==="\\global"||l==="\\\\globallong")&&(h.text=At[h.text]),Ne(i.parseFunction(),"internal");throw new o("Invalid token after macro prefix",h)}}),ye({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a,h=i.gullet.popToken();const f=h.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new o("Expected a control sequence",h);let y=0,_;const S=[[]];for(;i.gullet.future().text!=="{";)if(h=i.gullet.popToken(),h.text==="#"){if(i.gullet.future().text==="{"){_=i.gullet.future(),S[y].push("{");break}if(h=i.gullet.popToken(),!/^[1-9]$/.test(h.text))throw new o('Invalid argument number "'+h.text+'"');if(parseInt(h.text)!==y+1)throw new o('Argument number "'+h.text+'" out of order');y++,S.push([])}else{if(h.text==="EOF")throw new o("Expected a macro definition");S[y].push(h.text)}let{tokens:I}=i.gullet.consumeArg();return _&&I.unshift(_),(l==="\\edef"||l==="\\xdef")&&(I=i.gullet.expandTokens(I),I.reverse()),i.gullet.macros.set(f,{tokens:I,numArgs:y,delimiters:S},l===At[l]),{type:"internal",mode:i.mode}}}),ye({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=Le(i.gullet.popToken());i.gullet.consumeSpaces();const f=Ht(i);return Ot(i,h,f,l==="\\\\globallet"),{type:"internal",mode:i.mode}}}),ye({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=Le(i.gullet.popToken()),f=i.gullet.popToken(),y=i.gullet.popToken();return Ot(i,h,y,l==="\\\\globalfuture"),i.gullet.pushToken(y),i.gullet.pushToken(f),{type:"internal",mode:i.mode}}});const nr=function(a,i,l){const h=Ye.math[a]&&Ye.math[a].replace,f=ks(h||a,i,l);if(!f)throw new Error("Unsupported symbol "+a+" and font size "+i+".");return f},vn=function(a,i,l,h){const f=l.havingBaseStyle(i),y=X.makeSpan(h.concat(f.sizingClasses(l)),[a],l),_=f.sizeMultiplier/l.sizeMultiplier;return y.height*=_,y.depth*=_,y.maxFontSize=f.sizeMultiplier,y},Si=function(a,i,l){const h=i.havingBaseStyle(l),f=(1-i.sizeMultiplier/h.sizeMultiplier)*i.fontMetrics().axisHeight;a.classes.push("delimcenter"),a.style.top=fe(f),a.height-=f,a.depth+=f},ba=function(a,i,l,h,f,y){const _=X.makeSymbol(a,"Main-Regular",f,h),S=vn(_,i,h,y);return l&&Si(S,h,i),S},D3=function(a,i,l,h){return X.makeSymbol(a,"Size"+i+"-Regular",l,h)},_m=function(a,i,l,h,f,y){const _=D3(a,i,f,h),S=vn(X.makeSpan(["delimsizing","size"+i],[_],h),ce.TEXT,h,y);return l&&Si(S,h,ce.TEXT),S},dc=function(a,i,l){let h;return i==="Size1-Regular"?h="delim-size1":h="delim-size4",{type:"elem",elem:X.makeSpan(["delimsizinginner",h],[X.makeSpan([],[X.makeSymbol(a,i,l)])])}},fc=function(a,i,l){const h=En["Size4-Regular"][a.charCodeAt(0)]?En["Size4-Regular"][a.charCodeAt(0)][4]:En["Size1-Regular"][a.charCodeAt(0)][4],f=new Bn("inner",Kr(a,Math.round(1e3*i))),y=new Vt([f],{width:fe(h),height:fe(i),style:"width:"+fe(h),viewBox:"0 0 "+1e3*h+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),_=X.makeSvgSpan([],[y],l);return _.height=i,_.style.height=fe(i),_.style.width=fe(h),{type:"elem",elem:_}},mc=.008,Xl={type:"kern",size:-1*mc},V3=["|","\\lvert","\\rvert","\\vert"],z3=["\\|","\\lVert","\\rVert","\\Vert"],bm=function(a,i,l,h,f,y){let _,S,I,B,W="",K=0;_=I=B=a,S=null;let Z="Size1-Regular";a==="\\uparrow"?I=B="":a==="\\Uparrow"?I=B="":a==="\\downarrow"?_=I="":a==="\\Downarrow"?_=I="":a==="\\updownarrow"?(_="\\uparrow",I="",B="\\downarrow"):a==="\\Updownarrow"?(_="\\Uparrow",I="",B="\\Downarrow"):V3.includes(a)?(I="",W="vert",K=333):z3.includes(a)?(I="",W="doublevert",K=556):a==="["||a==="\\lbrack"?(_="",I="",B="",Z="Size4-Regular",W="lbrack",K=667):a==="]"||a==="\\rbrack"?(_="",I="",B="",Z="Size4-Regular",W="rbrack",K=667):a==="\\lfloor"||a===""?(I=_="",B="",Z="Size4-Regular",W="lfloor",K=667):a==="\\lceil"||a===""?(_="",I=B="",Z="Size4-Regular",W="lceil",K=667):a==="\\rfloor"||a===""?(I=_="",B="",Z="Size4-Regular",W="rfloor",K=667):a==="\\rceil"||a===""?(_="",I=B="",Z="Size4-Regular",W="rceil",K=667):a==="("||a==="\\lparen"?(_="",I="",B="",Z="Size4-Regular",W="lparen",K=875):a===")"||a==="\\rparen"?(_="",I="",B="",Z="Size4-Regular",W="rparen",K=875):a==="\\{"||a==="\\lbrace"?(_="",S="",B="",I="",Z="Size4-Regular"):a==="\\}"||a==="\\rbrace"?(_="",S="",B="",I="",Z="Size4-Regular"):a==="\\lgroup"||a===""?(_="",B="",I="",Z="Size4-Regular"):a==="\\rgroup"||a===""?(_="",B="",I="",Z="Size4-Regular"):a==="\\lmoustache"||a===""?(_="",B="",I="",Z="Size4-Regular"):(a==="\\rmoustache"||a==="")&&(_="",B="",I="",Z="Size4-Regular");const se=nr(_,Z,f),xe=se.height+se.depth,Ee=nr(I,Z,f),Fe=Ee.height+Ee.depth,Ve=nr(B,Z,f),je=Ve.height+Ve.depth;let Je=0,at=1;if(S!==null){const Et=nr(S,Z,f);Je=Et.height+Et.depth,at=2}const wn=xe+je+Je,Lt=Math.max(0,Math.ceil((i-wn)/(at*Fe))),rr=wn+Lt*at*Fe;let uo=h.fontMetrics().axisHeight;l&&(uo*=h.sizeMultiplier);const $e=rr/2-uo,tt=[];if(W.length>0){const Et=rr-xe-je,vt=Math.round(rr*1e3),sr=Ir(W,Math.round(Et*1e3)),l6=new Bn(W,sr),d1=(K/1e3).toFixed(3)+"em",f1=(vt/1e3).toFixed(3)+"em",u6=new Vt([l6],{width:d1,height:f1,viewBox:"0 0 "+K+" "+vt}),t0=X.makeSvgSpan([],[u6],h);t0.height=vt/1e3,t0.style.width=d1,t0.style.height=f1,tt.push({type:"elem",elem:t0})}else{if(tt.push(dc(B,Z,f)),tt.push(Xl),S===null){const Et=rr-xe-je+2*mc;tt.push(fc(I,Et,h))}else{const Et=(rr-xe-je-Je)/2+2*mc;tt.push(fc(I,Et,h)),tt.push(Xl),tt.push(dc(S,Z,f)),tt.push(Xl),tt.push(fc(I,Et,h))}tt.push(Xl),tt.push(dc(_,Z,f))}const ct=h.havingBaseStyle(ce.TEXT),mt=X.makeVList({positionType:"bottom",positionData:$e,children:tt},ct);return vn(X.makeSpan(["delimsizing","mult"],[mt],ct),ce.TEXT,h,y)},pc=80,gc=.08,yc=function(a,i,l,h,f){const y=ci(a,h,l),_=new Bn(a,y),S=new Vt([_],{width:"400em",height:fe(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return X.makeSvgSpan(["hide-tail"],[S],f)},O3=function(a,i){const l=i.havingBaseSizing(),h=km("\\surd",a*l.sizeMultiplier,Tm,l);let f=l.sizeMultiplier;const y=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness);let _,S=0,I=0,B=0,W;return h.type==="small"?(B=1e3+1e3*y+pc,a<1?f=1:a<1.4&&(f=.7),S=(1+y+gc)/f,I=(1+y)/f,_=yc("sqrtMain",S,B,y,i),_.style.minWidth="0.853em",W=.833/f):h.type==="large"?(B=(1e3+pc)*Sa[h.size],I=(Sa[h.size]+y)/f,S=(Sa[h.size]+y+gc)/f,_=yc("sqrtSize"+h.size,S,B,y,i),_.style.minWidth="1.02em",W=1/f):(S=a+y+gc,I=a+y,B=Math.floor(1e3*a+y)+pc,_=yc("sqrtTall",S,B,y,i),_.style.minWidth="0.742em",W=1.056),_.height=I,_.style.height=fe(S),{span:_,advanceWidth:W,ruleWidth:(i.fontMetrics().sqrtRuleThickness+y)*f}},Sm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],L3=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Em=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sa=[0,1.2,1.8,2.4,3],F3=function(a,i,l,h,f){if(a==="<"||a==="\\lt"||a===""?a="\\langle":(a===">"||a==="\\gt"||a==="")&&(a="\\rangle"),Sm.includes(a)||Em.includes(a))return _m(a,i,!1,l,h,f);if(L3.includes(a))return bm(a,Sa[i],!1,l,h,f);throw new o("Illegal delimiter: '"+a+"'")},B3=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],j3=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"stack"}],Tm=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],U3=function(a){if(a.type==="small")return"Main-Regular";if(a.type==="large")return"Size"+a.size+"-Regular";if(a.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+a.type+"' here.")},km=function(a,i,l,h){const f=Math.min(2,3-h.style.size);for(let y=f;y<l.length&&l[y].type!=="stack";y++){const _=nr(a,U3(l[y]),"math");let S=_.height+_.depth;if(l[y].type==="small"){const I=h.havingBaseStyle(l[y].style);S*=I.sizeMultiplier}if(S>i)return l[y]}return l[l.length-1]},Am=function(a,i,l,h,f,y){a==="<"||a==="\\lt"||a===""?a="\\langle":(a===">"||a==="\\gt"||a==="")&&(a="\\rangle");let _;Em.includes(a)?_=B3:Sm.includes(a)?_=Tm:_=j3;const S=km(a,i,_,h);return S.type==="small"?ba(a,S.style,l,h,f,y):S.type==="large"?_m(a,S.size,l,h,f,y):bm(a,i,l,h,f,y)};var as={sqrtImage:O3,sizedDelim:F3,sizeToMaxHeight:Sa,customSizedDelim:Am,leftRightDelim:function(a,i,l,h,f,y){const _=h.fontMetrics().axisHeight*h.sizeMultiplier,S=901,I=5/h.fontMetrics().ptPerEm,B=Math.max(i-_,l+_),W=Math.max(B/500*S,2*B-I);return Am(a,W,!0,h,f,y)}};const Im={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},q3=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Yl(a,i){const l=bi(a);if(l&&q3.includes(l.text))return l;throw l?new o("Invalid delimiter '"+l.text+"' after '"+i.funcName+"'",a):new o("Invalid delimiter type '"+a.type+"'",a)}ye({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,i)=>{const l=Yl(i[0],a);return{type:"delimsizing",mode:a.parser.mode,size:Im[a.funcName].size,mclass:Im[a.funcName].mclass,delim:l.text}},htmlBuilder:(a,i)=>a.delim==="."?X.makeSpan([a.mclass]):as.sizedDelim(a.delim,a.size,i,a.mode,[a.mclass]),mathmlBuilder:a=>{const i=[];a.delim!=="."&&i.push(St(a.delim,a.mode));const l=new oe.MathNode("mo",i);a.mclass==="mopen"||a.mclass==="mclose"?l.setAttribute("fence","true"):l.setAttribute("fence","false"),l.setAttribute("stretchy","true");const h=fe(as.sizeToMaxHeight[a.size]);return l.setAttribute("minsize",h),l.setAttribute("maxsize",h),l}});function Cm(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ye({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=a.parser.gullet.macros.get("\\current@color");if(l&&typeof l!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:Yl(i[0],a).text,color:l}}}),ye({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=Yl(i[0],a),h=a.parser;++h.leftrightDepth;const f=h.parseExpression(!1);--h.leftrightDepth,h.expect("\\right",!1);const y=Ne(h.parseFunction(),"leftright-right");return{type:"leftright",mode:h.mode,body:f,left:l.text,right:y.delim,rightColor:y.color}},htmlBuilder:(a,i)=>{Cm(a);const l=ft(a.body,i,!0,["mopen","mclose"]);let h=0,f=0,y=!1;for(let I=0;I<l.length;I++)l[I].isMiddle?y=!0:(h=Math.max(l[I].height,h),f=Math.max(l[I].depth,f));h*=i.sizeMultiplier,f*=i.sizeMultiplier;let _;if(a.left==="."?_=ss(i,["mopen"]):_=as.leftRightDelim(a.left,h,f,i,a.mode,["mopen"]),l.unshift(_),y)for(let I=1;I<l.length;I++){const W=l[I].isMiddle;W&&(l[I]=as.leftRightDelim(W.delim,h,f,W.options,a.mode,[]))}let S;if(a.right===".")S=ss(i,["mclose"]);else{const I=a.rightColor?i.withColor(a.rightColor):i;S=as.leftRightDelim(a.right,h,f,I,a.mode,["mclose"])}return l.push(S),X.makeSpan(["minner"],l,i)},mathmlBuilder:(a,i)=>{Cm(a);const l=Xt(a.body,i);if(a.left!=="."){const h=new oe.MathNode("mo",[St(a.left,a.mode)]);h.setAttribute("fence","true"),l.unshift(h)}if(a.right!=="."){const h=new oe.MathNode("mo",[St(a.right,a.mode)]);h.setAttribute("fence","true"),a.rightColor&&h.setAttribute("mathcolor",a.rightColor),l.push(h)}return oo(l)}}),ye({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=Yl(i[0],a);if(!a.parser.leftrightDepth)throw new o("\\middle without preceding \\left",l);return{type:"middle",mode:a.parser.mode,delim:l.text}},htmlBuilder:(a,i)=>{let l;if(a.delim===".")l=ss(i,[]);else{l=as.sizedDelim(a.delim,1,i,a.mode,[]);const h={delim:a.delim,options:i};l.isMiddle=h}return l},mathmlBuilder:(a,i)=>{const l=a.delim==="\\vert"||a.delim==="|"?St("|","text"):St(a.delim,a.mode),h=new oe.MathNode("mo",[l]);return h.setAttribute("fence","true"),h.setAttribute("lspace","0.05em"),h.setAttribute("rspace","0.05em"),h}});const vc=(a,i)=>{const l=X.wrapFragment(Te(a.body,i),i),h=a.label.slice(1);let f=i.sizeMultiplier,y,_=0;const S=G.isCharacterBox(a.body);if(h==="sout")y=X.makeSpan(["stretchy","sout"]),y.height=i.fontMetrics().defaultRuleThickness/f,_=-.5*i.fontMetrics().xHeight;else if(h==="phase"){const B=Xe({number:.6,unit:"pt"},i),W=Xe({number:.35,unit:"ex"},i),K=i.havingBaseSizing();f=f/K.sizeMultiplier;const Z=l.height+l.depth+B+W;l.style.paddingLeft=fe(Z/2+B);const se=Math.floor(1e3*Z*f),xe=Ss(se),Ee=new Vt([new Bn("phase",xe)],{width:"400em",height:fe(se/1e3),viewBox:"0 0 400000 "+se,preserveAspectRatio:"xMinYMin slice"});y=X.makeSvgSpan(["hide-tail"],[Ee],i),y.style.height=fe(Z),_=l.depth+B+W}else{/cancel/.test(h)?S||l.classes.push("cancel-pad"):h==="angl"?l.classes.push("anglpad"):l.classes.push("boxpad");let B=0,W=0,K=0;/box/.test(h)?(K=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness),B=i.fontMetrics().fboxsep+(h==="colorbox"?0:K),W=B):h==="angl"?(K=Math.max(i.fontMetrics().defaultRuleThickness,i.minRuleThickness),B=4*K,W=Math.max(0,.25-l.depth)):(B=S?.2:0,W=B),y=tr.encloseSpan(l,h,B,W,i),/fbox|boxed|fcolorbox/.test(h)?(y.style.borderStyle="solid",y.style.borderWidth=fe(K)):h==="angl"&&K!==.049&&(y.style.borderTopWidth=fe(K),y.style.borderRightWidth=fe(K)),_=l.depth+W,a.backgroundColor&&(y.style.backgroundColor=a.backgroundColor,a.borderColor&&(y.style.borderColor=a.borderColor))}let I;if(a.backgroundColor)I=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:_},{type:"elem",elem:l,shift:0}]},i);else{const B=/cancel|phase/.test(h)?["svg-align"]:[];I=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:y,shift:_,wrapperClasses:B}]},i)}return/cancel/.test(h)&&(I.height=l.height,I.depth=l.depth),/cancel/.test(h)&&!S?X.makeSpan(["mord","cancel-lap"],[I],i):X.makeSpan(["mord"],[I],i)},wc=(a,i)=>{let l=0;const h=new oe.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ke(a.body,i)]);switch(a.label){case"\\cancel":h.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":h.setAttribute("notation","downdiagonalstrike");break;case"\\phase":h.setAttribute("notation","phasorangle");break;case"\\sout":h.setAttribute("notation","horizontalstrike");break;case"\\fbox":h.setAttribute("notation","box");break;case"\\angl":h.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(l=i.fontMetrics().fboxsep*i.fontMetrics().ptPerEm,h.setAttribute("width","+"+2*l+"pt"),h.setAttribute("height","+"+2*l+"pt"),h.setAttribute("lspace",l+"pt"),h.setAttribute("voffset",l+"pt"),a.label==="\\fcolorbox"){const f=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness);h.setAttribute("style","border: "+f+"em solid "+String(a.borderColor))}break;case"\\xcancel":h.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&h.setAttribute("mathbackground",a.backgroundColor),h};ye({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Ne(i[0],"color-token").color,_=i[1];return{type:"enclose",mode:h.mode,label:f,backgroundColor:y,body:_}},htmlBuilder:vc,mathmlBuilder:wc}),ye({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Ne(i[0],"color-token").color,_=Ne(i[1],"color-token").color,S=i[2];return{type:"enclose",mode:h.mode,label:f,backgroundColor:_,borderColor:y,body:S}},htmlBuilder:vc,mathmlBuilder:wc}),ye({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\fbox",body:i[0]}}}),ye({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"enclose",mode:l.mode,label:h,body:f}},htmlBuilder:vc,mathmlBuilder:wc}),ye({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\angl",body:i[0]}}});const Rm={};function Mr(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:_}=a;const S={type:i,numArgs:h.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:f};for(let I=0;I<l.length;++I)Rm[l[I]]=S;y&&(vi[i]=y),_&&(wi[i]=_)}const Nm={};function E(a,i){Nm[a]=i}class An{constructor(i,l,h){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=i,this.start=l,this.end=h}static range(i,l){return l?!i||!i.loc||!l.loc||i.loc.lexer!==l.loc.lexer?null:new An(i.loc.lexer,i.loc.start,l.loc.end):i&&i.loc}}class Un{constructor(i,l){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=i,this.loc=l}range(i,l){return new Un(l,An.range(this,i))}}function Pm(a){const i=[];a.consumeSpaces();let l=a.fetch().text;for(l==="\\relax"&&(a.consume(),a.consumeSpaces(),l=a.fetch().text);l==="\\hline"||l==="\\hdashline";)a.consume(),i.push(l==="\\hdashline"),a.consumeSpaces(),l=a.fetch().text;return i}const Jl=a=>{if(!a.parser.settings.displayMode)throw new o("{"+a.envName+"} can be used only in display mode.")};function xc(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function Ms(a,i,l){let{hskipBeforeAndAfter:h,addJot:f,cols:y,arraystretch:_,colSeparationType:S,autoTag:I,singleRow:B,emptySingleRow:W,maxNumCols:K,leqno:Z}=i;if(a.gullet.beginGroup(),B||a.gullet.macros.set("\\cr","\\\\\\relax"),!_){const at=a.gullet.expandMacroAsText("\\arraystretch");if(at==null)_=1;else if(_=parseFloat(at),!_||_<0)throw new o("Invalid \\arraystretch: "+at)}a.gullet.beginGroup();let se=[];const xe=[se],Ee=[],Fe=[],Ve=I!=null?[]:void 0;function je(){I&&a.gullet.macros.set("\\@eqnsw","1",!0)}function Je(){Ve&&(a.gullet.macros.get("\\df@tag")?(Ve.push(a.subparse([new Un("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):Ve.push(!!I&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(je(),Fe.push(Pm(a));;){let at=a.parseExpression(!1,B?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),at={type:"ordgroup",mode:a.mode,body:at},l&&(at={type:"styling",mode:a.mode,style:l,body:[at]}),se.push(at);const wn=a.fetch().text;if(wn==="&"){if(K&&se.length===K){if(B||S)throw new o("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(wn==="\\end"){Je(),se.length===1&&at.type==="styling"&&at.body[0].body.length===0&&(xe.length>1||!W)&&xe.pop(),Fe.length<xe.length+1&&Fe.push([]);break}else if(wn==="\\\\"){a.consume();let Lt;a.gullet.future().text!==" "&&(Lt=a.parseSizeGroup(!0)),Ee.push(Lt?Lt.value:null),Je(),Fe.push(Pm(a)),se=[],xe.push(se),je()}else throw new o("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:f,arraystretch:_,body:xe,cols:y,rowGaps:Ee,hskipBeforeAndAfter:h,hLinesBeforeRow:Fe,colSeparationType:S,tags:Ve,leqno:Z}}function _c(a){return a.slice(0,1)==="d"?"display":"text"}const Dr=function(a,i){let l,h;const f=a.body.length,y=a.hLinesBeforeRow;let _=0,S=new Array(f);const I=[],B=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),W=1/i.fontMetrics().ptPerEm;let K=5*W;a.colSeparationType&&a.colSeparationType==="small"&&(K=.2778*(i.havingStyle(ce.SCRIPT).sizeMultiplier/i.sizeMultiplier));const Z=a.colSeparationType==="CD"?Xe({number:3,unit:"ex"},i):12*W,se=3*W,xe=a.arraystretch*Z,Ee=.7*xe,Fe=.3*xe;let Ve=0;function je($e){for(let tt=0;tt<$e.length;++tt)tt>0&&(Ve+=.25),I.push({pos:Ve,isDashed:$e[tt]})}for(je(y[0]),l=0;l<a.body.length;++l){const $e=a.body[l];let tt=Ee,ct=Fe;_<$e.length&&(_=$e.length);const mt=new Array($e.length);for(h=0;h<$e.length;++h){const sr=Te($e[h],i);ct<sr.depth&&(ct=sr.depth),tt<sr.height&&(tt=sr.height),mt[h]=sr}const Et=a.rowGaps[l];let vt=0;Et&&(vt=Xe(Et,i),vt>0&&(vt+=Fe,ct<vt&&(ct=vt),vt=0)),a.addJot&&(ct+=se),mt.height=tt,mt.depth=ct,Ve+=tt,mt.pos=Ve,Ve+=ct+vt,S[l]=mt,je(y[l+1])}const Je=Ve/2+i.fontMetrics().axisHeight,at=a.cols||[],wn=[];let Lt,rr;const uo=[];if(a.tags&&a.tags.some($e=>$e))for(l=0;l<f;++l){const $e=S[l],tt=$e.pos-Je,ct=a.tags[l];let mt;ct===!0?mt=X.makeSpan(["eqn-num"],[],i):ct===!1?mt=X.makeSpan([],[],i):mt=X.makeSpan([],ft(ct,i,!0),i),mt.depth=$e.depth,mt.height=$e.height,uo.push({type:"elem",elem:mt,shift:tt})}for(h=0,rr=0;h<_||rr<at.length;++h,++rr){let $e=at[rr]||{},tt=!0;for(;$e.type==="separator";){if(tt||(Lt=X.makeSpan(["arraycolsep"],[]),Lt.style.width=fe(i.fontMetrics().doubleRuleSep),wn.push(Lt)),$e.separator==="|"||$e.separator===":"){const Et=$e.separator==="|"?"solid":"dashed",vt=X.makeSpan(["vertical-separator"],[],i);vt.style.height=fe(Ve),vt.style.borderRightWidth=fe(B),vt.style.borderRightStyle=Et,vt.style.margin="0 "+fe(-B/2);const sr=Ve-Je;sr&&(vt.style.verticalAlign=fe(-sr)),wn.push(vt)}else throw new o("Invalid separator type: "+$e.separator);rr++,$e=at[rr]||{},tt=!1}if(h>=_)continue;let ct;(h>0||a.hskipBeforeAndAfter)&&(ct=G.deflt($e.pregap,K),ct!==0&&(Lt=X.makeSpan(["arraycolsep"],[]),Lt.style.width=fe(ct),wn.push(Lt)));let mt=[];for(l=0;l<f;++l){const Et=S[l],vt=Et[h];if(!vt)continue;const sr=Et.pos-Je;vt.depth=Et.depth,vt.height=Et.height,mt.push({type:"elem",elem:vt,shift:sr})}mt=X.makeVList({positionType:"individualShift",children:mt},i),mt=X.makeSpan(["col-align-"+($e.align||"c")],[mt]),wn.push(mt),(h<_-1||a.hskipBeforeAndAfter)&&(ct=G.deflt($e.postgap,K),ct!==0&&(Lt=X.makeSpan(["arraycolsep"],[]),Lt.style.width=fe(ct),wn.push(Lt)))}if(S=X.makeSpan(["mtable"],wn),I.length>0){const $e=X.makeLineSpan("hline",i,B),tt=X.makeLineSpan("hdashline",i,B),ct=[{type:"elem",elem:S,shift:0}];for(;I.length>0;){const mt=I.pop(),Et=mt.pos-Je;mt.isDashed?ct.push({type:"elem",elem:tt,shift:Et}):ct.push({type:"elem",elem:$e,shift:Et})}S=X.makeVList({positionType:"individualShift",children:ct},i)}if(uo.length===0)return X.makeSpan(["mord"],[S],i);{let $e=X.makeVList({positionType:"individualShift",children:uo},i);return $e=X.makeSpan(["tag"],[$e],i),X.makeFragment([S,$e])}},H3={c:"center ",l:"left ",r:"right "},Vr=function(a,i){const l=[],h=new oe.MathNode("mtd",[],["mtr-glue"]),f=new oe.MathNode("mtd",[],["mml-eqn-num"]);for(let K=0;K<a.body.length;K++){const Z=a.body[K],se=[];for(let xe=0;xe<Z.length;xe++)se.push(new oe.MathNode("mtd",[Ke(Z[xe],i)]));a.tags&&a.tags[K]&&(se.unshift(h),se.push(h),a.leqno?se.unshift(f):se.push(f)),l.push(new oe.MathNode("mtr",se))}let y=new oe.MathNode("mtable",l);const _=a.arraystretch===.5?.1:.16+a.arraystretch-1+(a.addJot?.09:0);y.setAttribute("rowspacing",fe(_));let S="",I="";if(a.cols&&a.cols.length>0){const K=a.cols;let Z="",se=!1,xe=0,Ee=K.length;K[0].type==="separator"&&(S+="top ",xe=1),K[K.length-1].type==="separator"&&(S+="bottom ",Ee-=1);for(let Fe=xe;Fe<Ee;Fe++)K[Fe].type==="align"?(I+=H3[K[Fe].align],se&&(Z+="none "),se=!0):K[Fe].type==="separator"&&se&&(Z+=K[Fe].separator==="|"?"solid ":"dashed ",se=!1);y.setAttribute("columnalign",I.trim()),/[sd]/.test(Z)&&y.setAttribute("columnlines",Z.trim())}if(a.colSeparationType==="align"){const K=a.cols||[];let Z="";for(let se=1;se<K.length;se++)Z+=se%2?"0em ":"1em ";y.setAttribute("columnspacing",Z.trim())}else a.colSeparationType==="alignat"||a.colSeparationType==="gather"?y.setAttribute("columnspacing","0em"):a.colSeparationType==="small"?y.setAttribute("columnspacing","0.2778em"):a.colSeparationType==="CD"?y.setAttribute("columnspacing","0.5em"):y.setAttribute("columnspacing","1em");let B="";const W=a.hLinesBeforeRow;S+=W[0].length>0?"left ":"",S+=W[W.length-1].length>0?"right ":"";for(let K=1;K<W.length-1;K++)B+=W[K].length===0?"none ":W[K][0]?"dashed ":"solid ";return/[sd]/.test(B)&&y.setAttribute("rowlines",B.trim()),S!==""&&(y=new oe.MathNode("menclose",[y]),y.setAttribute("notation",S.trim())),a.arraystretch&&a.arraystretch<1&&(y=new oe.MathNode("mstyle",[y]),y.setAttribute("scriptlevel","1")),y},Mm=function(a,i){a.envName.indexOf("ed")===-1&&Jl(a);const l=[],h=a.envName.indexOf("at")>-1?"alignat":"align",f=a.envName==="split",y=Ms(a.parser,{cols:l,addJot:!0,autoTag:f?void 0:xc(a.envName),emptySingleRow:!0,colSeparationType:h,maxNumCols:f?2:void 0,leqno:a.parser.settings.leqno},"display");let _,S=0;const I={type:"ordgroup",mode:a.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){let W="";for(let K=0;K<i[0].body.length;K++){const Z=Ne(i[0].body[K],"textord");W+=Z.text}_=Number(W),S=_*2}const B=!S;y.body.forEach(function(W){for(let K=1;K<W.length;K+=2){const Z=Ne(W[K],"styling");Ne(Z.body[0],"ordgroup").body.unshift(I)}if(B)S<W.length&&(S=W.length);else{const K=W.length/2;if(_<K)throw new o("Too many math in a row: "+("expected "+_+", but got "+K),W[0])}});for(let W=0;W<S;++W){let K="r",Z=0;W%2===1?K="l":W>0&&B&&(Z=1),l[W]={type:"align",align:K,pregap:Z,postgap:0}}return y.colSeparationType=B?"align":"alignat",y};Mr({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,i){const f=(bi(i[0])?[i[0]]:Ne(i[0],"ordgroup").body).map(function(_){const I=gr(_).text;if("lcr".indexOf(I)!==-1)return{type:"align",align:I};if(I==="|")return{type:"separator",separator:"|"};if(I===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+I,_)}),y={cols:f,hskipBeforeAndAfter:!0,maxNumCols:f.length};return Ms(a.parser,y,_c(a.envName))},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){const i={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")];let l="c";const h={hskipBeforeAndAfter:!1,cols:[{type:"align",align:l}]};if(a.envName.charAt(a.envName.length-1)==="*"){const _=a.parser;if(_.consumeSpaces(),_.fetch().text==="["){if(_.consume(),_.consumeSpaces(),l=_.fetch().text,"lcr".indexOf(l)===-1)throw new o("Expected l or c or r",_.nextToken);_.consume(),_.consumeSpaces(),_.expect("]"),_.consume(),h.cols=[{type:"align",align:l}]}}const f=Ms(a.parser,h,_c(a.envName)),y=Math.max(0,...f.body.map(_=>_.length));return f.cols=new Array(y).fill({type:"align",align:l}),i?{type:"leftright",mode:a.mode,body:[f],left:i[0],right:i[1],rightColor:void 0}:f},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){const i={arraystretch:.5},l=Ms(a.parser,i,"script");return l.colSeparationType="small",l},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["subarray"],props:{numArgs:1},handler(a,i){const f=(bi(i[0])?[i[0]]:Ne(i[0],"ordgroup").body).map(function(_){const I=gr(_).text;if("lc".indexOf(I)!==-1)return{type:"align",align:I};throw new o("Unknown column alignment: "+I,_)});if(f.length>1)throw new o("{subarray} can contain only one column");let y={cols:f,hskipBeforeAndAfter:!1,arraystretch:.5};if(y=Ms(a.parser,y,"script"),y.body.length>0&&y.body[0].length>1)throw new o("{subarray} can contain only one column");return y},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){const i={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},l=Ms(a.parser,i,_c(a.envName));return{type:"leftright",mode:a.mode,body:[l],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Mm,htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){["gather","gather*"].includes(a.envName)&&Jl(a);const i={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:xc(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return Ms(a.parser,i,"display")},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Mm,htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){Jl(a);const i={autoTag:xc(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return Ms(a.parser,i,"display")},htmlBuilder:Dr,mathmlBuilder:Vr}),Mr({type:"array",names:["CD"],props:{numArgs:0},handler(a){return Jl(a),ee(a.parser)},htmlBuilder:Dr,mathmlBuilder:Vr}),E("\\nonumber","\\gdef\\@eqnsw{0}"),E("\\notag","\\nonumber"),ye({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,i){throw new o(a.funcName+" valid only within array environment")}});var Dm=Rm;ye({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];if(f.type!=="ordgroup")throw new o("Invalid environment name",f);let y="";for(let _=0;_<f.body.length;++_)y+=Ne(f.body[_],"textord").text;if(h==="\\begin"){if(!Dm.hasOwnProperty(y))throw new o("No such environment: "+y,f);const _=Dm[y],{args:S,optArgs:I}=l.parseArguments("\\begin{"+y+"}",_),B={mode:l.mode,envName:y,parser:l},W=_.handler(B,S,I);l.expect("\\end",!1);const K=l.nextToken,Z=Ne(l.parseFunction(),"environment");if(Z.name!==y)throw new o("Mismatch: \\begin{"+y+"} matched by \\end{"+Z.name+"}",K);return W}return{type:"environment",mode:l.mode,name:y,nameGroup:f}}});const Vm=(a,i)=>{const l=a.font,h=i.withFont(l);return Te(a.body,h)},zm=(a,i)=>{const l=a.font,h=i.withFont(l);return Ke(a.body,h)},Om={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ye({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=eo(i[0]);let y=h;return y in Om&&(y=Om[y]),{type:"font",mode:l.mode,font:y.slice(1),body:f}},htmlBuilder:Vm,mathmlBuilder:zm}),ye({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,i)=>{let{parser:l}=a;const h=i[0],f=G.isCharacterBox(h);return{type:"mclass",mode:l.mode,mclass:yr(h),body:[{type:"font",mode:l.mode,font:"boldsymbol",body:h}],isCharacterBox:f}}}),ye({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,breakOnTokenText:f}=a;const{mode:y}=l,_=l.parseExpression(!0,f),S="math"+h.slice(1);return{type:"font",mode:y,font:S,body:{type:"ordgroup",mode:l.mode,body:_}}},htmlBuilder:Vm,mathmlBuilder:zm});const Lm=(a,i)=>{let l=i;return a==="display"?l=l.id>=ce.SCRIPT.id?l.text():ce.DISPLAY:a==="text"&&l.size===ce.DISPLAY.size?l=ce.TEXT:a==="script"?l=ce.SCRIPT:a==="scriptscript"&&(l=ce.SCRIPTSCRIPT),l},bc=(a,i)=>{const l=Lm(a.size,i.style),h=l.fracNum(),f=l.fracDen();let y;y=i.havingStyle(h);const _=Te(a.numer,y,i);if(a.continued){const je=8.5/i.fontMetrics().ptPerEm,Je=3.5/i.fontMetrics().ptPerEm;_.height=_.height<je?je:_.height,_.depth=_.depth<Je?Je:_.depth}y=i.havingStyle(f);const S=Te(a.denom,y,i);let I,B,W;a.hasBarLine?(a.barSize?(B=Xe(a.barSize,i),I=X.makeLineSpan("frac-line",i,B)):I=X.makeLineSpan("frac-line",i),B=I.height,W=I.height):(I=null,B=0,W=i.fontMetrics().defaultRuleThickness);let K,Z,se;l.size===ce.DISPLAY.size||a.size==="display"?(K=i.fontMetrics().num1,B>0?Z=3*W:Z=7*W,se=i.fontMetrics().denom1):(B>0?(K=i.fontMetrics().num2,Z=W):(K=i.fontMetrics().num3,Z=3*W),se=i.fontMetrics().denom2);let xe;if(I){const je=i.fontMetrics().axisHeight;K-_.depth-(je+.5*B)<Z&&(K+=Z-(K-_.depth-(je+.5*B))),je-.5*B-(S.height-se)<Z&&(se+=Z-(je-.5*B-(S.height-se)));const Je=-(je-.5*B);xe=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:se},{type:"elem",elem:I,shift:Je},{type:"elem",elem:_,shift:-K}]},i)}else{const je=K-_.depth-(S.height-se);je<Z&&(K+=.5*(Z-je),se+=.5*(Z-je)),xe=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:se},{type:"elem",elem:_,shift:-K}]},i)}y=i.havingStyle(l),xe.height*=y.sizeMultiplier/i.sizeMultiplier,xe.depth*=y.sizeMultiplier/i.sizeMultiplier;let Ee;l.size===ce.DISPLAY.size?Ee=i.fontMetrics().delim1:l.size===ce.SCRIPTSCRIPT.size?Ee=i.havingStyle(ce.SCRIPT).fontMetrics().delim2:Ee=i.fontMetrics().delim2;let Fe,Ve;return a.leftDelim==null?Fe=ss(i,["mopen"]):Fe=as.customSizedDelim(a.leftDelim,Ee,!0,i.havingStyle(l),a.mode,["mopen"]),a.continued?Ve=X.makeSpan([]):a.rightDelim==null?Ve=ss(i,["mclose"]):Ve=as.customSizedDelim(a.rightDelim,Ee,!0,i.havingStyle(l),a.mode,["mclose"]),X.makeSpan(["mord"].concat(y.sizingClasses(i)),[Fe,X.makeSpan(["mfrac"],[xe]),Ve],i)},Sc=(a,i)=>{let l=new oe.MathNode("mfrac",[Ke(a.numer,i),Ke(a.denom,i)]);if(!a.hasBarLine)l.setAttribute("linethickness","0px");else if(a.barSize){const f=Xe(a.barSize,i);l.setAttribute("linethickness",fe(f))}const h=Lm(a.size,i.style);if(h.size!==i.style.size){l=new oe.MathNode("mstyle",[l]);const f=h.size===ce.DISPLAY.size?"true":"false";l.setAttribute("displaystyle",f),l.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){const f=[];if(a.leftDelim!=null){const y=new oe.MathNode("mo",[new oe.TextNode(a.leftDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}if(f.push(l),a.rightDelim!=null){const y=new oe.MathNode("mo",[new oe.TextNode(a.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}return oo(f)}return l};ye({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];let _,S=null,I=null,B="auto";switch(h){case"\\dfrac":case"\\frac":case"\\tfrac":_=!0;break;case"\\\\atopfrac":_=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":_=!1,S="(",I=")";break;case"\\\\bracefrac":_=!1,S="\\{",I="\\}";break;case"\\\\brackfrac":_=!1,S="[",I="]";break;default:throw new Error("Unrecognized genfrac command")}switch(h){case"\\dfrac":case"\\dbinom":B="display";break;case"\\tfrac":case"\\tbinom":B="text";break}return{type:"genfrac",mode:l.mode,continued:!1,numer:f,denom:y,hasBarLine:_,leftDelim:S,rightDelim:I,size:B,barSize:null}},htmlBuilder:bc,mathmlBuilder:Sc}),ye({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];return{type:"genfrac",mode:l.mode,continued:!0,numer:f,denom:y,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),ye({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){let{parser:i,funcName:l,token:h}=a,f;switch(l){case"\\over":f="\\frac";break;case"\\choose":f="\\binom";break;case"\\atop":f="\\\\atopfrac";break;case"\\brace":f="\\\\bracefrac";break;case"\\brack":f="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:i.mode,replaceWith:f,token:h}}});const Fm=["display","text","script","scriptscript"],Bm=function(a){let i=null;return a.length>0&&(i=a,i=i==="."?null:i),i};ye({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,i){let{parser:l}=a;const h=i[4],f=i[5],y=eo(i[0]),_=y.type==="atom"&&y.family==="open"?Bm(y.text):null,S=eo(i[1]),I=S.type==="atom"&&S.family==="close"?Bm(S.text):null,B=Ne(i[2],"size");let W,K=null;B.isBlank?W=!0:(K=B.value,W=K.number>0);let Z="auto",se=i[3];if(se.type==="ordgroup"){if(se.body.length>0){const xe=Ne(se.body[0],"textord");Z=Fm[Number(xe.text)]}}else se=Ne(se,"textord"),Z=Fm[Number(se.text)];return{type:"genfrac",mode:l.mode,numer:h,denom:f,continued:!1,hasBarLine:W,barSize:K,leftDelim:_,rightDelim:I,size:Z}},htmlBuilder:bc,mathmlBuilder:Sc}),ye({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,i){let{parser:l,funcName:h,token:f}=a;return{type:"infix",mode:l.mode,replaceWith:"\\\\abovefrac",size:Ne(i[0],"size").value,token:f}}}),ye({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=Y(Ne(i[1],"infix").size),_=i[2],S=y.number>0;return{type:"genfrac",mode:l.mode,numer:f,denom:_,continued:!1,hasBarLine:S,barSize:y,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:bc,mathmlBuilder:Sc});const jm=(a,i)=>{const l=i.style;let h,f;a.type==="supsub"?(h=a.sup?Te(a.sup,i.havingStyle(l.sup()),i):Te(a.sub,i.havingStyle(l.sub()),i),f=Ne(a.base,"horizBrace")):f=Ne(a,"horizBrace");const y=Te(f.base,i.havingBaseStyle(ce.DISPLAY)),_=tr.svgSpan(f,i);let S;if(f.isOver?(S=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.1},{type:"elem",elem:_}]},i),S.children[0].children[0].children[1].classes.push("svg-align")):(S=X.makeVList({positionType:"bottom",positionData:y.depth+.1+_.height,children:[{type:"elem",elem:_},{type:"kern",size:.1},{type:"elem",elem:y}]},i),S.children[0].children[0].children[0].classes.push("svg-align")),h){const I=X.makeSpan(["mord",f.isOver?"mover":"munder"],[S],i);f.isOver?S=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:.2},{type:"elem",elem:h}]},i):S=X.makeVList({positionType:"bottom",positionData:I.depth+.2+h.height+h.depth,children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:I}]},i)}return X.makeSpan(["mord",f.isOver?"mover":"munder"],[S],i)};ye({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"horizBrace",mode:l.mode,label:h,isOver:/^\\over/.test(h),base:i[0]}},htmlBuilder:jm,mathmlBuilder:(a,i)=>{const l=tr.mathMLnode(a.label);return new oe.MathNode(a.isOver?"mover":"munder",[Ke(a.base,i),l])}}),ye({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[1],f=Ne(i[0],"url").url;return l.settings.isTrusted({command:"\\href",url:f})?{type:"href",mode:l.mode,href:f,body:yt(h)}:l.formatUnsupportedCmd("\\href")},htmlBuilder:(a,i)=>{const l=ft(a.body,i,!1);return X.makeAnchor(a.href,[],l,i)},mathmlBuilder:(a,i)=>{let l=er(a.body,i);return l instanceof on||(l=new on("mrow",[l])),l.setAttribute("href",a.href),l}}),ye({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=Ne(i[0],"url").url;if(!l.settings.isTrusted({command:"\\url",url:h}))return l.formatUnsupportedCmd("\\url");const f=[];for(let _=0;_<h.length;_++){let S=h[_];S==="~"&&(S="\\textasciitilde"),f.push({type:"textord",mode:"text",text:S})}const y={type:"text",mode:l.mode,font:"\\texttt",body:f};return{type:"href",mode:l.mode,href:h,body:yt(y)}}}),ye({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,i){let{parser:l}=a;return{type:"hbox",mode:l.mode,body:yt(i[0])}},htmlBuilder(a,i){const l=ft(a.body,i,!1);return X.makeFragment(l)},mathmlBuilder(a,i){return new oe.MathNode("mrow",Xt(a.body,i))}}),ye({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,token:f}=a;const y=Ne(i[0],"raw").string,_=i[1];l.settings.strict&&l.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let S;const I={};switch(h){case"\\htmlClass":I.class=y,S={command:"\\htmlClass",class:y};break;case"\\htmlId":I.id=y,S={command:"\\htmlId",id:y};break;case"\\htmlStyle":I.style=y,S={command:"\\htmlStyle",style:y};break;case"\\htmlData":{const B=y.split(",");for(let W=0;W<B.length;W++){const K=B[W].split("=");if(K.length!==2)throw new o("Error parsing key-value for \\htmlData");I["data-"+K[0].trim()]=K[1].trim()}S={command:"\\htmlData",attributes:I};break}default:throw new Error("Unrecognized html command")}return l.settings.isTrusted(S)?{type:"html",mode:l.mode,attributes:I,body:yt(_)}:l.formatUnsupportedCmd(h)},htmlBuilder:(a,i)=>{const l=ft(a.body,i,!1),h=["enclosing"];a.attributes.class&&h.push(...a.attributes.class.trim().split(/\s+/));const f=X.makeSpan(h,l,i);for(const y in a.attributes)y!=="class"&&a.attributes.hasOwnProperty(y)&&f.setAttribute(y,a.attributes[y]);return f},mathmlBuilder:(a,i)=>er(a.body,i)}),ye({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"htmlmathml",mode:l.mode,html:yt(i[0]),mathml:yt(i[1])}},htmlBuilder:(a,i)=>{const l=ft(a.html,i,!1);return X.makeFragment(l)},mathmlBuilder:(a,i)=>er(a.mathml,i)});const Ec=function(a){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(a))return{number:+a,unit:"bp"};{const i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a);if(!i)throw new o("Invalid size: '"+a+"' in \\includegraphics");const l={number:+(i[1]+i[2]),unit:i[3]};if(!Qi(l))throw new o("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l}};ye({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,i,l)=>{let{parser:h}=a,f={number:0,unit:"em"},y={number:.9,unit:"em"},_={number:0,unit:"em"},S="";if(l[0]){const W=Ne(l[0],"raw").string.split(",");for(let K=0;K<W.length;K++){const Z=W[K].split("=");if(Z.length===2){const se=Z[1].trim();switch(Z[0].trim()){case"alt":S=se;break;case"width":f=Ec(se);break;case"height":y=Ec(se);break;case"totalheight":_=Ec(se);break;default:throw new o("Invalid key: '"+Z[0]+"' in \\includegraphics.")}}}}const I=Ne(i[0],"url").url;return S===""&&(S=I,S=S.replace(/^.*[\\/]/,""),S=S.substring(0,S.lastIndexOf("."))),h.settings.isTrusted({command:"\\includegraphics",url:I})?{type:"includegraphics",mode:h.mode,alt:S,width:f,height:y,totalheight:_,src:I}:h.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,i)=>{const l=Xe(a.height,i);let h=0;a.totalheight.number>0&&(h=Xe(a.totalheight,i)-l);let f=0;a.width.number>0&&(f=Xe(a.width,i));const y={height:fe(l+h)};f>0&&(y.width=fe(f)),h>0&&(y.verticalAlign=fe(-h));const _=new Cr(a.src,a.alt,y);return _.height=l,_.depth=h,_},mathmlBuilder:(a,i)=>{const l=new oe.MathNode("mglyph",[]);l.setAttribute("alt",a.alt);const h=Xe(a.height,i);let f=0;if(a.totalheight.number>0&&(f=Xe(a.totalheight,i)-h,l.setAttribute("valign",fe(-f))),l.setAttribute("height",fe(h+f)),a.width.number>0){const y=Xe(a.width,i);l.setAttribute("width",fe(y))}return l.setAttribute("src",a.src),l}}),ye({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=Ne(i[0],"size");if(l.settings.strict){const y=h[1]==="m",_=f.value.unit==="mu";y?(_||l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" supports only mu units, "+("not "+f.value.unit+" units")),l.mode!=="math"&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" works only in math mode")):_&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" doesn't support mu units")}return{type:"kern",mode:l.mode,dimension:f.value}},htmlBuilder(a,i){return X.makeGlue(a.dimension,i)},mathmlBuilder(a,i){const l=Xe(a.dimension,i);return new oe.SpaceNode(l)}}),ye({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"lap",mode:l.mode,alignment:h.slice(5),body:f}},htmlBuilder:(a,i)=>{let l;a.alignment==="clap"?(l=X.makeSpan([],[Te(a.body,i)]),l=X.makeSpan(["inner"],[l],i)):l=X.makeSpan(["inner"],[Te(a.body,i)]);const h=X.makeSpan(["fix"],[]);let f=X.makeSpan([a.alignment],[l,h],i);const y=X.makeSpan(["strut"]);return y.style.height=fe(f.height+f.depth),f.depth&&(y.style.verticalAlign=fe(-f.depth)),f.children.unshift(y),f=X.makeSpan(["thinbox"],[f],i),X.makeSpan(["mord","vbox"],[f],i)},mathmlBuilder:(a,i)=>{const l=new oe.MathNode("mpadded",[Ke(a.body,i)]);if(a.alignment!=="rlap"){const h=a.alignment==="llap"?"-1":"-0.5";l.setAttribute("lspace",h+"width")}return l.setAttribute("width","0px"),l}}),ye({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){let{funcName:l,parser:h}=a;const f=h.mode;h.switchMode("math");const y=l==="\\("?"\\)":"$",_=h.parseExpression(!1,y);return h.expect(y),h.switchMode(f),{type:"styling",mode:h.mode,style:"text",body:_}}}),ye({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){throw new o("Mismatched "+a.funcName)}});const Um=(a,i)=>{switch(i.style.size){case ce.DISPLAY.size:return a.display;case ce.TEXT.size:return a.text;case ce.SCRIPT.size:return a.script;case ce.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};ye({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"mathchoice",mode:l.mode,display:yt(i[0]),text:yt(i[1]),script:yt(i[2]),scriptscript:yt(i[3])}},htmlBuilder:(a,i)=>{const l=Um(a,i),h=ft(l,i,!1);return X.makeFragment(h)},mathmlBuilder:(a,i)=>{const l=Um(a,i);return er(l,i)}});const qm=(a,i,l,h,f,y,_)=>{a=X.makeSpan([],[a]);const S=l&&G.isCharacterBox(l);let I,B;if(i){const Z=Te(i,h.havingStyle(f.sup()),h);B={elem:Z,kern:Math.max(h.fontMetrics().bigOpSpacing1,h.fontMetrics().bigOpSpacing3-Z.depth)}}if(l){const Z=Te(l,h.havingStyle(f.sub()),h);I={elem:Z,kern:Math.max(h.fontMetrics().bigOpSpacing2,h.fontMetrics().bigOpSpacing4-Z.height)}}let W;if(B&&I){const Z=h.fontMetrics().bigOpSpacing5+I.elem.height+I.elem.depth+I.kern+a.depth+_;W=X.makeVList({positionType:"bottom",positionData:Z,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:I.elem,marginLeft:fe(-y)},{type:"kern",size:I.kern},{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:fe(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else if(I){const Z=a.height-_;W=X.makeVList({positionType:"top",positionData:Z,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:I.elem,marginLeft:fe(-y)},{type:"kern",size:I.kern},{type:"elem",elem:a}]},h)}else if(B){const Z=a.depth+_;W=X.makeVList({positionType:"bottom",positionData:Z,children:[{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:fe(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else return a;const K=[W];if(I&&y!==0&&!S){const Z=X.makeSpan(["mspace"],[],h);Z.style.marginRight=fe(y),K.unshift(Z)}return X.makeSpan(["mop","op-limits"],K,h)},Hm=["\\smallint"],lo=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Ne(a.base,"op"),f=!0):y=Ne(a,"op");const _=i.style;let S=!1;_.size===ce.DISPLAY.size&&y.symbol&&!Hm.includes(y.name)&&(S=!0);let I;if(y.symbol){const K=S?"Size2-Regular":"Size1-Regular";let Z="";if((y.name==="\\oiint"||y.name==="\\oiiint")&&(Z=y.name.slice(1),y.name=Z==="oiint"?"\\iint":"\\iiint"),I=X.makeSymbol(y.name,K,"math",i,["mop","op-symbol",S?"large-op":"small-op"]),Z.length>0){const se=I.italic,xe=X.staticSvg(Z+"Size"+(S?"2":"1"),i);I=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:0},{type:"elem",elem:xe,shift:S?.08:0}]},i),y.name="\\"+Z,I.classes.unshift("mop"),I.italic=se}}else if(y.body){const K=ft(y.body,i,!0);K.length===1&&K[0]instanceof qt?(I=K[0],I.classes[0]="mop"):I=X.makeSpan(["mop"],K,i)}else{const K=[];for(let Z=1;Z<y.name.length;Z++)K.push(X.mathsym(y.name[Z],y.mode,i));I=X.makeSpan(["mop"],K,i)}let B=0,W=0;return(I instanceof qt||y.name==="\\oiint"||y.name==="\\oiiint")&&!y.suppressBaseShift&&(B=(I.height-I.depth)/2-i.fontMetrics().axisHeight,W=I.italic),f?qm(I,l,h,i,_,W,B):(B&&(I.style.position="relative",I.style.top=fe(B)),I)},Ea=(a,i)=>{let l;if(a.symbol)l=new on("mo",[St(a.name,a.mode)]),Hm.includes(a.name)&&l.setAttribute("largeop","false");else if(a.body)l=new on("mo",Xt(a.body,i));else{l=new on("mi",[new jn(a.name.slice(1))]);const h=new on("mo",[St("","text")]);a.parentIsSupSub?l=new on("mrow",[l,h]):l=fa([l,h])}return l},$3={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ye({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(a,i)=>{let{parser:l,funcName:h}=a,f=h;return f.length===1&&(f=$3[f]),{type:"op",mode:l.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:f}},htmlBuilder:lo,mathmlBuilder:Ea}),ye({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"op",mode:l.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yt(h)}},htmlBuilder:lo,mathmlBuilder:Ea});const W3={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ye({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:lo,mathmlBuilder:Ea}),ye({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:lo,mathmlBuilder:Ea}),ye({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a,h=l;return h.length===1&&(h=W3[h]),{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:h}},htmlBuilder:lo,mathmlBuilder:Ea});const $m=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Ne(a.base,"operatorname"),f=!0):y=Ne(a,"operatorname");let _;if(y.body.length>0){const S=y.body.map(B=>{const W=B.text;return typeof W=="string"?{type:"textord",mode:B.mode,text:W}:B}),I=ft(S,i.withFont("mathrm"),!0);for(let B=0;B<I.length;B++){const W=I[B];W instanceof qt&&(W.text=W.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}_=X.makeSpan(["mop"],I,i)}else _=X.makeSpan(["mop"],[],i);return f?qm(_,l,h,i,i.style,0,0):_};ye({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"operatorname",mode:l.mode,body:yt(f),alwaysHandleSupSub:h==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:$m,mathmlBuilder:(a,i)=>{let l=Xt(a.body,i.withFont("mathrm")),h=!0;for(let _=0;_<l.length;_++){const S=l[_];if(!(S instanceof oe.SpaceNode))if(S instanceof oe.MathNode)switch(S.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const I=S.children[0];S.children.length===1&&I instanceof oe.TextNode?I.text=I.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):h=!1;break}default:h=!1}else h=!1}if(h){const _=l.map(S=>S.toText()).join("");l=[new oe.TextNode(_)]}const f=new oe.MathNode("mi",l);f.setAttribute("mathvariant","normal");const y=new oe.MathNode("mo",[St("","text")]);return a.parentIsSupSub?new oe.MathNode("mrow",[f,y]):oe.newDocumentFragment([f,y])}}),E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),kn({type:"ordgroup",htmlBuilder(a,i){return a.semisimple?X.makeFragment(ft(a.body,i,!1)):X.makeSpan(["mord"],ft(a.body,i,!0),i)},mathmlBuilder(a,i){return er(a.body,i,!0)}}),ye({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,i){let{parser:l}=a;const h=i[0];return{type:"overline",mode:l.mode,body:h}},htmlBuilder(a,i){const l=Te(a.body,i.havingCrampedStyle()),h=X.makeLineSpan("overline-line",i),f=i.fontMetrics().defaultRuleThickness,y=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:3*f},{type:"elem",elem:h},{type:"kern",size:f}]},i);return X.makeSpan(["mord","overline"],[y],i)},mathmlBuilder(a,i){const l=new oe.MathNode("mo",[new oe.TextNode("")]);l.setAttribute("stretchy","true");const h=new oe.MathNode("mover",[Ke(a.body,i),l]);return h.setAttribute("accent","true"),h}}),ye({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"phantom",mode:l.mode,body:yt(h)}},htmlBuilder:(a,i)=>{const l=ft(a.body,i.withPhantom(),!1);return X.makeFragment(l)},mathmlBuilder:(a,i)=>{const l=Xt(a.body,i);return new oe.MathNode("mphantom",l)}}),ye({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"hphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{let l=X.makeSpan([],[Te(a.body,i.withPhantom())]);if(l.height=0,l.depth=0,l.children)for(let h=0;h<l.children.length;h++)l.children[h].height=0,l.children[h].depth=0;return l=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i),X.makeSpan(["mord"],[l],i)},mathmlBuilder:(a,i)=>{const l=Xt(yt(a.body),i),h=new oe.MathNode("mphantom",l),f=new oe.MathNode("mpadded",[h]);return f.setAttribute("height","0px"),f.setAttribute("depth","0px"),f}}),ye({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"vphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{const l=X.makeSpan(["inner"],[Te(a.body,i.withPhantom())]),h=X.makeSpan(["fix"],[]);return X.makeSpan(["mord","rlap"],[l,h],i)},mathmlBuilder:(a,i)=>{const l=Xt(yt(a.body),i),h=new oe.MathNode("mphantom",l),f=new oe.MathNode("mpadded",[h]);return f.setAttribute("width","0px"),f}}),ye({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;const h=Ne(i[0],"size").value,f=i[1];return{type:"raisebox",mode:l.mode,dy:h,body:f}},htmlBuilder(a,i){const l=Te(a.body,i),h=Xe(a.dy,i);return X.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){const l=new oe.MathNode("mpadded",[Ke(a.body,i)]),h=a.dy.number+a.dy.unit;return l.setAttribute("voffset",h),l}}),ye({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){let{parser:i}=a;return{type:"internal",mode:i.mode}}}),ye({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,i,l){let{parser:h}=a;const f=l[0],y=Ne(i[0],"size"),_=Ne(i[1],"size");return{type:"rule",mode:h.mode,shift:f&&Ne(f,"size").value,width:y.value,height:_.value}},htmlBuilder(a,i){const l=X.makeSpan(["mord","rule"],[],i),h=Xe(a.width,i),f=Xe(a.height,i),y=a.shift?Xe(a.shift,i):0;return l.style.borderRightWidth=fe(h),l.style.borderTopWidth=fe(f),l.style.bottom=fe(y),l.width=h,l.height=f+y,l.depth=-y,l.maxFontSize=f*1.125*i.sizeMultiplier,l},mathmlBuilder(a,i){const l=Xe(a.width,i),h=Xe(a.height,i),f=a.shift?Xe(a.shift,i):0,y=i.color&&i.getColor()||"black",_=new oe.MathNode("mspace");_.setAttribute("mathbackground",y),_.setAttribute("width",fe(l)),_.setAttribute("height",fe(h));const S=new oe.MathNode("mpadded",[_]);return f>=0?S.setAttribute("height",fe(f)):(S.setAttribute("height",fe(f)),S.setAttribute("depth",fe(-f))),S.setAttribute("voffset",fe(f)),S}});function Wm(a,i,l){const h=ft(a,i,!1),f=i.sizeMultiplier/l.sizeMultiplier;for(let y=0;y<h.length;y++){const _=h[y].classes.indexOf("sizing");_<0?Array.prototype.push.apply(h[y].classes,i.sizingClasses(l)):h[y].classes[_+1]==="reset-size"+i.size&&(h[y].classes[_+1]="reset-size"+l.size),h[y].height*=f,h[y].depth*=f}return X.makeFragment(h)}const Gm=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];ye({type:"sizing",names:Gm,props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!1,l);return{type:"sizing",mode:f.mode,size:Gm.indexOf(h)+1,body:y}},htmlBuilder:(a,i)=>{const l=i.havingSize(a.size);return Wm(a.body,l,i)},mathmlBuilder:(a,i)=>{const l=i.havingSize(a.size),h=Xt(a.body,l),f=new oe.MathNode("mstyle",h);return f.setAttribute("mathsize",fe(l.sizeMultiplier)),f}}),ye({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,i,l)=>{let{parser:h}=a,f=!1,y=!1;const _=l[0]&&Ne(l[0],"ordgroup");if(_){let I="";for(let B=0;B<_.body.length;++B)if(I=_.body[B].text,I==="t")f=!0;else if(I==="b")y=!0;else{f=!1,y=!1;break}}else f=!0,y=!0;const S=i[0];return{type:"smash",mode:h.mode,body:S,smashHeight:f,smashDepth:y}},htmlBuilder:(a,i)=>{const l=X.makeSpan([],[Te(a.body,i)]);if(!a.smashHeight&&!a.smashDepth)return l;if(a.smashHeight&&(l.height=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].height=0;if(a.smashDepth&&(l.depth=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].depth=0;const h=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i);return X.makeSpan(["mord"],[h],i)},mathmlBuilder:(a,i)=>{const l=new oe.MathNode("mpadded",[Ke(a.body,i)]);return a.smashHeight&&l.setAttribute("height","0px"),a.smashDepth&&l.setAttribute("depth","0px"),l}}),ye({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h}=a;const f=l[0],y=i[0];return{type:"sqrt",mode:h.mode,body:y,index:f}},htmlBuilder(a,i){let l=Te(a.body,i.havingCrampedStyle());l.height===0&&(l.height=i.fontMetrics().xHeight),l=X.wrapFragment(l,i);const f=i.fontMetrics().defaultRuleThickness;let y=f;i.style.id<ce.TEXT.id&&(y=i.fontMetrics().xHeight);let _=f+y/4;const S=l.height+l.depth+_+f,{span:I,ruleWidth:B,advanceWidth:W}=as.sqrtImage(S,i),K=I.height-B;K>l.height+l.depth+_&&(_=(_+K-l.height-l.depth)/2);const Z=I.height-l.height-_-B;l.style.paddingLeft=fe(W);const se=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:-(l.height+Z)},{type:"elem",elem:I},{type:"kern",size:B}]},i);if(a.index){const xe=i.havingStyle(ce.SCRIPTSCRIPT),Ee=Te(a.index,xe,i),Fe=.6*(se.height-se.depth),Ve=X.makeVList({positionType:"shift",positionData:-Fe,children:[{type:"elem",elem:Ee}]},i),je=X.makeSpan(["root"],[Ve]);return X.makeSpan(["mord","sqrt"],[je,se],i)}else return X.makeSpan(["mord","sqrt"],[se],i)},mathmlBuilder(a,i){const{body:l,index:h}=a;return h?new oe.MathNode("mroot",[Ke(l,i),Ke(h,i)]):new oe.MathNode("msqrt",[Ke(l,i)])}});const Km={display:ce.DISPLAY,text:ce.TEXT,script:ce.SCRIPT,scriptscript:ce.SCRIPTSCRIPT};ye({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,i){let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!0,l),_=h.slice(1,h.length-5);return{type:"styling",mode:f.mode,style:_,body:y}},htmlBuilder(a,i){const l=Km[a.style],h=i.havingStyle(l).withFont("");return Wm(a.body,h,i)},mathmlBuilder(a,i){const l=Km[a.style],h=i.havingStyle(l),f=Xt(a.body,h),y=new oe.MathNode("mstyle",f),S={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[a.style];return y.setAttribute("scriptlevel",S[0]),y.setAttribute("displaystyle",S[1]),y}});const G3=function(a,i){const l=a.base;return l?l.type==="op"?l.limits&&(i.style.size===ce.DISPLAY.size||l.alwaysHandleSupSub)?lo:null:l.type==="operatorname"?l.alwaysHandleSupSub&&(i.style.size===ce.DISPLAY.size||l.limits)?$m:null:l.type==="accent"?G.isCharacterBox(l.base)?ao:null:l.type==="horizBrace"&&!a.sub===l.isOver?jm:null:null};kn({type:"supsub",htmlBuilder(a,i){const l=G3(a,i);if(l)return l(a,i);const{base:h,sup:f,sub:y}=a,_=Te(h,i);let S,I;const B=i.fontMetrics();let W=0,K=0;const Z=h&&G.isCharacterBox(h);if(f){const Je=i.havingStyle(i.style.sup());S=Te(f,Je,i),Z||(W=_.height-Je.fontMetrics().supDrop*Je.sizeMultiplier/i.sizeMultiplier)}if(y){const Je=i.havingStyle(i.style.sub());I=Te(y,Je,i),Z||(K=_.depth+Je.fontMetrics().subDrop*Je.sizeMultiplier/i.sizeMultiplier)}let se;i.style===ce.DISPLAY?se=B.sup1:i.style.cramped?se=B.sup3:se=B.sup2;const xe=i.sizeMultiplier,Ee=fe(.5/B.ptPerEm/xe);let Fe=null;if(I){const Je=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(_ instanceof qt||Je)&&(Fe=fe(-_.italic))}let Ve;if(S&&I){W=Math.max(W,se,S.depth+.25*B.xHeight),K=Math.max(K,B.sub2);const at=4*B.defaultRuleThickness;if(W-S.depth-(I.height-K)<at){K=at-(W-S.depth)+I.height;const Lt=.8*B.xHeight-(W-S.depth);Lt>0&&(W+=Lt,K-=Lt)}const wn=[{type:"elem",elem:I,shift:K,marginRight:Ee,marginLeft:Fe},{type:"elem",elem:S,shift:-W,marginRight:Ee}];Ve=X.makeVList({positionType:"individualShift",children:wn},i)}else if(I){K=Math.max(K,B.sub1,I.height-.8*B.xHeight);const Je=[{type:"elem",elem:I,marginLeft:Fe,marginRight:Ee}];Ve=X.makeVList({positionType:"shift",positionData:K,children:Je},i)}else if(S)W=Math.max(W,se,S.depth+.25*B.xHeight),Ve=X.makeVList({positionType:"shift",positionData:-W,children:[{type:"elem",elem:S,marginRight:Ee}]},i);else throw new Error("supsub must have either sup or sub.");const je=ro(_,"right")||"mord";return X.makeSpan([je],[_,X.makeSpan(["msupsub"],[Ve])],i)},mathmlBuilder(a,i){let l=!1,h,f;a.base&&a.base.type==="horizBrace"&&(f=!!a.sup,f===a.base.isOver&&(l=!0,h=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);const y=[Ke(a.base,i)];a.sub&&y.push(Ke(a.sub,i)),a.sup&&y.push(Ke(a.sup,i));let _;if(l)_=h?"mover":"munder";else if(a.sub)if(a.sup){const S=a.base;S&&S.type==="op"&&S.limits&&i.style===ce.DISPLAY||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(i.style===ce.DISPLAY||S.limits)?_="munderover":_="msubsup"}else{const S=a.base;S&&S.type==="op"&&S.limits&&(i.style===ce.DISPLAY||S.alwaysHandleSupSub)||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(S.limits||i.style===ce.DISPLAY)?_="munder":_="msub"}else{const S=a.base;S&&S.type==="op"&&S.limits&&(i.style===ce.DISPLAY||S.alwaysHandleSupSub)||S&&S.type==="operatorname"&&S.alwaysHandleSupSub&&(S.limits||i.style===ce.DISPLAY)?_="mover":_="msup"}return new oe.MathNode(_,y)}}),kn({type:"atom",htmlBuilder(a,i){return X.mathsym(a.text,a.mode,i,["m"+a.family])},mathmlBuilder(a,i){const l=new oe.MathNode("mo",[St(a.text,a.mode)]);if(a.family==="bin"){const h=ma(a,i);h==="bold-italic"&&l.setAttribute("mathvariant",h)}else a.family==="punct"?l.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&l.setAttribute("stretchy","false");return l}});const Qm={mi:"italic",mn:"normal",mtext:"normal"};kn({type:"mathord",htmlBuilder(a,i){return X.makeOrd(a,i,"mathord")},mathmlBuilder(a,i){const l=new oe.MathNode("mi",[St(a.text,a.mode,i)]),h=ma(a,i)||"italic";return h!==Qm[l.type]&&l.setAttribute("mathvariant",h),l}}),kn({type:"textord",htmlBuilder(a,i){return X.makeOrd(a,i,"textord")},mathmlBuilder(a,i){const l=St(a.text,a.mode,i),h=ma(a,i)||"normal";let f;return a.mode==="text"?f=new oe.MathNode("mtext",[l]):/[0-9]/.test(a.text)?f=new oe.MathNode("mn",[l]):a.text==="\\prime"?f=new oe.MathNode("mo",[l]):f=new oe.MathNode("mi",[l]),h!==Qm[f.type]&&f.setAttribute("mathvariant",h),f}});const Tc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},kc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};kn({type:"spacing",htmlBuilder(a,i){if(kc.hasOwnProperty(a.text)){const l=kc[a.text].className||"";if(a.mode==="text"){const h=X.makeOrd(a,i,"textord");return h.classes.push(l),h}else return X.makeSpan(["mspace",l],[X.mathsym(a.text,a.mode,i)],i)}else{if(Tc.hasOwnProperty(a.text))return X.makeSpan(["mspace",Tc[a.text]],[],i);throw new o('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,i){let l;if(kc.hasOwnProperty(a.text))l=new oe.MathNode("mtext",[new oe.TextNode("")]);else{if(Tc.hasOwnProperty(a.text))return new oe.MathNode("mspace");throw new o('Unknown type of space "'+a.text+'"')}return l}});const Xm=()=>{const a=new oe.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};kn({type:"tag",mathmlBuilder(a,i){const l=new oe.MathNode("mtable",[new oe.MathNode("mtr",[Xm(),new oe.MathNode("mtd",[er(a.body,i)]),Xm(),new oe.MathNode("mtd",[er(a.tag,i)])])]);return l.setAttribute("width","100%"),l}});const Ym={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Jm={"\\textbf":"textbf","\\textmd":"textmd"},K3={"\\textit":"textit","\\textup":"textup"},Zm=(a,i)=>{const l=a.font;if(l){if(Ym[l])return i.withTextFontFamily(Ym[l]);if(Jm[l])return i.withTextFontWeight(Jm[l]);if(l==="\\emph")return i.fontShape==="textit"?i.withTextFontShape("textup"):i.withTextFontShape("textit")}else return i;return i.withTextFontShape(K3[l])};ye({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"text",mode:l.mode,body:yt(f),font:h}},htmlBuilder(a,i){const l=Zm(a,i),h=ft(a.body,l,!0);return X.makeSpan(["mord","text"],h,l)},mathmlBuilder(a,i){const l=Zm(a,i);return er(a.body,l)}}),ye({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"underline",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=Te(a.body,i),h=X.makeLineSpan("underline-line",i),f=i.fontMetrics().defaultRuleThickness,y=X.makeVList({positionType:"top",positionData:l.height,children:[{type:"kern",size:f},{type:"elem",elem:h},{type:"kern",size:3*f},{type:"elem",elem:l}]},i);return X.makeSpan(["mord","underline"],[y],i)},mathmlBuilder(a,i){const l=new oe.MathNode("mo",[new oe.TextNode("")]);l.setAttribute("stretchy","true");const h=new oe.MathNode("munder",[Ke(a.body,i),l]);return h.setAttribute("accentunder","true"),h}}),ye({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"vcenter",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=Te(a.body,i),h=i.fontMetrics().axisHeight,f=.5*(l.height-h-(l.depth+h));return X.makeVList({positionType:"shift",positionData:f,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){return new oe.MathNode("mpadded",[Ke(a.body,i)],["vcenter"])}}),ye({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,i,l){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,i){const l=e1(a),h=[],f=i.havingStyle(i.style.text());for(let y=0;y<l.length;y++){let _=l[y];_==="~"&&(_="\\textasciitilde"),h.push(X.makeSymbol(_,"Typewriter-Regular",a.mode,f,["mord","texttt"]))}return X.makeSpan(["mord","text"].concat(f.sizingClasses(i)),X.tryCombineChars(h),f)},mathmlBuilder(a,i){const l=new oe.TextNode(e1(a)),h=new oe.MathNode("mtext",[l]);return h.setAttribute("mathvariant","monospace"),h}});const e1=a=>a.body.replace(/ /g,a.star?"":"");var Ds=mr;const t1=`[ \r
	]`,Q3="\\\\[a-zA-Z@]+",X3="\\\\[^\uD800-\uDFFF]",Y3="("+Q3+")"+t1+"*",J3=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ac="[-]",Z3=new RegExp(Ac+"+$"),e6="("+t1+"+)|"+(J3+"|")+"([!-\\[\\]---]"+(Ac+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ac+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Y3)+("|"+X3+")");class n1{constructor(i,l){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=i,this.settings=l,this.tokenRegex=new RegExp(e6,"g"),this.catcodes={"%":14,"~":13}}setCatcode(i,l){this.catcodes[i]=l}lex(){const i=this.input,l=this.tokenRegex.lastIndex;if(l===i.length)return new Un("EOF",new An(this,l,l));const h=this.tokenRegex.exec(i);if(h===null||h.index!==l)throw new o("Unexpected character: '"+i[l]+"'",new Un(i[l],new An(this,l,l+1)));const f=h[6]||h[3]||(h[2]?"\\ ":" ");if(this.catcodes[f]===14){const y=i.indexOf(`
`,this.tokenRegex.lastIndex);return y===-1?(this.tokenRegex.lastIndex=i.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=y+1,this.lex()}return new Un(f,new An(this,l,this.tokenRegex.lastIndex))}}class t6{constructor(i,l){i===void 0&&(i={}),l===void 0&&(l={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=l,this.builtins=i,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const i=this.undefStack.pop();for(const l in i)i.hasOwnProperty(l)&&(i[l]==null?delete this.current[l]:this.current[l]=i[l])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(i){return this.current.hasOwnProperty(i)||this.builtins.hasOwnProperty(i)}get(i){return this.current.hasOwnProperty(i)?this.current[i]:this.builtins[i]}set(i,l,h){if(h===void 0&&(h=!1),h){for(let f=0;f<this.undefStack.length;f++)delete this.undefStack[f][i];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][i]=l)}else{const f=this.undefStack[this.undefStack.length-1];f&&!f.hasOwnProperty(i)&&(f[i]=this.current[i])}l==null?delete this.current[i]:this.current[i]=l}}var n6=Nm;E("\\noexpand",function(a){const i=a.popToken();return a.isExpandable(i.text)&&(i.noexpand=!0,i.treatAsRelax=!0),{tokens:[i],numArgs:0}}),E("\\expandafter",function(a){const i=a.popToken();return a.expandOnce(!0),{tokens:[i],numArgs:0}}),E("\\@firstoftwo",function(a){return{tokens:a.consumeArgs(2)[0],numArgs:0}}),E("\\@secondoftwo",function(a){return{tokens:a.consumeArgs(2)[1],numArgs:0}}),E("\\@ifnextchar",function(a){const i=a.consumeArgs(3);a.consumeSpaces();const l=a.future();return i[0].length===1&&i[0][0].text===l.text?{tokens:i[1],numArgs:0}:{tokens:i[2],numArgs:0}}),E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),E("\\TextOrMath",function(a){const i=a.consumeArgs(2);return a.mode==="text"?{tokens:i[0],numArgs:0}:{tokens:i[1],numArgs:0}});const r1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(a){let i=a.popToken(),l,h="";if(i.text==="'")l=8,i=a.popToken();else if(i.text==='"')l=16,i=a.popToken();else if(i.text==="`")if(i=a.popToken(),i.text[0]==="\\")h=i.text.charCodeAt(1);else{if(i.text==="EOF")throw new o("\\char` missing argument");h=i.text.charCodeAt(0)}else l=10;if(l){if(h=r1[i.text],h==null||h>=l)throw new o("Invalid base-"+l+" digit "+i.text);let f;for(;(f=r1[a.future().text])!=null&&f<l;)h*=l,h+=f,a.popToken()}return"\\@char{"+h+"}"});const Ic=(a,i,l,h)=>{let f=a.consumeArg().tokens;if(f.length!==1)throw new o("\\newcommand's first argument must be a macro name");const y=f[0].text,_=a.isDefined(y);if(_&&!i)throw new o("\\newcommand{"+y+"} attempting to redefine "+(y+"; use \\renewcommand"));if(!_&&!l)throw new o("\\renewcommand{"+y+"} when command "+y+" does not yet exist; use \\newcommand");let S=0;if(f=a.consumeArg().tokens,f.length===1&&f[0].text==="["){let I="",B=a.expandNextToken();for(;B.text!=="]"&&B.text!=="EOF";)I+=B.text,B=a.expandNextToken();if(!I.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+I);S=parseInt(I),f=a.consumeArg().tokens}return _&&h||a.macros.set(y,{tokens:f,numArgs:S}),""};E("\\newcommand",a=>Ic(a,!1,!0,!1)),E("\\renewcommand",a=>Ic(a,!0,!1,!1)),E("\\providecommand",a=>Ic(a,!0,!0,!0)),E("\\message",a=>{const i=a.consumeArgs(1)[0];return console.log(i.reverse().map(l=>l.text).join("")),""}),E("\\errmessage",a=>{const i=a.consumeArgs(1)[0];return console.error(i.reverse().map(l=>l.text).join("")),""}),E("\\show",a=>{const i=a.popToken(),l=i.text;return console.log(i,a.macros.get(l),Ds[l],Ye.math[l],Ye.text[l]),""}),E("\\bgroup","{"),E("\\egroup","}"),E("~","\\nobreakspace"),E("\\lq","`"),E("\\rq","'"),E("\\aa","\\r a"),E("\\AA","\\r A"),E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),E("","\\mathscr{B}"),E("","\\mathscr{E}"),E("","\\mathscr{F}"),E("","\\mathscr{H}"),E("","\\mathscr{I}"),E("","\\mathscr{L}"),E("","\\mathscr{M}"),E("","\\mathscr{R}"),E("","\\mathfrak{C}"),E("","\\mathfrak{H}"),E("","\\mathfrak{Z}"),E("\\Bbbk","\\Bbb{k}"),E("","\\cdotp"),E("\\llap","\\mathllap{\\textrm{#1}}"),E("\\rlap","\\mathrlap{\\textrm{#1}}"),E("\\clap","\\mathclap{\\textrm{#1}}"),E("\\mathstrut","\\vphantom{(}"),E("\\underbar","\\underline{\\text{#1}}"),E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),E("\\ne","\\neq"),E("","\\neq"),E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),E("","\\notin"),E("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),E("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),E("","\\perp"),E("","\\mathclose{!\\mkern-0.8mu!}"),E("","\\notni"),E("","\\ulcorner"),E("","\\urcorner"),E("","\\llcorner"),E("","\\lrcorner"),E("","\\copyright"),E("","\\textregistered"),E("","\\textregistered"),E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),E("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),E("","\\vdots"),E("\\varGamma","\\mathit{\\Gamma}"),E("\\varDelta","\\mathit{\\Delta}"),E("\\varTheta","\\mathit{\\Theta}"),E("\\varLambda","\\mathit{\\Lambda}"),E("\\varXi","\\mathit{\\Xi}"),E("\\varPi","\\mathit{\\Pi}"),E("\\varSigma","\\mathit{\\Sigma}"),E("\\varUpsilon","\\mathit{\\Upsilon}"),E("\\varPhi","\\mathit{\\Phi}"),E("\\varPsi","\\mathit{\\Psi}"),E("\\varOmega","\\mathit{\\Omega}"),E("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),E("\\boxed","\\fbox{$\\displaystyle{#1}$}"),E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),E("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),E("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),E("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const s1={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(a){let i="\\dotso";const l=a.expandAfterFuture().text;return l in s1?i=s1[l]:(l.slice(0,4)==="\\not"||l in Ye.math&&["bin","rel"].includes(Ye.math[l].group))&&(i="\\dotsb"),i});const Cc={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(a){return a.future().text in Cc?"\\ldots\\,":"\\ldots"}),E("\\dotsc",function(a){const i=a.future().text;return i in Cc&&i!==","?"\\ldots\\,":"\\ldots"}),E("\\cdots",function(a){return a.future().text in Cc?"\\@cdots\\,":"\\@cdots"}),E("\\dotsb","\\cdots"),E("\\dotsm","\\cdots"),E("\\dotsi","\\!\\cdots"),E("\\dotsx","\\ldots\\,"),E("\\DOTSI","\\relax"),E("\\DOTSB","\\relax"),E("\\DOTSX","\\relax"),E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),E("\\,","\\tmspace+{3mu}{.1667em}"),E("\\thinspace","\\,"),E("\\>","\\mskip{4mu}"),E("\\:","\\tmspace+{4mu}{.2222em}"),E("\\medspace","\\:"),E("\\;","\\tmspace+{5mu}{.2777em}"),E("\\thickspace","\\;"),E("\\!","\\tmspace-{3mu}{.1667em}"),E("\\negthinspace","\\!"),E("\\negmedspace","\\tmspace-{4mu}{.2222em}"),E("\\negthickspace","\\tmspace-{5mu}{.277em}"),E("\\enspace","\\kern.5em "),E("\\enskip","\\hskip.5em\\relax"),E("\\quad","\\hskip1em\\relax"),E("\\qquad","\\hskip2em\\relax"),E("\\tag","\\@ifstar\\tag@literal\\tag@paren"),E("\\tag@paren","\\tag@literal{({#1})}"),E("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),E("\\newline","\\\\\\relax"),E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const i1=fe(En["Main-Regular"][84][1]-.7*En["Main-Regular"][65][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+i1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+i1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),E("\\hspace","\\@ifstar\\@hspacer\\@hspace"),E("\\@hspace","\\hskip #1\\relax"),E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),E("\\ordinarycolon",":"),E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),E("","\\dblcolon"),E("","\\eqcolon"),E("","\\coloneqq"),E("","\\eqqcolon"),E("","\\Coloneqq"),E("\\ratio","\\vcentcolon"),E("\\coloncolon","\\dblcolon"),E("\\colonequals","\\coloneqq"),E("\\coloncolonequals","\\Coloneqq"),E("\\equalscolon","\\eqqcolon"),E("\\equalscoloncolon","\\Eqqcolon"),E("\\colonminus","\\coloneq"),E("\\coloncolonminus","\\Coloneq"),E("\\minuscolon","\\eqcolon"),E("\\minuscoloncolon","\\Eqcolon"),E("\\coloncolonapprox","\\Colonapprox"),E("\\coloncolonsim","\\Colonsim"),E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),E("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),E("\\nleqq","\\html@mathml{\\@nleqq}{}"),E("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),E("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),E("\\imath","\\html@mathml{\\@imath}{}"),E("\\jmath","\\html@mathml{\\@jmath}{}"),E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),E("","\\llbracket"),E("","\\rrbracket"),E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),E("","\\lBrace"),E("","\\rBrace"),E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),E("","\\minuso"),E("\\darr","\\downarrow"),E("\\dArr","\\Downarrow"),E("\\Darr","\\Downarrow"),E("\\lang","\\langle"),E("\\rang","\\rangle"),E("\\uarr","\\uparrow"),E("\\uArr","\\Uparrow"),E("\\Uarr","\\Uparrow"),E("\\N","\\mathbb{N}"),E("\\R","\\mathbb{R}"),E("\\Z","\\mathbb{Z}"),E("\\alef","\\aleph"),E("\\alefsym","\\aleph"),E("\\Alpha","\\mathrm{A}"),E("\\Beta","\\mathrm{B}"),E("\\bull","\\bullet"),E("\\Chi","\\mathrm{X}"),E("\\clubs","\\clubsuit"),E("\\cnums","\\mathbb{C}"),E("\\Complex","\\mathbb{C}"),E("\\Dagger","\\ddagger"),E("\\diamonds","\\diamondsuit"),E("\\empty","\\emptyset"),E("\\Epsilon","\\mathrm{E}"),E("\\Eta","\\mathrm{H}"),E("\\exist","\\exists"),E("\\harr","\\leftrightarrow"),E("\\hArr","\\Leftrightarrow"),E("\\Harr","\\Leftrightarrow"),E("\\hearts","\\heartsuit"),E("\\image","\\Im"),E("\\infin","\\infty"),E("\\Iota","\\mathrm{I}"),E("\\isin","\\in"),E("\\Kappa","\\mathrm{K}"),E("\\larr","\\leftarrow"),E("\\lArr","\\Leftarrow"),E("\\Larr","\\Leftarrow"),E("\\lrarr","\\leftrightarrow"),E("\\lrArr","\\Leftrightarrow"),E("\\Lrarr","\\Leftrightarrow"),E("\\Mu","\\mathrm{M}"),E("\\natnums","\\mathbb{N}"),E("\\Nu","\\mathrm{N}"),E("\\Omicron","\\mathrm{O}"),E("\\plusmn","\\pm"),E("\\rarr","\\rightarrow"),E("\\rArr","\\Rightarrow"),E("\\Rarr","\\Rightarrow"),E("\\real","\\Re"),E("\\reals","\\mathbb{R}"),E("\\Reals","\\mathbb{R}"),E("\\Rho","\\mathrm{P}"),E("\\sdot","\\cdot"),E("\\sect","\\S"),E("\\spades","\\spadesuit"),E("\\sub","\\subset"),E("\\sube","\\subseteq"),E("\\supe","\\supseteq"),E("\\Tau","\\mathrm{T}"),E("\\thetasym","\\vartheta"),E("\\weierp","\\wp"),E("\\Zeta","\\mathrm{Z}"),E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),E("\\bra","\\mathinner{\\langle{#1}|}"),E("\\ket","\\mathinner{|{#1}\\rangle}"),E("\\braket","\\mathinner{\\langle{#1}\\rangle}"),E("\\Bra","\\left\\langle#1\\right|"),E("\\Ket","\\left|#1\\right\\rangle");const o1=a=>i=>{const l=i.consumeArg().tokens,h=i.consumeArg().tokens,f=i.consumeArg().tokens,y=i.consumeArg().tokens,_=i.macros.get("|"),S=i.macros.get("\\|");i.macros.beginGroup();const I=K=>Z=>{a&&(Z.macros.set("|",_),f.length&&Z.macros.set("\\|",S));let se=K;return!K&&f.length&&Z.future().text==="|"&&(Z.popToken(),se=!0),{tokens:se?f:h,numArgs:0}};i.macros.set("|",I(!1)),f.length&&i.macros.set("\\|",I(!0));const B=i.consumeArg().tokens,W=i.expandTokens([...y,...B,...l]);return i.macros.endGroup(),{tokens:W.reverse(),numArgs:0}};E("\\bra@ket",o1(!1)),E("\\bra@set",o1(!0)),E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),E("\\angln","{\\angl n}"),E("\\blue","\\textcolor{##6495ed}{#1}"),E("\\orange","\\textcolor{##ffa500}{#1}"),E("\\pink","\\textcolor{##ff00af}{#1}"),E("\\red","\\textcolor{##df0030}{#1}"),E("\\green","\\textcolor{##28ae7b}{#1}"),E("\\gray","\\textcolor{gray}{#1}"),E("\\purple","\\textcolor{##9d38bd}{#1}"),E("\\blueA","\\textcolor{##ccfaff}{#1}"),E("\\blueB","\\textcolor{##80f6ff}{#1}"),E("\\blueC","\\textcolor{##63d9ea}{#1}"),E("\\blueD","\\textcolor{##11accd}{#1}"),E("\\blueE","\\textcolor{##0c7f99}{#1}"),E("\\tealA","\\textcolor{##94fff5}{#1}"),E("\\tealB","\\textcolor{##26edd5}{#1}"),E("\\tealC","\\textcolor{##01d1c1}{#1}"),E("\\tealD","\\textcolor{##01a995}{#1}"),E("\\tealE","\\textcolor{##208170}{#1}"),E("\\greenA","\\textcolor{##b6ffb0}{#1}"),E("\\greenB","\\textcolor{##8af281}{#1}"),E("\\greenC","\\textcolor{##74cf70}{#1}"),E("\\greenD","\\textcolor{##1fab54}{#1}"),E("\\greenE","\\textcolor{##0d923f}{#1}"),E("\\goldA","\\textcolor{##ffd0a9}{#1}"),E("\\goldB","\\textcolor{##ffbb71}{#1}"),E("\\goldC","\\textcolor{##ff9c39}{#1}"),E("\\goldD","\\textcolor{##e07d10}{#1}"),E("\\goldE","\\textcolor{##a75a05}{#1}"),E("\\redA","\\textcolor{##fca9a9}{#1}"),E("\\redB","\\textcolor{##ff8482}{#1}"),E("\\redC","\\textcolor{##f9685d}{#1}"),E("\\redD","\\textcolor{##e84d39}{#1}"),E("\\redE","\\textcolor{##bc2612}{#1}"),E("\\maroonA","\\textcolor{##ffbde0}{#1}"),E("\\maroonB","\\textcolor{##ff92c6}{#1}"),E("\\maroonC","\\textcolor{##ed5fa6}{#1}"),E("\\maroonD","\\textcolor{##ca337c}{#1}"),E("\\maroonE","\\textcolor{##9e034e}{#1}"),E("\\purpleA","\\textcolor{##ddd7ff}{#1}"),E("\\purpleB","\\textcolor{##c6b9fc}{#1}"),E("\\purpleC","\\textcolor{##aa87ff}{#1}"),E("\\purpleD","\\textcolor{##7854ab}{#1}"),E("\\purpleE","\\textcolor{##543b78}{#1}"),E("\\mintA","\\textcolor{##f5f9e8}{#1}"),E("\\mintB","\\textcolor{##edf2df}{#1}"),E("\\mintC","\\textcolor{##e0e5cc}{#1}"),E("\\grayA","\\textcolor{##f6f7f7}{#1}"),E("\\grayB","\\textcolor{##f0f1f2}{#1}"),E("\\grayC","\\textcolor{##e3e5e6}{#1}"),E("\\grayD","\\textcolor{##d6d8da}{#1}"),E("\\grayE","\\textcolor{##babec2}{#1}"),E("\\grayF","\\textcolor{##888d93}{#1}"),E("\\grayG","\\textcolor{##626569}{#1}"),E("\\grayH","\\textcolor{##3b3e40}{#1}"),E("\\grayI","\\textcolor{##21242c}{#1}"),E("\\kaBlue","\\textcolor{##314453}{#1}"),E("\\kaGreen","\\textcolor{##71B307}{#1}");const a1={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class r6{constructor(i,l,h){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=l,this.expansionCount=0,this.feed(i),this.macros=new t6(n6,l.macros),this.mode=h,this.stack=[]}feed(i){this.lexer=new n1(i,this.settings)}switchMode(i){this.mode=i}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(i){this.stack.push(i)}pushTokens(i){this.stack.push(...i)}scanArgument(i){let l,h,f;if(i){if(this.consumeSpaces(),this.future().text!=="[")return null;l=this.popToken(),{tokens:f,end:h}=this.consumeArg(["]"])}else({tokens:f,start:l,end:h}=this.consumeArg());return this.pushToken(new Un("EOF",h.loc)),this.pushTokens(f),new Un("",An.range(l,h))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(i){const l=[],h=i&&i.length>0;h||this.consumeSpaces();const f=this.future();let y,_=0,S=0;do{if(y=this.popToken(),l.push(y),y.text==="{")++_;else if(y.text==="}"){if(--_,_===-1)throw new o("Extra }",y)}else if(y.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(i&&h?i[S]:"}")+"'",y);if(i&&h)if((_===0||_===1&&i[S]==="{")&&y.text===i[S]){if(++S,S===i.length){l.splice(-S,S);break}}else S=0}while(_!==0||h);return f.text==="{"&&l[l.length-1].text==="}"&&(l.pop(),l.shift()),l.reverse(),{tokens:l,start:f,end:y}}consumeArgs(i,l){if(l){if(l.length!==i+1)throw new o("The length of delimiters doesn't match the number of args!");const f=l[0];for(let y=0;y<f.length;y++){const _=this.popToken();if(f[y]!==_.text)throw new o("Use of the macro doesn't match its definition",_)}}const h=[];for(let f=0;f<i;f++)h.push(this.consumeArg(l&&l[f+1]).tokens);return h}countExpansion(i){if(this.expansionCount+=i,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(i){const l=this.popToken(),h=l.text,f=l.noexpand?null:this._getExpansion(h);if(f==null||i&&f.unexpandable){if(i&&f==null&&h[0]==="\\"&&!this.isDefined(h))throw new o("Undefined control sequence: "+h);return this.pushToken(l),!1}this.countExpansion(1);let y=f.tokens;const _=this.consumeArgs(f.numArgs,f.delimiters);if(f.numArgs){y=y.slice();for(let S=y.length-1;S>=0;--S){let I=y[S];if(I.text==="#"){if(S===0)throw new o("Incomplete placeholder at end of macro body",I);if(I=y[--S],I.text==="#")y.splice(S+1,1);else if(/^[1-9]$/.test(I.text))y.splice(S,2,..._[+I.text-1]);else throw new o("Not a valid argument number",I)}}}return this.pushTokens(y),y.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const i=this.stack.pop();return i.treatAsRelax&&(i.text="\\relax"),i}throw new Error}expandMacro(i){return this.macros.has(i)?this.expandTokens([new Un(i)]):void 0}expandTokens(i){const l=[],h=this.stack.length;for(this.pushTokens(i);this.stack.length>h;)if(this.expandOnce(!0)===!1){const f=this.stack.pop();f.treatAsRelax&&(f.noexpand=!1,f.treatAsRelax=!1),l.push(f)}return this.countExpansion(l.length),l}expandMacroAsText(i){const l=this.expandMacro(i);return l&&l.map(h=>h.text).join("")}_getExpansion(i){const l=this.macros.get(i);if(l==null)return l;if(i.length===1){const f=this.lexer.catcodes[i];if(f!=null&&f!==13)return}const h=typeof l=="function"?l(this):l;if(typeof h=="string"){let f=0;if(h.indexOf("#")!==-1){const B=h.replace(/##/g,"");for(;B.indexOf("#"+(f+1))!==-1;)++f}const y=new n1(h,this.settings),_=[];let S=y.lex();for(;S.text!=="EOF";)_.push(S),S=y.lex();return _.reverse(),{tokens:_,numArgs:f}}return h}isDefined(i){return this.macros.has(i)||Ds.hasOwnProperty(i)||Ye.math.hasOwnProperty(i)||Ye.text.hasOwnProperty(i)||a1.hasOwnProperty(i)}isExpandable(i){const l=this.macros.get(i);return l!=null?typeof l=="string"||typeof l=="function"||!l.unexpandable:Ds.hasOwnProperty(i)&&!Ds[i].primitive}}const l1=/^[]/,Zl=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Rc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},u1={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class e0{constructor(i,l){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new r6(i,l,this.mode),this.settings=l,this.leftrightDepth=0}expect(i,l){if(l===void 0&&(l=!0),this.fetch().text!==i)throw new o("Expected '"+i+"', got '"+this.fetch().text+"'",this.fetch());l&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(i){this.mode=i,this.gullet.switchMode(i)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const i=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),i}finally{this.gullet.endGroups()}}subparse(i){const l=this.nextToken;this.consume(),this.gullet.pushToken(new Un("}")),this.gullet.pushTokens(i);const h=this.parseExpression(!1);return this.expect("}"),this.nextToken=l,h}parseExpression(i,l){const h=[];for(;;){this.mode==="math"&&this.consumeSpaces();const f=this.fetch();if(e0.endOfExpression.indexOf(f.text)!==-1||l&&f.text===l||i&&Ds[f.text]&&Ds[f.text].infix)break;const y=this.parseAtom(l);if(y){if(y.type==="internal")continue}else break;h.push(y)}return this.mode==="text"&&this.formLigatures(h),this.handleInfixNodes(h)}handleInfixNodes(i){let l=-1,h;for(let f=0;f<i.length;f++)if(i[f].type==="infix"){if(l!==-1)throw new o("only one infix operator per group",i[f].token);l=f,h=i[f].replaceWith}if(l!==-1&&h){let f,y;const _=i.slice(0,l),S=i.slice(l+1);_.length===1&&_[0].type==="ordgroup"?f=_[0]:f={type:"ordgroup",mode:this.mode,body:_},S.length===1&&S[0].type==="ordgroup"?y=S[0]:y={type:"ordgroup",mode:this.mode,body:S};let I;return h==="\\\\abovefrac"?I=this.callFunction(h,[f,i[l],y],[]):I=this.callFunction(h,[f,y],[]),[I]}else return i}handleSupSubscript(i){const l=this.fetch(),h=l.text;this.consume(),this.consumeSpaces();let f;do{var y;f=this.parseGroup(i)}while(((y=f)==null?void 0:y.type)==="internal");if(!f)throw new o("Expected group after '"+h+"'",l);return f}formatUnsupportedCmd(i){const l=[];for(let y=0;y<i.length;y++)l.push({type:"textord",mode:"text",text:i[y]});const h={type:"text",mode:this.mode,body:l};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[h]}}parseAtom(i){const l=this.parseGroup("atom",i);if((l==null?void 0:l.type)==="internal"||this.mode==="text")return l;let h,f;for(;;){this.consumeSpaces();const y=this.fetch();if(y.text==="\\limits"||y.text==="\\nolimits"){if(l&&l.type==="op"){const _=y.text==="\\limits";l.limits=_,l.alwaysHandleSupSub=!0}else if(l&&l.type==="operatorname")l.alwaysHandleSupSub&&(l.limits=y.text==="\\limits");else throw new o("Limit controls must follow a math operator",y);this.consume()}else if(y.text==="^"){if(h)throw new o("Double superscript",y);h=this.handleSupSubscript("superscript")}else if(y.text==="_"){if(f)throw new o("Double subscript",y);f=this.handleSupSubscript("subscript")}else if(y.text==="'"){if(h)throw new o("Double superscript",y);const _={type:"textord",mode:this.mode,text:"\\prime"},S=[_];for(this.consume();this.fetch().text==="'";)S.push(_),this.consume();this.fetch().text==="^"&&S.push(this.handleSupSubscript("superscript")),h={type:"ordgroup",mode:this.mode,body:S}}else if(Zl[y.text]){const _=l1.test(y.text),S=[];for(S.push(new Un(Zl[y.text])),this.consume();;){const B=this.fetch().text;if(!Zl[B]||l1.test(B)!==_)break;S.unshift(new Un(Zl[B])),this.consume()}const I=this.subparse(S);_?f={type:"ordgroup",mode:"math",body:I}:h={type:"ordgroup",mode:"math",body:I}}else break}return h||f?{type:"supsub",mode:this.mode,base:l,sup:h,sub:f}:l}parseFunction(i,l){const h=this.fetch(),f=h.text,y=Ds[f];if(!y)return null;if(this.consume(),l&&l!=="atom"&&!y.allowedInArgument)throw new o("Got function '"+f+"' with no arguments"+(l?" as "+l:""),h);if(this.mode==="text"&&!y.allowedInText)throw new o("Can't use function '"+f+"' in text mode",h);if(this.mode==="math"&&y.allowedInMath===!1)throw new o("Can't use function '"+f+"' in math mode",h);const{args:_,optArgs:S}=this.parseArguments(f,y);return this.callFunction(f,_,S,h,i)}callFunction(i,l,h,f,y){const _={funcName:i,parser:this,token:f,breakOnTokenText:y},S=Ds[i];if(S&&S.handler)return S.handler(_,l,h);throw new o("No function handler for "+i)}parseArguments(i,l){const h=l.numArgs+l.numOptionalArgs;if(h===0)return{args:[],optArgs:[]};const f=[],y=[];for(let _=0;_<h;_++){let S=l.argTypes&&l.argTypes[_];const I=_<l.numOptionalArgs;(l.primitive&&S==null||l.type==="sqrt"&&_===1&&y[0]==null)&&(S="primitive");const B=this.parseGroupOfType("argument to '"+i+"'",S,I);if(I)y.push(B);else if(B!=null)f.push(B);else throw new o("Null argument, please report this as a bug")}return{args:f,optArgs:y}}parseGroupOfType(i,l,h){switch(l){case"color":return this.parseColorGroup(h);case"size":return this.parseSizeGroup(h);case"url":return this.parseUrlGroup(h);case"math":case"text":return this.parseArgumentGroup(h,l);case"hbox":{const f=this.parseArgumentGroup(h,"text");return f!=null?{type:"styling",mode:f.mode,body:[f],style:"text"}:null}case"raw":{const f=this.parseStringGroup("raw",h);return f!=null?{type:"raw",mode:"text",string:f.text}:null}case"primitive":{if(h)throw new o("A primitive argument cannot be optional");const f=this.parseGroup(i);if(f==null)throw new o("Expected group as "+i,this.fetch());return f}case"original":case null:case void 0:return this.parseArgumentGroup(h);default:throw new o("Unknown group type as "+i,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(i,l){const h=this.gullet.scanArgument(l);if(h==null)return null;let f="",y;for(;(y=this.fetch()).text!=="EOF";)f+=y.text,this.consume();return this.consume(),h.text=f,h}parseRegexGroup(i,l){const h=this.fetch();let f=h,y="",_;for(;(_=this.fetch()).text!=="EOF"&&i.test(y+_.text);)f=_,y+=f.text,this.consume();if(y==="")throw new o("Invalid "+l+": '"+h.text+"'",h);return h.range(f,y)}parseColorGroup(i){const l=this.parseStringGroup("color",i);if(l==null)return null;const h=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(l.text);if(!h)throw new o("Invalid color: '"+l.text+"'",l);let f=h[0];return/^[0-9a-f]{6}$/i.test(f)&&(f="#"+f),{type:"color-token",mode:this.mode,color:f}}parseSizeGroup(i){let l,h=!1;if(this.gullet.consumeSpaces(),!i&&this.gullet.future().text!=="{"?l=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):l=this.parseStringGroup("size",i),!l)return null;!i&&l.text.length===0&&(l.text="0pt",h=!0);const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l.text);if(!f)throw new o("Invalid size: '"+l.text+"'",l);const y={number:+(f[1]+f[2]),unit:f[3]};if(!Qi(y))throw new o("Invalid unit: '"+y.unit+"'",l);return{type:"size",mode:this.mode,value:y,isBlank:h}}parseUrlGroup(i){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const l=this.parseStringGroup("url",i);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),l==null)return null;const h=l.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:h}}parseArgumentGroup(i,l){const h=this.gullet.scanArgument(i);if(h==null)return null;const f=this.mode;l&&this.switchMode(l),this.gullet.beginGroup();const y=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const _={type:"ordgroup",mode:this.mode,loc:h.loc,body:y};return l&&this.switchMode(f),_}parseGroup(i,l){const h=this.fetch(),f=h.text;let y;if(f==="{"||f==="\\begingroup"){this.consume();const _=f==="{"?"}":"\\endgroup";this.gullet.beginGroup();const S=this.parseExpression(!1,_),I=this.fetch();this.expect(_),this.gullet.endGroup(),y={type:"ordgroup",mode:this.mode,loc:An.range(h,I),body:S,semisimple:f==="\\begingroup"||void 0}}else if(y=this.parseFunction(l,i)||this.parseSymbol(),y==null&&f[0]==="\\"&&!a1.hasOwnProperty(f)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+f,h);y=this.formatUnsupportedCmd(f),this.consume()}return y}formLigatures(i){let l=i.length-1;for(let h=0;h<l;++h){const f=i[h],y=f.text;y==="-"&&i[h+1].text==="-"&&(h+1<l&&i[h+2].text==="-"?(i.splice(h,3,{type:"textord",mode:"text",loc:An.range(f,i[h+2]),text:"---"}),l-=2):(i.splice(h,2,{type:"textord",mode:"text",loc:An.range(f,i[h+1]),text:"--"}),l-=1)),(y==="'"||y==="`")&&i[h+1].text===y&&(i.splice(h,2,{type:"textord",mode:"text",loc:An.range(f,i[h+1]),text:y+y}),l-=1)}}parseSymbol(){const i=this.fetch();let l=i.text;if(/^\\verb[^a-zA-Z]/.test(l)){this.consume();let y=l.slice(5);const _=y.charAt(0)==="*";if(_&&(y=y.slice(1)),y.length<2||y.charAt(0)!==y.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return y=y.slice(1,-1),{type:"verb",mode:"text",body:y,star:_}}u1.hasOwnProperty(l[0])&&!Ye[this.mode][l[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+l[0]+'" used in math mode',i),l=u1[l[0]]+l.slice(1));const h=Z3.exec(l);h&&(l=l.substring(0,h.index),l==="i"?l="":l==="j"&&(l=""));let f;if(Ye[this.mode][l]){this.settings.strict&&this.mode==="math"&&Zr.indexOf(l)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+l[0]+'" used in math mode',i);const y=Ye[this.mode][l].group,_=An.range(i);let S;if(Xi.hasOwnProperty(y)){const I=y;S={type:"atom",mode:this.mode,family:I,loc:_,text:l}}else S={type:y,mode:this.mode,loc:_,text:l};f=S}else if(l.charCodeAt(0)>=128)this.settings.strict&&(pn(l.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+l[0]+'" used in math mode',i):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+l[0]+'"'+(" ("+l.charCodeAt(0)+")"),i)),f={type:"textord",mode:"text",loc:An.range(i),text:l};else return null;if(this.consume(),h)for(let y=0;y<h[0].length;y++){const _=h[0][y];if(!Rc[_])throw new o("Unknown accent ' "+_+"'",i);const S=Rc[_][this.mode]||Rc[_].text;if(!S)throw new o("Accent "+_+" unsupported in "+this.mode+" mode",i);f={type:"accent",mode:this.mode,loc:An.range(i),label:S,isStretchy:!1,isShifty:!0,base:f}}return f}}e0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Nc=function(a,i){if(!(typeof a=="string"||a instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const l=new e0(a,i);delete l.gullet.macros.current["\\df@tag"];let h=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new o("\\tag works only in display equations");h=[{type:"tag",mode:"text",body:h,tag:l.subparse([new Un("\\df@tag")])}]}return h};let c1=function(a,i,l){i.textContent="";const h=Pc(a,l).toNode();i.appendChild(h)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),c1=function(){throw new o("KaTeX doesn't work in quirks mode.")});const s6=function(a,i){return Pc(a,i).toMarkup()},i6=function(a,i){const l=new j(i);return Nc(a,l)},h1=function(a,i,l){if(l.throwOnError||!(a instanceof o))throw a;const h=X.makeSpan(["katex-error"],[new qt(i)]);return h.setAttribute("title",a.toString()),h.setAttribute("style","color:"+l.errorColor),h},Pc=function(a,i){const l=new j(i);try{const h=Nc(a,l);return Wl(h,a,l)}catch(h){return h1(h,a,l)}};var o6={version:"0.16.25",render:c1,renderToString:s6,ParseError:o,SETTINGS_SCHEMA:F,__parse:i6,__renderToDomTree:Pc,__renderToHTMLTree:function(a,i){const l=new j(i);try{const h=Nc(a,l);return _i(h,a,l)}catch(h){return h1(h,a,l)}},__setFontMetrics:Ts,__defineSymbol:m,__defineFunction:ye,__defineMacro:E,__domTree:{Span:Dt,Anchor:Xr,SymbolNode:qt,SvgNode:Vt,PathNode:Bn,LineNode:Yn}},a6=o6;return r=r.default,r}()})}(lh)),lh.exports}(function(t,e){(function(n,r){r(e,be,jy(),Uy())})(M4,function(n,r,s,o){Object.defineProperty(n,"__esModule",{value:!0});function c(G,F){for(var P in F)Object.defineProperty(G,P,{enumerable:!0,get:F[P]})}c(n,{BlockMath:()=>Y,InlineMath:()=>J}),r=x(r),s=d(s),o=d(o);function d(G){return G&&G.__esModule?G:{default:G}}function p(G){if(typeof WeakMap!="function")return null;var F=new WeakMap,P=new WeakMap;return(p=function(j){return j?P:F})(G)}function x(G,F){if(G&&G.__esModule)return G;if(G===null||typeof G!="object"&&typeof G!="function")return{default:G};var P=p(F);if(P&&P.has(G))return P.get(G);var j={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in G)if(de!=="default"&&Object.prototype.hasOwnProperty.call(G,de)){var ue=te?Object.getOwnPropertyDescriptor(G,de):null;ue&&(ue.get||ue.set)?Object.defineProperty(j,de,ue):j[de]=G[de]}return j.default=G,P&&P.set(G,j),j}const T=(G,{displayMode:F})=>{const P=({children:j,errorColor:te,math:de,renderError:ue})=>{const O=de??j,{html:k,error:D}=(0,r.useMemo)(()=>{try{return{html:o.default.renderToString(O,{displayMode:F,errorColor:te,throwOnError:!!ue}),error:void 0}}catch(M){if(M instanceof o.default.ParseError||M instanceof TypeError)return{error:M};throw M}},[O,te,ue]);return D?ue?ue(D):r.default.createElement(G,{html:`${D.message}`}):r.default.createElement(G,{html:k})};return P.propTypes={children:s.default.string,errorColor:s.default.string,math:s.default.string,renderError:s.default.func},P},C={html:s.default.string.isRequired},R=({html:G})=>r.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:G}});R.propTypes=C;const H=({html:G})=>r.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:G}});H.propTypes=C;const Y=T(R,{displayMode:!0}),J=T(H,{displayMode:!1})})})(fd,fd.exports);var Ap=fd.exports;const qy=[/\$\$[\s\S]+?\$\$/,/\\\([^)]+\\\)/,/\\\[[^\]]+\\\]/,/\\(?:frac|sum|int|lim|sqrt|theta|alpha|beta|gamma|pi|times|cdot|pm|Sigma|Delta|nabla)\b/,/(?:^|\s)(?:[0-9A-Za-z]+)\s*(?:\^|_)\s*(?:[0-9A-Za-z]+)/],Hy=t=>t?qy.some(e=>e.test(t)):!1,$y=t=>{if(!t)return[];const e=[],n=/\$\$([\s\S]+?)\$\$|\\\(([\s\S]+?)\\\)|\\\[([\s\S]+?)\\\]/g;let r=0,s;for(;(s=n.exec(t))!==null;){s.index>r&&e.push({type:"text",value:t.slice(r,s.index)});const[,o,c,d]=s;o?e.push({type:"math",value:o.trim(),mode:"block"}):c?e.push({type:"math",value:c.trim(),mode:"inline"}):d&&e.push({type:"math",value:d.trim(),mode:"block"}),r=s.index+s[0].length}return r<t.length&&e.push({type:"text",value:t.slice(r)}),e},Ip=t=>{const e=t.split(`
`);return e.map((n,r)=>L.jsxs(be.Fragment,{children:[n,r<e.length-1?L.jsx("br",{}):null]},`line-${r}`))},Cf=({text:t,className:e,displayMode:n="block"})=>{const r=be.useMemo(()=>$y(t),[t]),s=r.some(p=>p.type==="math"),o=s||Hy(t),c=n==="inline"?"span":"div";if(!o)return L.jsx(c,{className:e,children:Ip(t)});const d=s?r:[{type:"math",value:t.trim(),mode:n}];return L.jsx(c,{className:e,children:d.map((p,x)=>p.type==="math"?(p.mode??n)==="inline"?L.jsx(Ap.InlineMath,{children:p.value},`math-${x}`):L.jsx(Ap.BlockMath,{children:p.value},`math-${x}`):L.jsx(be.Fragment,{children:Ip(p.value)},`text-${x}`))})},Wy=({option:t,isSelected:e,isCorrectChoice:n,showStatus:r,disabled:s,onSelect:o})=>{const c=r&&e&&n?"border-mint-600 bg-mint-50 text-cocoa-500 shadow-inner":r&&e&&!n?"border-rose-400 bg-blush-200/70 text-rose-500":r&&!e&&n?"border-mint-400 bg-mint-50 text-cocoa-500":!r&&e?"border-cocoa-300 bg-cream-50":"border-[rgba(118,90,72,0.18)] bg-white hover:border-cocoa-300";return L.jsx("button",{type:"button","aria-label":`Option ${t.label}`,disabled:s,className:`flex w-full items-stretch justify-between rounded-2xl border px-5 py-3 text-left font-medium text-cocoa-500 transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${c} ${s?"cursor-not-allowed opacity-90":""}`,onClick:o,children:L.jsxs("div",{className:"flex w-full items-start gap-3",children:[L.jsxs("span",{className:"text-lg font-semibold text-rose-400",children:[t.label,"."]}),L.jsx(Cf,{text:t.text,displayMode:"inline",className:"flex-1 text-base leading-relaxed text-current sm:text-lg"})]})})},Gy=({selection:t,question:e})=>{if(!t)return null;const n=e.options[e.correctIndex],r=t.isCorrect;return L.jsxs("div",{role:"status","aria-live":"polite",className:`mt-8 flex items-center gap-3 rounded-2xl px-5 py-4 text-base font-semibold ${r?"bg-mint-50 text-mint-600":"bg-cream-100/60 text-rose-500"}`,children:[L.jsx("span",{className:"text-2xl","aria-hidden":!0,children:r?"":":("}),r?L.jsx("span",{children:"Correct!"}):L.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[L.jsxs("span",{children:["Nope. Right answer: ",n.label,"."]}),L.jsx(Cf,{text:n.text,displayMode:"inline",className:"inline text-inherit"})]})]})},Ky=({hasPrev:t,hasNext:e,canProceed:n,onPrev:r,onNext:s,onFinish:o})=>{const c=!e,d=c?o:s,p=c?!n:!n||!e,x=c?"Finish exam":"Next";return L.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[L.jsx("button",{type:"button",disabled:!t,onClick:r,className:`rounded-2xl border border-transparent px-5 py-3 text-lg font-semibold transition-all ${t?"bg-cream-100 text-cocoa-500 hover:border-cocoa-200 hover:bg-white":"bg-cream-100 text-cocoa-300 opacity-60"}`,children:"Previous"}),L.jsx("button",{type:"button",disabled:p,onClick:d,className:`rounded-2xl px-5 py-3 text-lg font-semibold text-white transition-all ${p?"bg-cocoa-300 opacity-60":"bg-rose-400 hover:bg-rose-500"}`,children:x})]})},Qy=({exams:t,activeExamId:e,isOpen:n,onSelect:r,onToggle:s,onDelete:o})=>L.jsxs("aside",{className:`fixed bottom-0 right-0 top-0 z-30 w-72 border-l border-cream-100 bg-white px-5 py-6 shadow-2xl transition-all duration-200 md:static md:mt-0 md:h-auto md:border-none md:shadow-none ${n?"translate-x-0 opacity-100 md:block":"pointer-events-none translate-x-full opacity-0 md:hidden"}`,"aria-label":"Exam list",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h2",{className:"font-display text-xl font-semibold text-rose-500",children:"Stored Exams"}),L.jsx("button",{type:"button",className:"rounded-full bg-cream-100 px-3 py-1 text-xs font-semibold text-cocoa-500 md:hidden",onClick:s,children:n?"Hide":"Show"})]}),L.jsx("p",{className:"mt-2 text-sm text-cocoa-300",children:"Tap an exam to load it. Import as many as you like (up to 1000 questions each)."}),L.jsxs("ul",{className:"mt-4 space-y-2",children:[t.map(c=>{const d=c.id===e;return L.jsxs("li",{className:"relative",children:[L.jsxs("button",{type:"button",className:`w-full rounded-2xl border px-4 py-3 text-left text-sm font-semibold transition ${d?"border-rose-400 bg-blush-200/60 text-rose-500":"border-transparent bg-cream-50 text-cocoa-500 hover:border-cocoa-100"}`,onClick:()=>r(c.id),children:[L.jsx("span",{className:"block text-base",children:c.title}),L.jsxs("span",{className:"text-xs font-medium text-cocoa-300",children:[c.questions.length," questions"]})]}),L.jsx("button",{type:"button","aria-label":`Delete ${c.title}`,className:"absolute right-3 top-3 rounded-full border border-transparent bg-white/80 px-3 py-1 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:p=>{p.stopPropagation(),o(c.id)},children:"Delete"})]},c.id)}),t.length===0&&L.jsx("li",{className:"rounded-2xl border border-dashed border-cream-100 bg-cream-50/60 px-4 py-3 text-sm text-cocoa-300",children:"No exams stored yet."})]})]}),Xy=({title:t,score:e,total:n,onRetake:r,onExit:s})=>{const o=n>0?Math.round(e/n*100):0,c=Math.max(n-e,0);return L.jsxs("section",{"aria-label":"Exam summary",className:"flex flex-col items-center gap-8 text-center",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-rose-400",children:"Exam complete"}),L.jsx("h2",{className:"mt-3 font-display text-3xl font-semibold text-cocoa-600",children:t})]}),L.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-cream-100 bg-cream-50 px-8 py-6 shadow-inner",children:[L.jsx("p",{className:"text-sm font-medium text-cocoa-400",children:"Your score"}),L.jsxs("p",{className:"mt-3 text-5xl font-semibold text-rose-500",children:[e,"/",n]}),L.jsxs("p",{className:"mt-2 text-sm text-cocoa-400",children:[o,"% correct "," ",c===0?"Perfect run!":`${c} ${c===1?"missed question":"missed questions"}`]})]}),L.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row",children:[L.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-6 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:r,children:"Retake exam"}),L.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-6 py-3 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:s,children:"Back to exam hub"})]})]})},Yy={success:"bg-mint-50 text-mint-600",error:"bg-blush-200 text-rose-500",info:"bg-cream-100 text-cocoa-500"},Jy={success:"",error:"!",info:"i"},Zy=({text:t,type:e="info",icon:n,onDismiss:r})=>L.jsxs("div",{className:`mt-6 flex items-center justify-between gap-4 rounded-2xl px-4 py-3 text-sm font-semibold ${Yy[e]}`,children:[L.jsxs("span",{className:"flex items-center gap-3",children:[L.jsx("span",{"aria-hidden":!0,children:n??Jy[e]}),L.jsx("span",{children:t})]}),r&&L.jsx("button",{type:"button","aria-label":"Dismiss message",className:"rounded-full border border-transparent px-3 py-1 text-xs font-semibold text-cocoa-500 transition hover:border-cocoa-200",onClick:r,children:"Close"})]}),e8=({isOpen:t,onClose:e,users:n,isLoadingUsers:r,usersError:s,onRefreshUsers:o,onSelectUser:c,selectedUser:d,selectedUserExams:p,isLoadingExams:x,examsError:T,onDeleteExam:C,onDeleteAllExams:R,onDeleteUser:H,currentUserId:Y})=>t?L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[rgba(31,23,18,0.55)] px-4 py-8",children:L.jsxs("div",{className:"relative flex w-full max-w-6xl flex-col gap-6 rounded-[36px] bg-white p-8 shadow-2xl",children:[L.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-rose-300",children:"Admin console"}),L.jsx("h2",{className:"mt-2 font-display text-3xl font-semibold text-cocoa-600",children:"Manage users and exams"}),L.jsx("p",{className:"mt-2 text-sm text-cocoa-400",children:"View and tidy up stored accounts and exam libraries across Omni Exam Studio."})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:o,disabled:r,children:r?"Refreshing":"Refresh list"}),L.jsx("button",{type:"button",className:"rounded-2xl border border-transparent bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:e,children:"Close"})]})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,2fr)]",children:[L.jsxs("section",{className:"flex flex-col gap-4 rounded-3xl border border-cream-100 bg-cream-50/60 p-6",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"font-display text-xl font-semibold text-cocoa-600",children:"Accounts"}),L.jsxs("span",{className:"text-sm font-medium text-cocoa-400",children:[n.length," ",n.length===1?"user":"users"]})]}),s&&L.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:s}),L.jsx("div",{className:"flex-1 overflow-y-auto rounded-2xl bg-white/80",children:r?L.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading users"}):n.length===0?L.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"No users found."}):L.jsx("ul",{className:"divide-y divide-cream-100",children:n.map(J=>{const G=(d==null?void 0:d.id)===J.id,F=J.role==="admin",P=new Date(J.createdAt);return L.jsx("li",{children:L.jsxs("button",{type:"button",className:`flex w-full items-start justify-between gap-3 px-4 py-4 text-left transition ${G?"bg-rose-50 text-rose-600":"hover:bg-cream-50 text-cocoa-500"}`,onClick:()=>c(J.id),children:[L.jsxs("div",{children:[L.jsxs("p",{className:"font-display text-lg font-semibold",children:[J.displayName,J.id===Y?L.jsx("span",{className:"ml-2 rounded-full bg-rose-100 px-2 py-[2px] text-xs font-semibold uppercase tracking-wide text-rose-500",children:"You"}):null,F?L.jsx("span",{className:"ml-2 rounded-full bg-cocoa-100 px-2 py-[2px] text-xs font-semibold uppercase tracking-wide text-cocoa-500",children:"Admin"}):null]}),L.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[J.login,"  Joined"," ",Number.isFinite(J.createdAt)?P.toLocaleDateString():"recently"]})]}),!F&&J.id!==Y&&L.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-500 transition hover:bg-rose-50",onClick:j=>{j.stopPropagation(),H(J.id)},children:"Delete user"})]})},J.id)})})})]}),L.jsxs("section",{className:"flex flex-col gap-4 rounded-3xl border border-cream-100 bg-cream-50/60 p-6",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsxs("h3",{className:"font-display text-xl font-semibold text-cocoa-600",children:["Exams for ",d?d.displayName:""]}),L.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[p.length," ",p.length===1?"exam":"exams"," loaded"]})]}),d&&p.length>0&&L.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.15em] text-rose-500 transition hover:bg-rose-50 disabled:cursor-not-allowed disabled:opacity-60",onClick:()=>R(d.id),disabled:x,children:"Delete all exams"})]}),T&&L.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:T}),L.jsx("div",{className:"flex-1 overflow-y-auto rounded-2xl bg-white/80",children:d?x?L.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading exams"}):p.length===0?L.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"No exams stored for this user."}):L.jsx("ul",{className:"divide-y divide-cream-100",children:p.map(J=>L.jsxs("li",{className:"flex items-start justify-between gap-4 px-5 py-4",children:[L.jsxs("div",{children:[L.jsx("p",{className:"font-display text-lg font-semibold text-cocoa-600",children:J.title}),L.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[J.questions.length," ",J.questions.length===1?"question":"questions"]})]}),L.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-500 transition hover:bg-rose-50",onClick:()=>C(d.id,J.id),children:"Delete"})]},J.id))}):L.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Select a user to inspect their exams."})})]})]})]})}):null,Wg={id:"latin-default",title:"Latin Vocabulary Exam",questions:[{entry:"grammatica, grammaticae, f.",options:[{label:"a",text:"example"},{label:"b",text:"chapter"},{label:"c",text:"letter"},{label:"d",text:"grammar"}],correctIndex:3},{entry:"discipula, discipulae, f.",options:[{label:"a",text:"teacher"},{label:"b",text:"friend"},{label:"c",text:"scribe"},{label:"d",text:"student"}],correctIndex:3},{entry:"poeta, poetae, m.",options:[{label:"a",text:"sailor"},{label:"b",text:"soldier"},{label:"c",text:"farmer"},{label:"d",text:"poet"}],correctIndex:3},{entry:"patria, patriae, f.",options:[{label:"a",text:"daughter"},{label:"b",text:"market"},{label:"c",text:"forest"},{label:"d",text:"homeland"}],correctIndex:3},{entry:"puella, puellae, f.",options:[{label:"a",text:"maid"},{label:"b",text:"boy"},{label:"c",text:"child"},{label:"d",text:"girl"}],correctIndex:3},{entry:"insula, insulae, f.",options:[{label:"a",text:"street"},{label:"b",text:"temple"},{label:"c",text:"palace"},{label:"d",text:"island"}],correctIndex:3},{entry:"fabula, fabulae, f.",options:[{label:"a",text:"spear"},{label:"b",text:"statue"},{label:"c",text:"feast"},{label:"d",text:"story"}],correctIndex:3},{entry:"agricola, agricolae, m.",options:[{label:"a",text:"general"},{label:"b",text:"hunter"},{label:"c",text:"painter"},{label:"d",text:"farmer"}],correctIndex:3}]},Cp=[Wg],t8=768,n8=(t=t8)=>{const[e,n]=be.useState(()=>typeof window>"u"?!1:window.innerWidth<t);return be.useEffect(()=>{if(typeof window>"u")return;const r=()=>n(window.innerWidth<t);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},r8=/^([a-z])[).:\-]\s*(.+)$/i,s8=/^question(?:\s+\d+)?\s*[:\-]\s*(.+)$/i,i8=/^title\s*[:\-]\s*(.+)$/i,Rp=/^answer\s*[:\-]\s*([a-z])/i,o8=1e3,a8=t=>t.replace(/\r\n/g,`
`).split(`
`),l8=t=>{if(!t.trim())return{success:!1,message:"The uploaded file is empty."};const n=a8(t);let r=0,s="";const o=[],c=()=>{for(;r<n.length&&!n[r].trim();)r+=1};if(c(),r>=n.length)return{success:!1,message:"File content is missing a Title line."};const d=n[r].trim().match(i8);if(!d)return{success:!1,message:'Start your file with "Title: <Name of exam>".'};for(s=d[1].trim(),r+=1;r<n.length&&(c(),!(r>=n.length));){const x=n[r].trim().match(s8);if(!x)return{success:!1,message:`Expected a "Question:" line near line ${r+1}.`};const T=x[1].trim();if(!T)return{success:!1,message:`Missing text for the question near line ${r+1}.`};r+=1;const C=[];for(;r<n.length;){const G=n[r].trim();if(!G){r+=1;continue}if(Rp.test(G))break;const F=G.match(r8);if(!F)return{success:!1,message:`Option lines should start with "a. text". Issue near line ${r+1}.`};C.push({label:F[1].toLowerCase(),text:F[2].trim()}),r+=1}if(C.length<2)return{success:!1,message:`Each question needs at least two options (question near line ${r+1}).`};if(r>=n.length)return{success:!1,message:`Missing "Answer:" line for the question that begins with "${T}".`};const H=n[r].trim().match(Rp);if(!H)return{success:!1,message:`Answer line malformed near line ${r+1}. Use "Answer: a".`};const Y=H[1].toLowerCase(),J=C.findIndex(G=>G.label===Y);if(J===-1)return{success:!1,message:`The answer letter "${Y}" must match one of the listed options.`};if(r+=1,o.push({entry:T,options:C,correctIndex:J}),o.length>o8)return{success:!1,message:"Please limit exams to 1000 questions or fewer."}}return o.length===0?{success:!1,message:"No questions were detected. Please follow the provided template."}:{success:!0,data:{title:s,questions:o}}},u8=t=>{const e=[];return e.push(`Title: ${t.title}`),e.push(""),t.questions.forEach((n,r)=>{e.push(`Question ${r+1}: ${n.entry}`),n.options.forEach(c=>{e.push(`${c.label}. ${c.text}`)});const s=n.options[n.correctIndex],o=s?s.label:"";e.push(`Answer: ${o}`),e.push("")}),e.join(`
`).trim()+`
`};var Np={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},c8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,p=s+2<t.length,x=p?t[s+2]:0,T=o>>2,C=(o&3)<<4|d>>4;let R=(d&15)<<2|x>>6,H=x&63;p||(H=64,c||(R=64)),r.push(n[T],n[C],n[R],n[H])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const x=s<t.length?n[t.charAt(s)]:64;++s;const C=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||x==null||C==null)throw new h8;const R=o<<2|d>>4;if(r.push(R),x!==64){const H=d<<4&240|x>>2;if(r.push(H),C!==64){const Y=x<<6&192|C;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d8=function(t){const e=Gg(t);return Kg.encodeByteArray(e,!0)},hu=function(t){return d8(t).replace(/\./g,"")},f8=function(t){try{return Kg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=()=>m8().__FIREBASE_DEFAULTS__,g8=()=>{if(typeof process>"u"||typeof Np>"u")return;const t=Np.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f8(t[1]);return e&&JSON.parse(e)},Rf=()=>{try{return p8()||g8()||y8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v8=t=>{var e,n;return(n=(e=Rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w8=t=>{const e=v8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qg=()=>{var t;return(t=Rf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hu(JSON.stringify(n)),hu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S8(){var t;const e=(t=Rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E8(){return!S8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T8(){try{return typeof indexedDB=="object"}catch{return!1}}function k8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="FirebaseError";class ta extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A8,Object.setPrototypeOf(this,ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xg.prototype.create)}}class Xg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?I8(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ta(s,d,r)}}function I8(t,e){return t.replace(C8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const C8=/\{\$([^}]+)}/g;function md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(Pp(o)&&Pp(c)){if(!md(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Pp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P8(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N8(t){return t===ki?void 0:t}function P8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const D8={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},V8=We.INFO,z8={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},O8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=V8,this._logHandler=O8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const L8=(t,e)=>e.some(n=>t instanceof n);let Mp,Dp;function F8(){return Mp||(Mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return Dp||(Dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jg=new WeakMap,pd=new WeakMap,Zg=new WeakMap,uh=new WeakMap,Nf=new WeakMap;function j8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Js(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Jg.set(n,t)}).catch(()=>{}),Nf.set(e,t),e}function U8(t){if(pd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});pd.set(t,e)}let gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q8(t){gd=t(gd)}function H8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ch(this),e,...n);return Zg.set(r,e.sort?e.sort():[e]),Js(r)}:B8().includes(t)?function(...e){return t.apply(ch(this),e),Js(Jg.get(this))}:function(...e){return Js(t.apply(ch(this),e))}}function $8(t){return typeof t=="function"?H8(t):(t instanceof IDBTransaction&&U8(t),L8(t,F8())?new Proxy(t,gd):t)}function Js(t){if(t instanceof IDBRequest)return j8(t);if(uh.has(t))return uh.get(t);const e=$8(t);return e!==t&&(uh.set(t,e),Nf.set(e,t)),e}const ch=t=>Nf.get(t);function W8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=Js(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Js(c.result),p.oldVersion,p.newVersion,Js(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",x=>s(x.oldVersion,x.newVersion,x))}).catch(()=>{}),d}const G8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],hh=new Map;function Vp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hh.get(e))return hh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||G8.includes(n)))return;const o=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let x=p.store;return r&&(x=x.index(d.shift())),(await Promise.all([x[n](...d),s&&p.done]))[0]};return hh.set(e,o),o}q8(t=>({...t,get:(e,n,r)=>Vp(e,n)||t.get(e,n,r),has:(e,n)=>!!Vp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yd="@firebase/app",zp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Yg("@firebase/app"),Y8="@firebase/app-compat",J8="@firebase/analytics-compat",Z8="@firebase/analytics",e9="@firebase/app-check-compat",t9="@firebase/app-check",n9="@firebase/auth",r9="@firebase/auth-compat",s9="@firebase/database",i9="@firebase/data-connect",o9="@firebase/database-compat",a9="@firebase/functions",l9="@firebase/functions-compat",u9="@firebase/installations",c9="@firebase/installations-compat",h9="@firebase/messaging",d9="@firebase/messaging-compat",f9="@firebase/performance",m9="@firebase/performance-compat",p9="@firebase/remote-config",g9="@firebase/remote-config-compat",y9="@firebase/storage",v9="@firebase/storage-compat",w9="@firebase/firestore",x9="@firebase/vertexai-preview",_9="@firebase/firestore-compat",b9="firebase",S9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",E9={[yd]:"fire-core",[Y8]:"fire-core-compat",[Z8]:"fire-analytics",[J8]:"fire-analytics-compat",[t9]:"fire-app-check",[e9]:"fire-app-check-compat",[n9]:"fire-auth",[r9]:"fire-auth-compat",[s9]:"fire-rtdb",[i9]:"fire-data-connect",[o9]:"fire-rtdb-compat",[a9]:"fire-fn",[l9]:"fire-fn-compat",[u9]:"fire-iid",[c9]:"fire-iid-compat",[h9]:"fire-fcm",[d9]:"fire-fcm-compat",[f9]:"fire-perf",[m9]:"fire-perf-compat",[p9]:"fire-rc",[g9]:"fire-rc-compat",[y9]:"fire-gcs",[v9]:"fire-gcs-compat",[w9]:"fire-fst",[_9]:"fire-fst-compat",[x9]:"fire-vertex","fire-js":"fire-js",[b9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,T9=new Map,wd=new Map;function Op(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fu(t){const e=t.name;if(wd.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,t);for(const n of du.values())Op(n,t);for(const n of T9.values())Op(n,t);return!0}function k9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Xg("app","Firebase",A9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=S9;function e5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(n||(n=Qg()),!n)throw Zs.create("no-options");const o=du.get(s);if(o){if(md(n,o.options)&&md(r,o.config))return o;throw Zs.create("duplicate-app",{appName:s})}const c=new M8(s);for(const p of wd.values())c.addComponent(p);const d=new I9(n,r,c);return du.set(s,d),d}function R9(t=vd){const e=du.get(t);if(!e&&t===vd&&Qg())return e5();if(!e)throw Zs.create("no-app",{appName:t});return e}function Mo(t,e,n){var r;let s=(r=E9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}fu(new wl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="firebase-heartbeat-database",P9=1,xl="firebase-heartbeat-store";let dh=null;function t5(){return dh||(dh=W8(N9,P9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),dh}async function M9(t){try{const n=(await t5()).transaction(xl),r=await n.objectStore(xl).get(n5(t));return await n.done,r}catch(e){if(e instanceof ta)ws.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function Lp(t,e){try{const r=(await t5()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,n5(t)),await r.done}catch(n){if(n instanceof ta)ws.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(r.message)}}}function n5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=1024,V9=30*24*60*60*1e3;class z9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=V9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fp(),{heartbeatsToSend:r,unsentEntries:s}=O9(this._heartbeatsCache.heartbeats),o=hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ws.warn(n),""}}}function Fp(){return new Date().toISOString().substring(0,10)}function O9(t,e=D9){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Bp(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T8()?k8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bp(t){return hu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){fu(new wl("platform-logger",e=>new Q8(e),"PRIVATE")),fu(new wl("heartbeat",e=>new z9(e),"PRIVATE")),Mo(yd,zp,t),Mo(yd,zp,"esm2017"),Mo("fire-js","")}F9("");var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,r5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function D(){}D.prototype=k.prototype,O.D=k.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(M,q,$){for(var z=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)z[Rt-2]=arguments[Rt];return k.prototype[q].apply(M,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,k,D){D||(D=0);var M=Array(16);if(typeof k=="string")for(var q=0;16>q;++q)M[q]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(q=0;16>q;++q)M[q]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=O.g[0],D=O.g[1],q=O.g[2];var $=O.g[3],z=k+($^D&(q^$))+M[0]+3614090360&4294967295;k=D+(z<<7&4294967295|z>>>25),z=$+(q^k&(D^q))+M[1]+3905402710&4294967295,$=k+(z<<12&4294967295|z>>>20),z=q+(D^$&(k^D))+M[2]+606105819&4294967295,q=$+(z<<17&4294967295|z>>>15),z=D+(k^q&($^k))+M[3]+3250441966&4294967295,D=q+(z<<22&4294967295|z>>>10),z=k+($^D&(q^$))+M[4]+4118548399&4294967295,k=D+(z<<7&4294967295|z>>>25),z=$+(q^k&(D^q))+M[5]+1200080426&4294967295,$=k+(z<<12&4294967295|z>>>20),z=q+(D^$&(k^D))+M[6]+2821735955&4294967295,q=$+(z<<17&4294967295|z>>>15),z=D+(k^q&($^k))+M[7]+4249261313&4294967295,D=q+(z<<22&4294967295|z>>>10),z=k+($^D&(q^$))+M[8]+1770035416&4294967295,k=D+(z<<7&4294967295|z>>>25),z=$+(q^k&(D^q))+M[9]+2336552879&4294967295,$=k+(z<<12&4294967295|z>>>20),z=q+(D^$&(k^D))+M[10]+4294925233&4294967295,q=$+(z<<17&4294967295|z>>>15),z=D+(k^q&($^k))+M[11]+2304563134&4294967295,D=q+(z<<22&4294967295|z>>>10),z=k+($^D&(q^$))+M[12]+1804603682&4294967295,k=D+(z<<7&4294967295|z>>>25),z=$+(q^k&(D^q))+M[13]+4254626195&4294967295,$=k+(z<<12&4294967295|z>>>20),z=q+(D^$&(k^D))+M[14]+2792965006&4294967295,q=$+(z<<17&4294967295|z>>>15),z=D+(k^q&($^k))+M[15]+1236535329&4294967295,D=q+(z<<22&4294967295|z>>>10),z=k+(q^$&(D^q))+M[1]+4129170786&4294967295,k=D+(z<<5&4294967295|z>>>27),z=$+(D^q&(k^D))+M[6]+3225465664&4294967295,$=k+(z<<9&4294967295|z>>>23),z=q+(k^D&($^k))+M[11]+643717713&4294967295,q=$+(z<<14&4294967295|z>>>18),z=D+($^k&(q^$))+M[0]+3921069994&4294967295,D=q+(z<<20&4294967295|z>>>12),z=k+(q^$&(D^q))+M[5]+3593408605&4294967295,k=D+(z<<5&4294967295|z>>>27),z=$+(D^q&(k^D))+M[10]+38016083&4294967295,$=k+(z<<9&4294967295|z>>>23),z=q+(k^D&($^k))+M[15]+3634488961&4294967295,q=$+(z<<14&4294967295|z>>>18),z=D+($^k&(q^$))+M[4]+3889429448&4294967295,D=q+(z<<20&4294967295|z>>>12),z=k+(q^$&(D^q))+M[9]+568446438&4294967295,k=D+(z<<5&4294967295|z>>>27),z=$+(D^q&(k^D))+M[14]+3275163606&4294967295,$=k+(z<<9&4294967295|z>>>23),z=q+(k^D&($^k))+M[3]+4107603335&4294967295,q=$+(z<<14&4294967295|z>>>18),z=D+($^k&(q^$))+M[8]+1163531501&4294967295,D=q+(z<<20&4294967295|z>>>12),z=k+(q^$&(D^q))+M[13]+2850285829&4294967295,k=D+(z<<5&4294967295|z>>>27),z=$+(D^q&(k^D))+M[2]+4243563512&4294967295,$=k+(z<<9&4294967295|z>>>23),z=q+(k^D&($^k))+M[7]+1735328473&4294967295,q=$+(z<<14&4294967295|z>>>18),z=D+($^k&(q^$))+M[12]+2368359562&4294967295,D=q+(z<<20&4294967295|z>>>12),z=k+(D^q^$)+M[5]+4294588738&4294967295,k=D+(z<<4&4294967295|z>>>28),z=$+(k^D^q)+M[8]+2272392833&4294967295,$=k+(z<<11&4294967295|z>>>21),z=q+($^k^D)+M[11]+1839030562&4294967295,q=$+(z<<16&4294967295|z>>>16),z=D+(q^$^k)+M[14]+4259657740&4294967295,D=q+(z<<23&4294967295|z>>>9),z=k+(D^q^$)+M[1]+2763975236&4294967295,k=D+(z<<4&4294967295|z>>>28),z=$+(k^D^q)+M[4]+1272893353&4294967295,$=k+(z<<11&4294967295|z>>>21),z=q+($^k^D)+M[7]+4139469664&4294967295,q=$+(z<<16&4294967295|z>>>16),z=D+(q^$^k)+M[10]+3200236656&4294967295,D=q+(z<<23&4294967295|z>>>9),z=k+(D^q^$)+M[13]+681279174&4294967295,k=D+(z<<4&4294967295|z>>>28),z=$+(k^D^q)+M[0]+3936430074&4294967295,$=k+(z<<11&4294967295|z>>>21),z=q+($^k^D)+M[3]+3572445317&4294967295,q=$+(z<<16&4294967295|z>>>16),z=D+(q^$^k)+M[6]+76029189&4294967295,D=q+(z<<23&4294967295|z>>>9),z=k+(D^q^$)+M[9]+3654602809&4294967295,k=D+(z<<4&4294967295|z>>>28),z=$+(k^D^q)+M[12]+3873151461&4294967295,$=k+(z<<11&4294967295|z>>>21),z=q+($^k^D)+M[15]+530742520&4294967295,q=$+(z<<16&4294967295|z>>>16),z=D+(q^$^k)+M[2]+3299628645&4294967295,D=q+(z<<23&4294967295|z>>>9),z=k+(q^(D|~$))+M[0]+4096336452&4294967295,k=D+(z<<6&4294967295|z>>>26),z=$+(D^(k|~q))+M[7]+1126891415&4294967295,$=k+(z<<10&4294967295|z>>>22),z=q+(k^($|~D))+M[14]+2878612391&4294967295,q=$+(z<<15&4294967295|z>>>17),z=D+($^(q|~k))+M[5]+4237533241&4294967295,D=q+(z<<21&4294967295|z>>>11),z=k+(q^(D|~$))+M[12]+1700485571&4294967295,k=D+(z<<6&4294967295|z>>>26),z=$+(D^(k|~q))+M[3]+2399980690&4294967295,$=k+(z<<10&4294967295|z>>>22),z=q+(k^($|~D))+M[10]+4293915773&4294967295,q=$+(z<<15&4294967295|z>>>17),z=D+($^(q|~k))+M[1]+2240044497&4294967295,D=q+(z<<21&4294967295|z>>>11),z=k+(q^(D|~$))+M[8]+1873313359&4294967295,k=D+(z<<6&4294967295|z>>>26),z=$+(D^(k|~q))+M[15]+4264355552&4294967295,$=k+(z<<10&4294967295|z>>>22),z=q+(k^($|~D))+M[6]+2734768916&4294967295,q=$+(z<<15&4294967295|z>>>17),z=D+($^(q|~k))+M[13]+1309151649&4294967295,D=q+(z<<21&4294967295|z>>>11),z=k+(q^(D|~$))+M[4]+4149444226&4294967295,k=D+(z<<6&4294967295|z>>>26),z=$+(D^(k|~q))+M[11]+3174756917&4294967295,$=k+(z<<10&4294967295|z>>>22),z=q+(k^($|~D))+M[2]+718787259&4294967295,q=$+(z<<15&4294967295|z>>>17),z=D+($^(q|~k))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(q+(z<<21&4294967295|z>>>11))&4294967295,O.g[2]=O.g[2]+q&4294967295,O.g[3]=O.g[3]+$&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var D=k-this.blockSize,M=this.B,q=this.h,$=0;$<k;){if(q==0)for(;$<=D;)s(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<k;)if(M[q++]=O.charCodeAt($++),q==this.blockSize){s(this,M),q=0;break}}else for(;$<k;)if(M[q++]=O[$++],q==this.blockSize){s(this,M),q=0;break}}this.h=q,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var D=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=D&255,D/=256;for(this.u(O),O=Array(16),k=D=0;4>k;++k)for(var M=0;32>M;M+=8)O[D++]=this.g[k]>>>M&255;return O};function o(O,k){var D=d;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=k(O)}function c(O,k){this.h=k;for(var D=[],M=!0,q=O.length-1;0<=q;q--){var $=O[q]|0;M&&$==k||(D[q]=$,M=!1)}this.g=D}var d={};function p(O){return-128<=O&&128>O?o(O,function(k){return new c([k|0],0>k?-1:0)}):new c([O|0],0>O?-1:0)}function x(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return G(x(-O));for(var k=[],D=1,M=0;O>=D;M++)k[M]=O/D|0,D*=4294967296;return new c(k,0)}function T(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return G(T(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=x(Math.pow(k,8)),M=C,q=0;q<O.length;q+=8){var $=Math.min(8,O.length-q),z=parseInt(O.substring(q,q+$),k);8>$?($=x(Math.pow(k,$)),M=M.j($).add(x(z))):(M=M.j(D),M=M.add(x(z)))}return M}var C=p(0),R=p(1),H=p(16777216);t=c.prototype,t.m=function(){if(J(this))return-G(this).m();for(var O=0,k=1,D=0;D<this.g.length;D++){var M=this.i(D);O+=(0<=M?M:4294967296+M)*k,k*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(J(this))return"-"+G(this).toString(O);for(var k=x(Math.pow(O,6)),D=this,M="";;){var q=te(D,k).g;D=F(D,q.j(k));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=q,Y(D))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function J(O){return O.h==-1}t.l=function(O){return O=F(this,O),J(O)?-1:Y(O)?0:1};function G(O){for(var k=O.g.length,D=[],M=0;M<k;M++)D[M]=~O.g[M];return new c(D,~O.h).add(R)}t.abs=function(){return J(this)?G(this):this},t.add=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],M=0,q=0;q<=k;q++){var $=M+(this.i(q)&65535)+(O.i(q)&65535),z=($>>>16)+(this.i(q)>>>16)+(O.i(q)>>>16);M=z>>>16,$&=65535,z&=65535,D[q]=z<<16|$}return new c(D,D[D.length-1]&-2147483648?-1:0)};function F(O,k){return O.add(G(k))}t.j=function(O){if(Y(this)||Y(O))return C;if(J(this))return J(O)?G(this).j(G(O)):G(G(this).j(O));if(J(O))return G(this.j(G(O)));if(0>this.l(H)&&0>O.l(H))return x(this.m()*O.m());for(var k=this.g.length+O.g.length,D=[],M=0;M<2*k;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var q=0;q<O.g.length;q++){var $=this.i(M)>>>16,z=this.i(M)&65535,Rt=O.i(q)>>>16,Be=O.i(q)&65535;D[2*M+2*q]+=z*Be,P(D,2*M+2*q),D[2*M+2*q+1]+=$*Be,P(D,2*M+2*q+1),D[2*M+2*q+1]+=z*Rt,P(D,2*M+2*q+1),D[2*M+2*q+2]+=$*Rt,P(D,2*M+2*q+2)}for(M=0;M<k;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=k;M<2*k;M++)D[M]=0;return new c(D,0)};function P(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function j(O,k){this.g=O,this.h=k}function te(O,k){if(Y(k))throw Error("division by zero");if(Y(O))return new j(C,C);if(J(O))return k=te(G(O),k),new j(G(k.g),G(k.h));if(J(k))return k=te(O,G(k)),new j(G(k.g),k.h);if(30<O.g.length){if(J(O)||J(k))throw Error("slowDivide_ only works with positive integers.");for(var D=R,M=k;0>=M.l(O);)D=de(D),M=de(M);var q=ue(D,1),$=ue(M,1);for(M=ue(M,2),D=ue(D,2);!Y(M);){var z=$.add(M);0>=z.l(O)&&(q=q.add(D),$=z),M=ue(M,1),D=ue(D,1)}return k=F(O,q.j(k)),new j(q,k)}for(q=C;0<=O.l(k);){for(D=Math.max(1,Math.floor(O.m()/k.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=x(D),z=$.j(k);J(z)||0<z.l(O);)D-=M,$=x(D),z=$.j(k);Y($)&&($=R),q=q.add($),O=F(O,z)}return new j(q,O)}t.A=function(O){return te(this,O).h},t.and=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],M=0;M<k;M++)D[M]=this.i(M)&O.i(M);return new c(D,this.h&O.h)},t.or=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],M=0;M<k;M++)D[M]=this.i(M)|O.i(M);return new c(D,this.h|O.h)},t.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],M=0;M<k;M++)D[M]=this.i(M)^O.i(M);return new c(D,this.h^O.h)};function de(O){for(var k=O.g.length+1,D=[],M=0;M<k;M++)D[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(D,O.h)}function ue(O,k){var D=k>>5;k%=32;for(var M=O.g.length-D,q=[],$=0;$<M;$++)q[$]=0<k?O.i($+D)>>>k|O.i($+D+1)<<32-k:O.i($+D);return new c(q,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=x,c.fromString=T,Di=c}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s5,La,i5,z0,xd,o5,a5,l5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof w0=="object"&&w0];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var w=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var Q=u[A];if(!(Q in w))break e;w=w[Q]}u=u[u.length-1],A=w[u],g=g(A),g!=A&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function o(u,g){u instanceof String&&(u+="");var w=0,A=!1,Q={next:function(){if(!A&&w<u.length){var ee=w++;return{value:g(ee,u[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(u){return u||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function x(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,w){return u.call.apply(u.bind,arguments)}function C(u,g,w){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),u.apply(g,Q)}}return function(){return u.apply(g,arguments)}}function R(u,g,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,R.apply(null,arguments)}function H(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(A,Q,ee){for(var me=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)me[Ze-2]=arguments[Ze];return g.prototype[Q].apply(A,me)}}function J(u){const g=u.length;if(0<g){const w=Array(g);for(let A=0;A<g;A++)w[A]=u[A];return w}return[]}function G(u,g){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(p(A)){const Q=u.length||0,ee=A.length||0;u.length=Q+ee;for(let me=0;me<ee;me++)u[Q+me]=A[me]}else u.push(A)}}class F{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(u){return/^[\s\xa0]*$/.test(u)}function j(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var de=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ue(u,g,w){for(const A in u)g.call(w,u[A],A,u)}function O(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function k(u){const g={};for(const w in u)g[w]=u[w];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let w,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(w in A)u[w]=A[w];for(let ee=0;ee<D.length;ee++)w=D[ee],Object.prototype.hasOwnProperty.call(A,w)&&(u[w]=A[w])}}function q(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function $(u){d.setTimeout(()=>{throw u},0)}function z(){var u=Ce;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Rt{constructor(){this.h=this.g=null}add(g,w){const A=Be.get();A.set(g,w),this.h?this.h.next=A:this.g=A,this.h=A}}var Be=new F(()=>new Dn,u=>u.reset());class Dn{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let mn,ve=!1,Ce=new Rt,ce=()=>{const u=d.Promise.resolve(void 0);mn=()=>{u.then(qe)}};var qe=()=>{for(var u;u=z();){try{u.h.call(u.g)}catch(w){$(w)}var g=Be;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ve=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return u}();function Nt(u,g){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(de){e:{try{te(g.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:sn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Nt.aa.h.call(this)}}Y(Nt,et);var sn={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),ui=0;function Wr(u,g,w,A,Q){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!A,this.ha=Q,this.key=++ui,this.da=this.fa=!1}function Gr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ss(u){this.src=u,this.g={},this.h=0}Ss.prototype.add=function(u,g,w,A,Q){var ee=u.toString();u=this.g[ee],u||(u=this.g[ee]=[],this.h++);var me=ci(u,g,A,Q);return-1<me?(g=u[me],w||(g.fa=!1)):(g=new Wr(g,this.src,ee,!!A,Q),g.fa=w,u.push(g)),g};function Es(u,g){var w=g.type;if(w in u.g){var A=u.g[w],Q=Array.prototype.indexOf.call(A,g,void 0),ee;(ee=0<=Q)&&Array.prototype.splice.call(A,Q,1),ee&&(Gr(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function ci(u,g,w,A){for(var Q=0;Q<u.length;++Q){var ee=u[Q];if(!ee.da&&ee.listener==g&&ee.capture==!!w&&ee.ha==A)return Q}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Qn={};function Ir(u,g,w,A,Q){if(Array.isArray(g)){for(var ee=0;ee<g.length;ee++)Ir(u,g[ee],w,A,Q);return null}return w=di(w),u&&u[Vn]?u.K(g,w,x(A)?!!A.capture:!1,Q):En(u,g,w,!1,A,Q)}function En(u,g,w,A,Q,ee){if(!g)throw Error("Invalid event type");var me=x(Q)?!!Q.capture:!!Q,Ze=Qr(u);if(Ze||(u[Kr]=Ze=new Ss(u)),w=Ze.add(g,w,A,me,ee),w.proxy)return w;if(A=zn(),w.proxy=A,A.src=u,A.listener=w,u.addEventListener)pn||(Q=me),Q===void 0&&(Q=!1),u.addEventListener(g.toString(),A,Q);else if(u.attachEvent)u.attachEvent(ks(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function zn(){function u(w){return g.call(u.src,u.listener,w)}const g=dr;return u}function hi(u,g,w,A,Q){if(Array.isArray(g))for(var ee=0;ee<g.length;ee++)hi(u,g[ee],w,A,Q);else A=x(A)?!!A.capture:!!A,w=di(w),u&&u[Vn]?(u=u.i,g=String(g).toString(),g in u.g&&(ee=u.g[g],w=ci(ee,w,A,Q),-1<w&&(Gr(ee[w]),Array.prototype.splice.call(ee,w,1),ee.length==0&&(delete u.g[g],u.h--)))):u&&(u=Qr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ci(g,w,A,Q)),(w=-1<u?g[u]:null)&&Ts(w))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Vn])Es(g.i,u);else{var w=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(w,A,u.capture):g.detachEvent?g.detachEvent(ks(w),A):g.addListener&&g.removeListener&&g.removeListener(A),(w=Qr(g))?(Es(w,u),w.h==0&&(w.src=null,g[Kr]=null)):Gr(u)}}}function ks(u){return u in Qn?Qn[u]:Qn[u]="on"+u}function dr(u,g){if(u.da)u=!0;else{g=new Nt(g,this);var w=u.listener,A=u.ha||u.src;u.fa&&Ts(u),u=w.call(A,g)}return u}function Qr(u){return u=u[Kr],u instanceof Ss?u:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(u){return typeof u=="function"?u:(u[As]||(u[As]=function(g){return u.handleEvent(g)}),u[As])}function kt(){De.call(this),this.i=new Ss(this),this.M=this,this.F=null}Y(kt,De),kt.prototype[Vn]=!0,kt.prototype.removeEventListener=function(u,g,w,A){hi(this,u,g,w,A)};function st(u,g){var w,A=u.F;if(A)for(w=[];A;A=A.F)w.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new et(g,u);else if(g instanceof et)g.target=g.target||u;else{var Q=g;g=new et(A,u),M(g,Q)}if(Q=!0,w)for(var ee=w.length-1;0<=ee;ee--){var me=g.g=w[ee];Q=Xn(me,A,!0,g)&&Q}if(me=g.g=u,Q=Xn(me,A,!0,g)&&Q,Q=Xn(me,A,!1,g)&&Q,w)for(ee=0;ee<w.length;ee++)me=g.g=w[ee],Q=Xn(me,A,!1,g)&&Q}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],A=0;A<w.length;A++)Gr(w[A]);delete u.g[g],u.h--}}this.F=null},kt.prototype.K=function(u,g,w,A){return this.i.add(String(u),g,!1,w,A)},kt.prototype.L=function(u,g,w,A){return this.i.add(String(u),g,!0,w,A)};function Xn(u,g,w,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Q=!0,ee=0;ee<g.length;++ee){var me=g[ee];if(me&&!me.da&&me.capture==w){var Ze=me.listener,At=me.ha||me.src;me.fa&&Es(u.i,me),Q=Ze.call(At,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function On(u,g,w){if(typeof u=="function")w&&(u=R(u,w));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function Ki(u){u.g=On(()=>{u.g=null,u.i&&(u.i=!1,Ki(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Qi extends De{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ki(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(u){De.call(this),this.h=u,this.g={}}Y(Xe,De);var fe=[];function Ln(u){ue(u.g,function(g,w){this.g.hasOwnProperty(w)&&Ts(g)},u),u.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),Ln(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=d.JSON.stringify,gn=d.JSON.parse,oa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fn(){}Fn.prototype.h=null;function Dt(u){return u.h||(u.h=u.i())}function Xr(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){et.call(this,"d")}Y(fi,et);function qt(){et.call(this,"c")}Y(qt,et);var Vt={},Bn=null;function Yn(){return Bn=Bn||new kt}Vt.La="serverreachability";function Rr(u){et.call(this,Vt.La,u)}Y(Rr,et);function Yr(u){const g=Yn();st(g,new Rr(g))}Vt.STAT_EVENT="statevent";function Xi(u,g){et.call(this,Vt.STAT_EVENT,u),this.stat=g}Y(Xi,et);function zt(u){const g=Yn();st(g,new Xi(g,u))}Vt.Ma="timingevent";function Jr(u,g){et.call(this,Vt.Ma,u),this.size=g}Y(Jr,et);function Ye(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function m(){this.g=!0}m.prototype.xa=function(){this.g=!1};function v(u,g,w,A,Q,ee){u.info(function(){if(u.g)if(ee)for(var me="",Ze=ee.split("&"),At=0;At<Ze.length;At++){var Le=Ze[At].split("=");if(1<Le.length){var Ht=Le[0];Le=Le[1];var Ot=Ht.split("_");me=2<=Ot.length&&Ot[1]=="type"?me+(Ht+"="+Le+"&"):me+(Ht+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+g+`
`+w+`
`+me})}function re(u,g,w,A,Q,ee,me){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+g+`
`+w+`
`+ee+" "+me})}function b(u,g,w,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+it(u,w)+(A?" "+A:"")})}function N(u,g){u.info(function(){return"TIMEOUT: "+g})}m.prototype.info=function(){};function it(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var A=w[u];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var ee=Q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<Q.length;me++)Q[me]=""}}}}return Is(w)}catch{return g}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function ie(){}Y(ie,Fn),ie.prototype.g=function(){return new XMLHttpRequest},ie.prototype.i=function(){return{}},ge=new ie;function we(u,g,w,A){this.j=u,this.i=g,this.l=w,this.R=A||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}var Nr={},V={};function Kt(u,g,w){u.L=1,u.v=ts(Zn(g)),u.m=w,u.P=!0,U(u,null)}function U(u,g){u.F=Date.now(),mi(u),u.A=Zn(u.v);var w=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ye(w.i,"t",A),u.C=0,w=u.j.J,u.h=new He,u.g=wa(u.j,w?g:null,!u.m),0<u.O&&(u.M=new Qi(R(u.Y,u,u.g),u.O)),g=u.U,w=u.g,A=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(fe[0]=Q.toString()),Q=fe);for(var ee=0;ee<Q.length;ee++){var me=Ir(w,Q[ee],A||g.handleEvent,!1,g.h||g);if(!me)break;g.g[me.key]=me}g=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Yr(),v(u.i,u.u,u.A,u.l,u.R,u.m)}we.prototype.ca=function(u){u=u.target;const g=this.M;g&&St(u)==3?g.j():this.Y(u)},we.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=St(this.g);var g=this.g.Ba();const nr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||oo(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=nr?Yr(3):Yr(2)),Ae(this);var w=this.g.Z();this.X=w;t:if(aa(this)){var A=oo(this.g);u="";var Q=A.length,ee=St(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),Zr(this);var me="";break t}this.h.i=new d.TextDecoder}for(g=0;g<Q;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(ee&&g==Q-1)});A.length=0,this.h.g+=u,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=w==200,re(this.i,this.u,this.A,this.l,this.R,Ot,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,At=this.g;if((Ze=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ze)){var Le=Ze;break t}}Le=null}if(w=Le)b(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yi(this,w);else{this.o=!1,this.s=3,zt(12),Jn(this),Zr(this);break e}}if(this.P){w=!0;let vn;for(;!this.J&&this.C<me.length;)if(vn=jl(this,me),vn==V){Ot==4&&(this.s=4,zt(14),w=!1),b(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Nr){this.s=4,zt(15),b(this.i,this.l,me,"[Invalid Chunk]"),w=!1;break}else b(this.i,this.l,vn,null),Yi(this,vn);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||me.length!=0||this.h.h||(this.s=1,zt(16),w=!1),this.o=this.o&&w,!w)b(this.i,this.l,me,"[Invalid Chunked Response]"),Jn(this),Zr(this);else if(0<me.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ya(Ht),Ht.M=!0,zt(11))}}else b(this.i,this.l,me,null),Yi(this,me);Ot==4&&Jn(this),this.o&&!this.J&&(Ot==4?tr(this.j,this):(this.o=!1,mi(this)))}else ma(this.g),w==400&&0<me.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Jn(this),Zr(this)}}}catch{}finally{}};function aa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jl(u,g){var w=u.C,A=g.indexOf(`
`,w);return A==-1?V:(w=Number(g.substring(w,A)),isNaN(w)?Nr:(A+=1,A+w>g.length?V:(g=g.slice(A,A+w),u.C=A+w,g)))}we.prototype.cancel=function(){this.J=!0,Jn(this)};function mi(u){u.S=Date.now()+u.I,pi(u,u.I)}function pi(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ye(R(u.ba,u),g)}function Ae(u){u.B&&(d.clearTimeout(u.B),u.B=null)}we.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(N(this.i,this.A),this.L!=2&&(Yr(),zt(17)),Jn(this),this.s=2,Zr(this)):pi(this,this.S-u)};function Zr(u){u.j.G==0||u.J||tr(u.j,u)}function Jn(u){Ae(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ln(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Yi(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||la(w.h,u))){if(!u.K&&la(w.h,u)&&w.G==3){try{var A=w.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)va(w),Ke(w);else break e;ga(w),zt(18)}}else w.za=Q[1],0<w.za-w.T&&37500>Q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ye(R(w.Za,w),6e3));if(1>=Tn(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else gr(w,11)}else if((u.K||w.g==u)&&va(w),!P(g))for(Q=w.Da.g.parse(g),g=0;g<Q.length;g++){let Le=Q[g];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Ht=Le[3];Ht!=null&&(w.la=Ht,w.j.info("VER="+w.la));const Ot=Le[4];Ot!=null&&(w.Aa=Ot,w.j.info("SVER="+w.Aa));const nr=Le[5];nr!=null&&typeof nr=="number"&&0<nr&&(A=1.5*nr,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const vn=u.g;if(vn){const Si=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var ee=A.h;ee.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ua(ee,ee.h),ee.h=null))}if(A.D){const ba=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(A.ya=ba,ot(A.I,A.D,ba))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var me=u;if(A.qa=ao(A,A.J?A.ia:null,A.W),me.K){Ul(A.h,me);var Ze=me,At=A.L;At&&(Ze.I=At),Ze.B&&(Ae(Ze),mi(Ze)),A.g=me}else Kl(A);0<w.i.length&&xi(w)}else Le[0]!="stop"&&Le[0]!="close"||gr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?gr(w,7):er(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}Yr(4)}catch{}}var ic=class{constructor(u,g){this.g=u,this.map=g}};function Cs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Tn(u){return u.h?1:u.g?u.g.size:0}function la(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ua(u,g){u.g?u.g.add(g):u.h=g}function Ul(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Cs.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ql(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return J(u.i)}function oc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],w=u.length,A=0;A<w;A++)g.push(u[A]);return g}g=[],w=0;for(A in u)g[w++]=u[A];return g}function ca(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const A in u)g[w++]=A;return g}}}function Qt(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=ca(u),A=oc(u),Q=A.length,ee=0;ee<Q;ee++)g.call(void 0,A[ee],w&&w[ee],u)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var A=u[w].indexOf("="),Q=null;if(0<=A){var ee=u[w].substring(0,A);Q=u[w].substring(A+1)}else ee=u[w];g(ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function es(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof es){this.h=u.h,Ji(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var g=u.i,w=new yi;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Hl(this,w),this.m=u.m}else u&&(g=String(u).match(ha))?(this.h=!1,Ji(this,g[1]||"",!0),this.o=Rs(g[2]||""),this.g=Rs(g[3]||"",!0),Zi(this,g[4]),this.l=Rs(g[5]||"",!0),Hl(this,g[6]||"",!0),this.m=Rs(g[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}es.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ns(g,X,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ns(g,X,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Ns(w,w.charAt(0)=="/"?ns:ut,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Ns(w,lc)),u.join("")};function Zn(u){return new es(u)}function Ji(u,g,w){u.j=w?Rs(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Hl(u,g,w){g instanceof yi?(u.i=g,eo(u.i,u.h)):(w||(g=Ns(g,fr)),u.i=new yi(g,u.h))}function ot(u,g,w){u.i.set(g,w)}function ts(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rs(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ns(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,xm),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var X=/[#\/\?@]/g,ut=/[#\?:]/g,ns=/[#\?]/g,fr=/[#\?@]/g,lc=/#/g;function yi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function mr(u){u.g||(u.g=new Map,u.h=0,u.i&&ac(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=yi.prototype,t.add=function(u,g){mr(this),this.i=null,u=kn(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function vi(u,g){mr(u),g=kn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wi(u,g){return mr(u),g=kn(u,g),u.g.has(g)}t.forEach=function(u,g){mr(this),this.g.forEach(function(w,A){w.forEach(function(Q){u.call(g,Q,A,this)},this)},this)},t.na=function(){mr(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let A=0;A<g.length;A++){const Q=u[A];for(let ee=0;ee<Q.length;ee++)w.push(g[A])}return w},t.V=function(u){mr(this);let g=[];if(typeof u=="string")wi(this,u)&&(g=g.concat(this.g.get(kn(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},t.set=function(u,g){return mr(this),this.i=null,u=kn(this,u),wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ye(u,g,w){vi(u,g),0<w.length&&(u.i=null,u.g.set(kn(u,g),J(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var A=g[w];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var Q=ee;me[A]!==""&&(Q+="="+encodeURIComponent(String(me[A]))),u.push(Q)}}return this.i=u.join("&")};function kn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function eo(u,g){g&&!u.j&&(mr(u),u.i=null,u.g.forEach(function(w,A){var Q=A.toLowerCase();A!=Q&&(vi(this,A),ye(this,Q,w))},u)),u.j=g}function yt(u,g){const w=new m;if(d.Image){const A=new Image;A.onload=H(Pr,w,"TestLoadImage: loaded",!0,g,A),A.onerror=H(Pr,w,"TestLoadImage: error",!1,g,A),A.onabort=H(Pr,w,"TestLoadImage: abort",!1,g,A),A.ontimeout=H(Pr,w,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function pr(u,g){const w=new m,A=new AbortController,Q=setTimeout(()=>{A.abort(),Pr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(ee=>{clearTimeout(Q),ee.ok?Pr(w,"TestPingServer: ok",!0,g):Pr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Q),Pr(w,"TestPingServer: error",!1,g)})}function Pr(u,g,w,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(w)}catch{}}function uc(){this.g=new oa}function cc(u,g,w){const A=w||"";try{Qt(u,function(Q,ee){let me=Q;x(Q)&&(me=Is(Q)),g.push(A+ee+"="+encodeURIComponent(me))})}catch(Q){throw g.push(A+"type="+encodeURIComponent("_badmap")),Q}}function to(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(to,Fn),to.prototype.g=function(){return new ft(this.l,this.j)},to.prototype.i=function(u){return function(){return u}}({});function ft(u,g){kt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ft,kt),t=ft.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,rs(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Ps(this):rs(this),this.readyState==3&&no(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},t.Qa=function(u){this.g&&(this.response=u,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.v=null,rs(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function rs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ft.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ro(u){let g="";return ue(u,function(w,A){g+=A,g+=":",g+=w,g+=`\r
`}),g}function ss(u,g,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=ro(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):ot(u,g,w))}function Te(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Te,kt);var so=/^https?$/i,da=["POST","PUT"];t=Te.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?Dt(this.o):Dt(ge),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(ee){fa(this,ee);return}if(u=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)w.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())w.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(da,g,void 0))||A||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of w)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oe(this),this.u=!0,this.g.send(u),this.u=!1}catch(ee){fa(this,ee)}};function fa(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,on(u),io(u)}function on(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,st(this,"complete"),st(this,"abort"),io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jn(this):this.bb())},t.bb=function(){jn(this)};function jn(u){if(u.h&&typeof c<"u"&&(!u.v[1]||St(u)!=4||u.Z()!=2)){if(u.u&&St(u)==4)On(u.Ea,0,u);else if(st(u,"readystatechange"),St(u)==4){u.h=!1;try{const me=u.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var A;if(A=me===0){var Q=String(u.D).match(ha)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),A=!so.test(Q?Q.toLowerCase():"")}w=A}if(w)st(u,"complete"),st(u,"success");else{u.m=6;try{var ee=2<St(u)?u.g.statusText:""}catch{ee=""}u.l=ee+" ["+u.Z()+"]",on(u)}}finally{io(u)}}}}function io(u,g){if(u.g){oe(u);const w=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||st(u,"ready");try{w.onreadystatechange=A}catch{}}}function oe(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function St(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<St(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),gn(g)}};function oo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(u){const g={};u=(u.g&&2<=St(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(P(u[A]))continue;var w=q(u[A]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=g[Q]||[];g[Q]=ee,ee.push(w)}O(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function Xt(u){this.Aa=0,this.i=[],this.j=new m,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(u&&u.concurrentRequestLimit),this.Da=new uc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xt.prototype,t.la=8,t.G=1,t.connect=function(u,g,w,A){zt(0),this.W=u,this.H=g||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=ao(this,null,this.W),xi(this)};function er(u){if(pa(u),u.G==3){var g=u.U++,w=Zn(u.I);if(ot(w,"SID",u.K),ot(w,"RID",g),ot(w,"TYPE","terminate"),_i(u,w),g=new we(u,u.j,g),g.L=2,g.v=ts(Zn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=wa(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mi(g)}bi(u)}function Ke(u){u.g&&(ya(u),u.g.cancel(),u.g=null)}function pa(u){Ke(u),u.u&&(d.clearTimeout(u.u),u.u=null),va(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function xi(u){if(!gi(u.h)&&!u.s){u.s=!0;var g=u.Ga;mn||ce(),ve||(mn(),ve=!0),Ce.add(g,u),u.B=0}}function $l(u,g){return Tn(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ye(R(u.Ga,u,g),Ne(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new we(this,this.j,u);let ee=this.o;if(this.S&&(ee?(ee=k(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(Q.H=ee,ee=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Gl(this,Q,g),w=Zn(this.I),ot(w,"RID",u),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),_i(this,w),ee&&(this.O?g="headers="+encodeURIComponent(String(ro(ee)))+"&"+g:this.m&&ss(w,this.m,ee)),ua(this.h,Q),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",g),ot(w,"SID","null"),Q.T=!0,Kt(Q,w,null)):Kt(Q,w,g),this.G=2}}else this.G==3&&(u?Wl(this,u):this.i.length==0||gi(this.h)||Wl(this))};function Wl(u,g){var w;g?w=g.l:w=u.U++;const A=Zn(u.I);ot(A,"SID",u.K),ot(A,"RID",w),ot(A,"AID",u.T),_i(u,A),u.m&&u.o&&ss(A,u.m,u.o),w=new we(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Gl(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ua(u.h,w),Kt(w,A,g)}function _i(u,g){u.H&&ue(u.H,function(w,A){ot(g,A,w)}),u.l&&Qt({},function(w,A){ot(g,A,w)})}function Gl(u,g,w){w=Math.min(u.i.length,w);var A=u.l?R(u.l.Na,u.l,u):null;e:{var Q=u.i;let ee=-1;for(;;){const me=["count="+w];ee==-1?0<w?(ee=Q[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let Ze=!0;for(let At=0;At<w;At++){let Le=Q[At].g;const Ht=Q[At].map;if(Le-=ee,0>Le)ee=Math.max(0,Q[At].g-100),Ze=!1;else try{cc(Ht,me,"req"+Le+"_")}catch{A&&A(Ht)}}if(Ze){A=me.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,A}function Kl(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;mn||ce(),ve||(mn(),ve=!0),Ce.add(g,u),u.v=0}}function ga(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ye(R(u.Fa,u),Ne(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ye(R(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Ke(this),hc(this))};function ya(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function hc(u){u.g=new we(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Zn(u.qa);ot(g,"RID","rpc"),ot(g,"SID",u.K),ot(g,"AID",u.T),ot(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(g,"TO",u.ja),ot(g,"TYPE","xmlhttp"),_i(u,g),u.m&&u.o&&ss(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=ts(Zn(g)),w.m=null,w.P=!0,U(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Ke(this),ga(this),zt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tr(u,g){var w=null;if(u.g==g){va(u),ya(u),u.g=null;var A=2}else if(la(u.h,g))w=g.D,Ul(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var Q=u.B;A=Yn(),st(A,new Jr(A,w)),xi(u)}else Kl(u);else if(Q=g.s,Q==3||Q==0&&0<g.X||!(A==1&&$l(u,g)||A==2&&ga(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),Q){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function Ne(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function gr(u,g){if(u.j.info("Error code "+g),g==2){var w=R(u.fb,u),A=u.Xa;const Q=!A;A=new es(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ji(A,"https"),ts(A),Q?yt(A.toString(),w):pr(A.toString(),w)}else zt(2);u.G=0,u.l&&u.l.sa(g),bi(u),pa(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function bi(u){if(u.G=0,u.ka=[],u.l){const g=ql(u.h);(g.length!=0||u.i.length!=0)&&(G(u.ka,g),G(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function ao(u,g,w){var A=w instanceof es?Zn(w):new es(w);if(A.g!="")g&&(A.g=g+"."+A.g),Zi(A,A.s);else{var Q=d.location;A=Q.protocol,g=g?g+"."+Q.hostname:Q.hostname,Q=+Q.port;var ee=new es(null);A&&Ji(ee,A),g&&(ee.g=g),Q&&Zi(ee,Q),w&&(ee.l=w),A=ee}return w=u.D,g=u.ya,w&&g&&ot(A,w,g),ot(A,"VER",u.la),_i(u,A),A}function wa(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Te(new to({eb:w})):new Te(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ql(){}t=Ql.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function os(){}os.prototype.g=function(u,g){return new yn(u,g)};function yn(u,g){kt.call(this),this.g=new Xt(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!P(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new yr(this)}Y(yn,kt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){er(this.g)},yn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Is(u),u=w);g.i.push(new ic(g.Ya++,u)),g.G==3&&xi(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,er(this.g),delete this.g,yn.aa.N.call(this)};function xa(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}Y(xa,fi);function _a(){qt.call(this),this.status=1}Y(_a,qt);function yr(u){this.g=u}Y(yr,Ql),yr.prototype.ua=function(){st(this.g,"a")},yr.prototype.ta=function(u){st(this.g,new xa(u))},yr.prototype.sa=function(u){st(this.g,new _a)},yr.prototype.ra=function(){st(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,l5=function(){return new os},a5=function(){return Yn()},o5=Vt,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,z0=pe,ne.COMPLETE="complete",i5=ne,Xr.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",kt.prototype.listen=kt.prototype.K,La=Xr,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,s5=Te}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});const Up="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Yg("@firebase/firestore");function Ma(){return Bi.logLevel}function Se(t,...e){if(Bi.logLevel<=We.DEBUG){const n=e.map(Pf);Bi.debug(`Firestore (${na}): ${t}`,...n)}}function xs(t,...e){if(Bi.logLevel<=We.ERROR){const n=e.map(Pf);Bi.error(`Firestore (${na}): ${t}`,...n)}}function qo(t,...e){if(Bi.logLevel<=We.WARN){const n=e.map(Pf);Bi.warn(`Firestore (${na}): ${t}`,...n)}}function Pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+t;throw xs(e),new Error(e)}function rt(t,e){t||Re()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends ta{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class j9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U9{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0);let r=this.i;const s=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let o=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ms)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new u5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new cn(e)}}class q9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new q9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rt(this.o===void 0);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new $9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=G9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ut(0,0))}static max(){return new Pe(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),c=n.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends _l{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const K9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends _l{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return K9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ke(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ke(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ke(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new ke(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}function Q9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new ri(s,Ie.empty(),e)}function X9(t){return new ri(t.readTime,t.key,-1)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(Pe.min(),Ie.empty(),-1)}static max(){return new ri(Pe.max(),Ie.empty(),-1)}}function Y9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==J9)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},p=>r(p))}),c=!0,o===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const x=p;n(e[x]).next(T=>{c[x]=T,++d,d===o&&r(c)},T=>s(T))}})}static doWhile(e,n){return new le((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function ev(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mf.oe=-1;function ju(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function tv(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new x0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new x0(this.root,e,this.comparator,!1)}getReverseIterator(){return new x0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new x0(this.root,e,this.comparator,!0)}}class x0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=s??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Jt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hp(this.data.getIterator())}getIteratorFrom(e){return new Hp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class Hp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new br([])}unionWith(e){let n=new tn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new d5("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const nv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(rt(!!t),typeof t=="string"){let e=0;const n=nv.exec(t);if(rt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vf(t){const e=t.mapValue.fields.__previous_value__;return Df(e)?Vf(e):e}function bl(t){const e=si(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,s,o,c,d,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=x}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={mapValue:{}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Df(t)?4:iv(t)?9007199254740991:sv(t)?10:11:Re()}function Hr(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=si(s.timestampValue),d=si(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ji(s.bytesValue).isEqual(ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=It(s.doubleValue),d=It(o.doubleValue);return c===d?mu(c)===mu(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(qp(c)!==qp(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hr(c[p],d[p])))return!1;return!0}(t,e);default:return Re()}}function El(t,e){return(t.values||[]).find(n=>Hr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=It(o.integerValue||o.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return $p(t.timestampValue,e.timestampValue);case 4:return $p(bl(t),bl(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(o,c){const d=ji(o),p=ji(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),p=c.split("/");for(let x=0;x<d.length&&x<p.length;x++){const T=Qe(d[x],p[x]);if(T!==0)return T}return Qe(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Qe(It(o.latitude),It(c.latitude));return d!==0?d:Qe(It(o.longitude),It(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wp(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,p,x,T;const C=o.fields||{},R=c.fields||{},H=(d=C.value)===null||d===void 0?void 0:d.arrayValue,Y=(p=R.value)===null||p===void 0?void 0:p.arrayValue,J=Qe(((x=H==null?void 0:H.values)===null||x===void 0?void 0:x.length)||0,((T=Y==null?void 0:Y.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:Wp(H,Y)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===_0.mapValue&&c===_0.mapValue)return 0;if(o===_0.mapValue)return 1;if(c===_0.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),x=c.fields||{},T=Object.keys(x);p.sort(),T.sort();for(let C=0;C<p.length&&C<T.length;++C){const R=Qe(p[C],T[C]);if(R!==0)return R;const H=$o(d[p[C]],x[T[C]]);if(H!==0)return H}return Qe(p.length,T.length)}(t.mapValue,e.mapValue);default:throw Re()}}function $p(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=si(t),r=si(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function Wp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=$o(n[s],r[s]);if(o)return o}return Qe(n.length,r.length)}function Wo(t){return _d(t)}function _d(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=_d(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${_d(n.fields[c])}`;return s+"}"}(t.mapValue):Re()}function bd(t){return!!t&&"integerValue"in t}function zf(t){return!!t&&"arrayValue"in t}function Gp(t){return!!t&&"nullValue"in t}function Kp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function O0(t){return!!t&&"mapValue"in t}function sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iv(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!O0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=Zt.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Ya(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());O0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];O0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ra(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ar(Ya(this.value))}}function f5(t){const e=[];return ra(t.fields,(n,r)=>{const s=new Zt([n]);if(O0(r)){const o=f5(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Pe.min(),Pe.min(),Pe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,s){return new dn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new dn(e,2,n,Pe.min(),Pe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Pe.min(),Pe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.position=e,this.inclusive=n}}function Qp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=$o(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ov(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{}class Bt extends m5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lv(e,n,r):n==="array-contains"?new hv(e,r):n==="in"?new dv(e,r):n==="not-in"?new fv(e,r):n==="array-contains-any"?new mv(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uv(e,r):new cv(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends m5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return p5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function p5(t){return t.op==="and"}function g5(t){return av(t)&&p5(t)}function av(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Sd(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(g5(t))return t.filters.map(e=>Sd(e)).join(",");{const e=t.filters.map(n=>Sd(n)).join(",");return`${t.op}(${e})`}}function y5(t,e){return t instanceof Bt?function(r,s){return s instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&Hr(r.value,s.value)}(t,e):t instanceof $r?function(r,s){return s instanceof $r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&y5(c,s.filters[d]),!0):!1}(t,e):void Re()}function v5(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(v5).join(" ,")+"}"}(t):"Filter"}class lv extends Bt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class uv extends Bt{constructor(e,n){super(e,"in",n),this.keys=w5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cv extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=w5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class hv extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zf(n)&&El(n.arrayValue,this.value)}}class dv extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class fv extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!El(this.value.arrayValue,n)}}class mv extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function Yp(t,e=null,n=[],r=[],s=null,o=null,c=null){return new pv(t,e,n,r,s,o,c)}function Of(t){const e=Me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.ue=n}return e.ue}function Lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ov(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xp(t.startAt,e.startAt)&&Xp(t.endAt,e.endAt)}function Ed(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gv(t,e,n,r,s,o,c,d){return new Uu(t,e,n,r,s,o,c,d)}function qu(t){return new Uu(t)}function Jp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yv(t){return t.collectionGroup!==null}function Ja(t){const e=Me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(Zt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(x=>{x.isInequality()&&(d=d.add(x.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new gu(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new gu(Zt.keyField(),r))}return e.ce}function jr(t){const e=Me(t);return e.le||(e.le=vv(e,Ja(t))),e.le}function vv(t,e){if(t.limitType==="F")return Yp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new gu(s.field,o)});const n=t.endAt?new pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pu(t.startAt.position,t.startAt.inclusive):null;return Yp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Td(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hu(t,e){return Lf(jr(t),jr(e))&&t.limitType===e.limitType}function x5(t){return`${Of(jr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>v5(s)).join(", ")}]`),ju(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wo(s)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function $u(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Ja(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,p){const x=Qp(c,d,p);return c.inclusive?x<=0:x<0}(r.startAt,Ja(r),s)||r.endAt&&!function(c,d,p){const x=Qp(c,d,p);return c.inclusive?x>=0:x>0}(r.endAt,Ja(r),s))}(t,e)}function wv(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _5(t){return(e,n)=>{let r=!1;for(const s of Ja(t)){const o=xv(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function xv(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,c,d){const p=c.data.field(o),x=d.data.field(o);return p!==null&&x!==null?$o(p,x):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return h5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new bt(Ie.comparator);function _s(){return _v}const b5=new bt(Ie.comparator);function Fa(...t){let e=b5;for(const n of t)e=e.insert(n.key,n);return e}function S5(t){let e=b5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ri(){return Za()}function E5(){return Za()}function Za(){return new sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const bv=new bt(Ie.comparator),Sv=new tn(Ie.comparator);function Oe(...t){let e=Sv;for(const n of t)e=e.add(n);return e}const Ev=new tn(Qe);function Tv(){return Ev}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function T5(t){return{integerValue:""+t}}function kv(t,e){return tv(e)?T5(e):Ff(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this._=void 0}}function Av(t,e,n){return t instanceof yu?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Df(o)&&(o=Vf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof Tl?A5(t,e):t instanceof kl?I5(t,e):function(s,o){const c=k5(s,o),d=Zp(c)+Zp(s.Pe);return bd(c)&&bd(s.Pe)?T5(d):Ff(s.serializer,d)}(t,e)}function Iv(t,e,n){return t instanceof Tl?A5(t,e):t instanceof kl?I5(t,e):n}function k5(t,e){return t instanceof vu?function(r){return bd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class yu extends Wu{}class Tl extends Wu{constructor(e){super(),this.elements=e}}function A5(t,e){const n=C5(e);for(const r of t.elements)n.some(s=>Hr(s,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Wu{constructor(e){super(),this.elements=e}}function I5(t,e){let n=C5(e);for(const r of t.elements)n=n.filter(s=>!Hr(s,r));return{arrayValue:{values:n}}}class vu extends Wu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zp(t){return It(t.integerValue||t.doubleValue)}function C5(t){return zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cv(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Tl&&s instanceof Tl||r instanceof kl&&s instanceof kl?Ho(r.elements,s.elements,Hr):r instanceof vu&&s instanceof vu?Hr(r.Pe,s.Pe):r instanceof yu&&s instanceof yu}(t.transform,e.transform)}class Rv{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function L0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gu{}function R5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bf(t.key,Ur.none()):new Dl(t.key,t.data,Ur.none());{const n=t.data,r=ar.empty();let s=new tn(Zt.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Wi(t.key,r,new br(s.toArray()),Ur.none())}}function Nv(t,e,n){t instanceof Dl?function(s,o,c){const d=s.value.clone(),p=t4(s.fieldTransforms,o,c.transformResults);d.setAll(p),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(s,o,c){if(!L0(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=t4(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(N5(s)),p.setAll(d),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,r){return t instanceof Dl?function(o,c,d,p){if(!L0(o.precondition,c))return d;const x=o.value.clone(),T=n4(o.fieldTransforms,p,c);return x.setAll(T),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(o,c,d,p){if(!L0(o.precondition,c))return d;const x=n4(o.fieldTransforms,p,c),T=c.data;return T.setAll(N5(o)),T.setAll(x),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(t,e,n,r):function(o,c,d){return L0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function Pv(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=k5(r.transform,s||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function e4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ho(r,s,(o,c)=>Cv(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends Gu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wi extends Gu{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t4(t,e,n){const r=new Map;rt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,Iv(c,d,n[s]))}return r}function n4(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,Av(o,c,e))}return r}class Bf extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mv extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Nv(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E5();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const p=R5(c,d);p!==null&&r.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>e4(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>e4(n,r))}}class jf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){rt(e.mutations.length===r.length);let s=function(){return bv}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new jf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ue;function Ov(t){switch(t){default:return Re();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function P5(t){if(t===void 0)return xs("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Pt.OK:return ae.OK;case Pt.CANCELLED:return ae.CANCELLED;case Pt.UNKNOWN:return ae.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ae.INTERNAL;case Pt.UNAVAILABLE:return ae.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ae.NOT_FOUND;case Pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pt.ABORTED:return ae.ABORTED;case Pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pt.DATA_LOSS:return ae.DATA_LOSS;default:return Re()}}(Ue=Pt||(Pt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Di([4294967295,4294967295],0);function r4(t){const e=Lv().encode(t),n=new r5;return n.update(e),new Uint8Array(n.digest())}function s4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([n,r],0),new Di([s,o],0)]}class Uf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(r<0)throw new Ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Di.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Di.fromNumber(r)));return s.compare(Fv)===1&&(s=new Di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=r4(e),[r,s]=s4(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Uf(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ie===0)return;const n=r4(e),[r,s]=s4(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ku(Pe.min(),s,new bt(Qe),_s(),Oe())}}class Vl{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vl(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class M5{constructor(e,n){this.targetId=e,this.me=n}}class D5{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class i4{constructor(){this.fe=0,this.ge=a4(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Vl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bv{constructor(e){this.Le=e,this.Be=new Map,this.ke=_s(),this.qe=o4(),this.Qe=new bt(Qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(Ed(o))if(r===0){const c=new Ie(o.path);this.Ue(n,c,dn.newNoDocument(c,Pe.min()))}else rt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const x=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,x)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=ji(r).toUint8Array()}catch(p){if(p instanceof d5)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Uf(c,s,o)}catch(p){return qo(p instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,c)=>{const d=this.Je(c);if(d){if(o.current&&Ed(d.target)){const p=new Ie(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,dn.newNoDocument(p,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const x=this.Je(p);return!x||x.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new Ku(e,n,this.Qe,this.ke,r);return this.ke=_s(),this.qe=o4(),this.Qe=new bt(Qe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new i4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new i4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function o4(){return new bt(Ie.comparator)}function a4(){return new bt(Ie.comparator)}const jv={asc:"ASCENDING",desc:"DESCENDING"},Uv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qv={and:"AND",or:"OR"};class Hv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kd(t,e){return t.useProto3Json||ju(e)?e:{value:e}}function wu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $v(t,e){return wu(t,e.toTimestamp())}function qr(t){return rt(!!t),Pe.fromTimestamp(function(n){const r=si(n);return new Ut(r.seconds,r.nanos)}(t))}function qf(t,e){return Ad(t,e).canonicalString()}function Ad(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z5(t){const e=gt.fromString(t);return rt(j5(e)),e}function Id(t,e){return qf(t.databaseId,e.path)}function fh(t,e){const n=z5(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(L5(n))}function O5(t,e){return qf(t.databaseId,e)}function Wv(t){const e=z5(t);return e.length===4?gt.emptyPath():L5(e)}function Cd(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L5(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l4(t,e,n){return{name:Id(t,e),fields:n.value.mapValue.fields}}function Gv(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(x,T){return x.useProto3Json?(rt(T===void 0||typeof T=="string"),rn.fromBase64String(T||"")):(rt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),rn.fromUint8Array(T||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(x){const T=x.code===void 0?ae.UNKNOWN:P5(x.code);return new ke(T,x.message||"")}(c);n=new D5(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fh(t,r.document.name),o=qr(r.document.updateTime),c=r.document.createTime?qr(r.document.createTime):Pe.min(),d=new ar({mapValue:{fields:r.document.fields}}),p=dn.newFoundDocument(s,o,c,d),x=r.targetIds||[],T=r.removedTargetIds||[];n=new F0(x,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fh(t,r.document),o=r.readTime?qr(r.readTime):Pe.min(),c=dn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new F0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fh(t,r.document),o=r.removedTargetIds||[];n=new F0([],o,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new zv(s,o),d=r.targetId;n=new M5(d,c)}}return n}function Kv(t,e){let n;if(e instanceof Dl)n={update:l4(t,e.key,e.value)};else if(e instanceof Bf)n={delete:Id(t,e.key)};else if(e instanceof Wi)n={update:l4(t,e.key,e.data),updateMask:rw(e.fieldMask)};else{if(!(e instanceof Mv))return Re();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof yu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vu)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:$v(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function Qv(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(s,o){let c=s.updateTime?qr(s.updateTime):qr(o);return c.isEqual(Pe.min())&&(c=qr(o)),new Rv(c,s.transformResults||[])}(n,e))):[]}function Xv(t,e){return{documents:[O5(t,e.path)]}}function Yv(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O5(t,s);const o=function(x){if(x.length!==0)return B5($r.create(x,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(x){if(x.length!==0)return x.map(T=>function(R){return{field:fo(R.field),direction:ew(R.dir)}}(T))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=kd(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(x){return{before:x.inclusive,values:x.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(e.endAt)),{_t:n,parent:s}}function Jv(t){let e=Wv(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){rt(r===1);const T=n.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let o=[];n.where&&(o=function(C){const R=F5(C);return R instanceof $r&&g5(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(C){return C.map(R=>function(Y){return new gu(mo(Y.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(R))}(n.orderBy));let d=null;n.limit&&(d=function(C){let R;return R=typeof C=="object"?C.value:C,ju(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(C){const R=!!C.before,H=C.values||[];return new pu(H,R)}(n.startAt));let x=null;return n.endAt&&(x=function(C){const R=!C.before,H=C.values||[];return new pu(H,R)}(n.endAt)),gv(e,s,c,o,d,"F",p,x)}function Zv(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=mo(n.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mo(n.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>F5(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function ew(t){return jv[t]}function tw(t){return Uv[t]}function nw(t){return qv[t]}function fo(t){return{fieldPath:t.canonicalString()}}function mo(t){return Zt.fromServerFormat(t.fieldPath)}function B5(t){return t instanceof Bt?function(n){if(n.op==="=="){if(Kp(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(Gp(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kp(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(Gp(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:tw(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(s=>B5(s));return r.length===1?r[0]:{compositeFilter:{op:nw(n.op),filters:r}}}(t):Re()}function rw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,s,o=Pe.min(),c=Pe.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.ct=e}}function iw(t){const e=Jv({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.un=new aw}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ri.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class aw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(gt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Go(0)}static kn(){return new Go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&el(r.mutation,s,br.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Ri();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Fa();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=_s();const c=Za(),d=function(){return Za()}();return n.forEach((p,x)=>{const T=r.get(x.key);s.has(x.key)&&(T===void 0||T.mutation instanceof Wi)?o=o.insert(x.key,x):T!==void 0?(c.set(x.key,T.mutation.getFieldMask()),el(T.mutation,x,T.mutation.getFieldMask(),Ut.now())):c.set(x.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((x,T)=>c.set(x,T)),n.forEach((x,T)=>{var C;return d.set(x,new uw(T,(C=c.get(x))!==null&&C!==void 0?C:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Za();let s=new bt((c,d)=>c-d),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const x=n.get(p);if(x===null)return;let T=r.get(p)||br.empty();T=d.applyToLocalView(x,T),r.set(p,T);const C=(s.get(d.batchId)||Oe()).add(p);s=s.insert(d.batchId,C)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),x=p.key,T=p.value,C=E5();T.forEach(R=>{if(!o.has(R)){const H=R5(n.get(R),r.get(R));H!==null&&C.set(R,H),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,x,C))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):le.resolve(Ri());let d=-1,p=o;return c.next(x=>le.forEach(x,(T,C)=>(d<C.largestBatchId&&(d=C.largestBatchId),o.get(T)?le.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,x,o)).next(()=>this.computeViews(e,p,x,Oe())).next(T=>({batchId:d,changes:S5(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Fa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Fa();return this.indexManager.getCollectionParents(e,o).next(d=>le.forEach(d,p=>{const x=function(C,R){return new Uu(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,x,r,s).next(T=>{T.forEach((C,R)=>{c=c.insert(C,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((p,x)=>{const T=x.getKey();c.get(T)===null&&(c=c.insert(T,dn.newInvalidDocument(T)))});let d=Fa();return c.forEach((p,x)=>{const T=o.get(p);T!==void 0&&el(T.mutation,x,br.empty(),Ut.now()),$u(n,x)&&(d=d.insert(p,x))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qr(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:iw(s.bundledQuery),readTime:qr(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.overlays=new bt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ri();return le.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Ri(),o=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,x=p.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===o&&p.largestBatchId>r&&s.set(p.getKey(),p)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new bt((x,T)=>x-T);const c=this.overlays.getIterator();for(;c.hasNext();){const x=c.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>r){let T=o.get(x.largestBatchId);T===null&&(T=Ri(),o=o.insert(x.largestBatchId,T)),T.set(x.getKey(),x)}}const d=Ri(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((x,T)=>d.set(x,T)),!(d.size()>=s)););return le.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Vv(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Tr=new tn($t.Er),this.dr=new tn($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new gt([])),r=new $t(n,e),s=new $t(n,e+1),o=[];return this.dr.forEachInRange([r,s],c=>{this.Vr(c),o.push(c.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new gt([])),r=new $t(n,e),s=new $t(n,e+1);let o=Oe();return this.dr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||Qe(e.wr,n.wr)}static Ar(e,n){return Qe(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn($t.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Dv(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.br=this.br.add(new $t(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),s=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],c=>{const d=this.Dr(c.wr);o.push(d)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Qe);return n.forEach(s=>{const o=new $t(s,0),c=new $t(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],d=>{r=r.add(d.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const c=new $t(new Ie(o),0);let d=new tn(Qe);return this.br.forEachWhile(p=>{const x=p.key.path;return!!r.isPrefixOf(x)&&(x.length===s&&(d=d.add(p.wr)),!0)},c),le.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,s=>{const o=new $t(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $t(n,0),s=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.Mr=e,this.docs=function(){return new bt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():dn.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=_s();const c=n.path,d=new Ie(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:x,value:{document:T}}=p.getNext();if(!c.isPrefixOf(x.path))break;x.path.length>c.length+1||Y9(X9(T),r)<=0||(s.has(T.key)||$u(n,T))&&(o=o.insert(T.key,T.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Re()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gw(this)}getSize(e){return le.resolve(this.size)}}class gw extends lw{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.persistence=e,this.Nr=new sa(n=>Of(n),Lf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hf,this.targetCount=0,this.kr=Go.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),le.waitFor(o).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Mf(0),this.Kr=!1,this.Kr=!0,this.$r=new fw,this.referenceDelegate=e(this),this.Ur=new yw(this),this.indexManager=new ow,this.remoteDocumentCache=function(s){return new pw(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new sw(n),this.Gr=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new mw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const s=new ww(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ww extends Z9{constructor(e){super(),this.currentSequenceNumber=e}}class $f{constructor(e){this.persistence=e,this.Jr=new Hf,this.Yr=null}static Zr(e){return new $f(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Oe(),s=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Wf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return E8()?8:ev(b8())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new xw;return this.Xi(e,n,c).next(d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ma()<=We.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ma()<=We.DEBUG&&Se("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ma()<=We.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):le.resolve())}Yi(e,n){if(Jp(n))return le.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Td(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Oe(...o);return this.Ji.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const x=this.ts(n,d);return this.ns(n,x,c,p.readTime)?this.Yi(e,Td(n,null,"F")):this.rs(e,x,n,p)}))})))}Zi(e,n,r,s){return Jp(n)||s.isEqual(Pe.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const c=this.ts(n,o);return this.ns(n,c,r,s)?le.resolve(null):(Ma()<=We.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.rs(e,c,n,Q9(s,-1)).next(d=>d))})}ts(e,n){let r=new tn(_5(e));return n.forEach((s,o)=>{$u(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Ma()<=We.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,ri.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new bt(Qe),this._s=new sa(o=>Of(o),Lf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Sw(t,e,n,r){return new bw(t,e,n,r)}async function U5(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let p=Oe();for(const x of s){c.push(x.batchId);for(const T of x.mutations)p=p.add(T.key)}for(const x of o){d.push(x.batchId);for(const T of x.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next(x=>({hs:x,removedBatchIds:c,addedBatchIds:d}))})})}function Ew(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(d,p,x,T){const C=x.batch,R=C.keys();let H=le.resolve();return R.forEach(Y=>{H=H.next(()=>T.getEntry(p,Y)).next(J=>{const G=x.docVersions.get(Y);rt(G!==null),J.version.compareTo(G)<0&&(C.applyToRemoteDocument(J,x),J.isValidDocument()&&(J.setReadTime(x.commitVersion),T.addEntry(J)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(p,C))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Oe();for(let x=0;x<d.mutationResults.length;++x)d.mutationResults[x].transformResults.length>0&&(p=p.add(d.batch.mutations[x].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function q5(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Tw(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const d=[];e.targetChanges.forEach((T,C)=>{const R=s.get(C);if(!R)return;d.push(n.Ur.removeMatchingKeys(o,T.removedDocuments,C).next(()=>n.Ur.addMatchingKeys(o,T.addedDocuments,C)));let H=R.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(rn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),s=s.insert(C,H),function(J,G,F){return J.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(R,H,T)&&d.push(n.Ur.updateTargetData(o,H))});let p=_s(),x=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,T))}),d.push(kw(o,c,e.documentUpdates).next(T=>{p=T.Ps,x=T.Is})),!r.isEqual(Pe.min())){const T=n.Ur.getLastRemoteSnapshotVersion(o).next(C=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(T)}return le.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,p,x)).next(()=>p)}).then(o=>(n.os=s,o))}function kw(t,e,n){let r=Oe(),s=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=_s();return n.forEach((d,p)=>{const x=o.get(d);p.isFoundDocument()!==x.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!x.isValidDocument()||p.version.compareTo(x.version)>0||p.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Se("LocalStore","Ignoring outdated watch update for ",d,". Current version:",x.version," Watch version:",p.version)}),{Ps:c,Is:s}})}function Aw(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iw(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,le.resolve(s)):n.Ur.allocateTargetId(r).next(c=>(s=new qs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Rd(t,e,n){const r=Me(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Ml(c))throw c;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function u4(t,e,n){const r=Me(t);let s=Pe.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,x,T){const C=Me(p),R=C._s.get(T);return R!==void 0?le.resolve(C.os.get(R)):C.Ur.getTargetData(x,T)}(r,c,jr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>r.ss.getDocumentsMatchingQuery(c,e,n?s:Pe.min(),n?o:Oe())).next(d=>(Cw(r,wv(e),d),{documents:d,Ts:o})))}function Cw(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class c4{constructor(){this.activeTargetIds=Tv()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rw{constructor(){this.so=new c4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new c4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0=null;function mh(){return b0===null?b0=function(){return 268435456+Math.round(2147483648*Math.random())}():b0++,"0x"+b0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Dw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,c){const d=mh(),p=this.xo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${d}:`,p,s);const x={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(x,o,c),this.No(n,p,x,s).then(T=>(Se("RestConnection",`Received RPC '${n}' ${d}: `,T),T),T=>{throw qo("RestConnection",`RPC '${n}' ${d} failed with error: `,T,"url: ",p,"request:",s),T})}Lo(n,r,s,o,c,d){return this.Mo(n,r,s,o,c)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),s&&s.headers.forEach((o,c)=>n[c]=o)}xo(n,r){const s=Pw[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=mh();return new Promise((c,d)=>{const p=new s5;p.setWithCredentials(!0),p.listenOnce(i5.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case z0.NO_ERROR:const T=p.getResponseJson();Se(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(T)),c(T);break;case z0.TIMEOUT:Se(un,`RPC '${e}' ${o} timed out`),d(new ke(ae.DEADLINE_EXCEEDED,"Request time out"));break;case z0.HTTP_ERROR:const C=p.getStatus();if(Se(un,`RPC '${e}' ${o} failed with status:`,C,"response text:",p.getResponseText()),C>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R==null?void 0:R.error;if(H&&H.status&&H.message){const Y=function(G){const F=G.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN}(H.status);d(new ke(Y,H.message))}else d(new ke(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ke(ae.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{Se(un,`RPC '${e}' ${o} completed.`)}});const x=JSON.stringify(s);Se(un,`RPC '${e}' ${o} sending request:`,s),p.send(n,"POST",x,r,15)})}Bo(e,n,r){const s=mh(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=l5(),d=a5(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=o.join("");Se(un,`Creating RPC '${e}' stream ${s}: ${T}`,p);const C=c.createWebChannel(T,p);let R=!1,H=!1;const Y=new Mw({Io:G=>{H?Se(un,`Not sending because RPC '${e}' stream ${s} is closed:`,G):(R||(Se(un,`Opening RPC '${e}' stream ${s} transport.`),C.open(),R=!0),Se(un,`RPC '${e}' stream ${s} sending:`,G),C.send(G))},To:()=>C.close()}),J=(G,F,P)=>{G.listen(F,j=>{try{P(j)}catch(te){setTimeout(()=>{throw te},0)}})};return J(C,La.EventType.OPEN,()=>{H||(Se(un,`RPC '${e}' stream ${s} transport opened.`),Y.yo())}),J(C,La.EventType.CLOSE,()=>{H||(H=!0,Se(un,`RPC '${e}' stream ${s} transport closed`),Y.So())}),J(C,La.EventType.ERROR,G=>{H||(H=!0,qo(un,`RPC '${e}' stream ${s} transport errored:`,G),Y.So(new ke(ae.UNAVAILABLE,"The operation could not be completed")))}),J(C,La.EventType.MESSAGE,G=>{var F;if(!H){const P=G.data[0];rt(!!P);const j=P,te=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(te){Se(un,`RPC '${e}' stream ${s} received error:`,te);const de=te.status;let ue=function(D){const M=Pt[D];if(M!==void 0)return P5(M)}(de),O=te.message;ue===void 0&&(ue=ae.INTERNAL,O="Unknown error status: "+de+" with message "+te.message),H=!0,Y.So(new ke(ue,O)),C.close()}else Se(un,`RPC '${e}' stream ${s} received:`,P),Y.bo(P)}}),J(d,o5.STAT_EVENT,G=>{G.stat===xd.PROXY?Se(un,`RPC '${e}' stream ${s} detected buffering proxy`):G.stat===xd.NOPROXY&&Se(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Y.wo()},0),Y}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){return new Hv(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,s,o,c,d,p){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new H5(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ke(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vw extends $5{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Gv(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?qr(c.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(o,c){let d;const p=c.target;if(d=Ed(p)?{documents:Xv(o,p)}:{query:Yv(o,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=V5(o,c.resumeToken);const x=kd(o,c.expectedCount);x!==null&&(d.expectedCount=x)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=wu(o,c.snapshotVersion.toTimestamp());const x=kd(o,c.expectedCount);x!==null&&(d.expectedCount=x)}return d}(this.serializer,e);const r=Zv(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.a_(n)}}class zw extends $5{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Qv(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Cd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kv(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ke(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Mo(e,Ad(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ae.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Lo(e,Ad(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(ae.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Lw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xs(n),this.D_=!1):Se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(c=>{r.enqueueAndForget(async()=>{Gi(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(p){const x=Me(p);x.L_.add(4),await zl(x),x.q_.set("Unknown"),x.L_.delete(4),await Xu(x)}(this))})}),this.q_=new Lw(r,s)}}async function Xu(t){if(Gi(t))for(const e of t.B_)await e(!0)}async function zl(t){for(const e of t.B_)await e(!1)}function W5(t,e){const n=Me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xf(n)?Qf(n):ia(n).r_()&&Kf(n,e))}function Gf(t,e){const n=Me(t),r=ia(n);n.N_.delete(e),r.r_()&&G5(n,e),n.N_.size===0&&(r.r_()?r.o_():Gi(n)&&n.q_.set("Unknown"))}function Kf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).A_(e)}function G5(t,e){t.Q_.xe(e),ia(t).R_(e)}function Qf(t){t.Q_=new Bv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.q_.v_()}function Xf(t){return Gi(t)&&!ia(t).n_()&&t.N_.size>0}function Gi(t){return Me(t).L_.size===0}function K5(t){t.Q_=void 0}async function Bw(t){t.q_.set("Online")}async function jw(t){t.N_.forEach((e,n)=>{Kf(t,e)})}async function Uw(t,e){K5(t),Xf(t)?(t.q_.M_(e),Qf(t)):t.q_.set("Unknown")}async function qw(t,e,n){if(t.q_.set("Online"),e instanceof D5&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.N_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.N_.delete(d),s.Q_.removeTarget(d))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xu(t,r)}else if(e instanceof F0?t.Q_.Ke(e):e instanceof M5?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await q5(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach((p,x)=>{if(p.resumeToken.approximateByteSize()>0){const T=o.N_.get(x);T&&o.N_.set(x,T.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,x)=>{const T=o.N_.get(p);if(!T)return;o.N_.set(p,T.withResumeToken(rn.EMPTY_BYTE_STRING,T.snapshotVersion)),G5(o,p);const C=new qs(T.target,p,x,T.sequenceNumber);Kf(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await xu(t,r)}}async function xu(t,e,n){if(!Ml(e))throw e;t.L_.add(1),await zl(t),t.q_.set("Offline"),n||(n=()=>q5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xu(t)})}function Q5(t,e){return e().catch(n=>xu(t,n,e))}async function Yu(t){const e=Me(t),n=ii(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Hw(e);)try{const s=await Aw(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,$w(e,s)}catch(s){await xu(e,s)}X5(e)&&Y5(e)}function Hw(t){return Gi(t)&&t.O_.length<10}function $w(t,e){t.O_.push(e);const n=ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function X5(t){return Gi(t)&&!ii(t).n_()&&t.O_.length>0}function Y5(t){ii(t).start()}async function Ww(t){ii(t).p_()}async function Gw(t){const e=ii(t);for(const n of t.O_)e.m_(n.mutations)}async function Kw(t,e,n){const r=t.O_.shift(),s=jf.from(r,e,n);await Q5(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yu(t)}async function Qw(t,e){e&&ii(t).V_&&await async function(r,s){if(function(c){return Ov(c)&&c!==ae.ABORTED}(s.code)){const o=r.O_.shift();ii(r).s_(),await Q5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Yu(r)}}(t,e),X5(t)&&Y5(t)}async function d4(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Gi(n);n.L_.add(3),await zl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xu(n)}async function Xw(t,e){const n=Me(t);e?(n.L_.delete(2),await Xu(n)):e||(n.L_.add(2),await zl(n),n.q_.set("Unknown"))}function ia(t){return t.K_||(t.K_=function(n,r,s){const o=Me(n);return o.w_(),new Vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Bw.bind(null,t),Ro:jw.bind(null,t),mo:Uw.bind(null,t),d_:qw.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xf(t)?Qf(t):t.q_.set("Unknown")):(await t.K_.stop(),K5(t))})),t.K_}function ii(t){return t.U_||(t.U_=function(n,r,s){const o=Me(n);return o.w_(),new zw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ww.bind(null,t),mo:Qw.bind(null,t),f_:Gw.bind(null,t),g_:Kw.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yu(t)):(await t.U_.stop(),t.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new Yf(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(t,e){if(xs("AsyncQueue",`${e}: ${t}`),Ml(t))return new ke(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.W_=new bt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,s,o,c,d,p,x){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=x}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ko(e,n,Do.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Jw{constructor(){this.queries=m4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Me(n),o=s.queries;s.queries=m4(),o.forEach((c,d)=>{for(const p of d.j_)p.onError(r)})})(this,new ke(ae.ABORTED,"Firestore shutting down"))}}function m4(){return new sa(t=>x5(t),Hu)}async function Zf(t,e){const n=Me(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new Yw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Jf(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&tm(n)}async function em(t,e){const n=Me(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zw(t,e){const n=Me(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(s)&&(r=!0);c.z_=s}}r&&tm(n)}function ex(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function tm(t){t.Y_.forEach(e=>{e.next()})}var Nd,p4;(p4=Nd||(Nd={})).ea="default",p4.Cache="cache";class nm{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.key=e}}class Z5{constructor(e){this.key=e}}class tx{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=_5(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new f4,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,x=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,C)=>{const R=s.get(T),H=$u(this.query,C)?C:null,Y=!!R&&this.mutatedKeys.has(R.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let G=!1;R&&H?R.data.isEqual(H.data)?Y!==J&&(r.track({type:3,doc:H}),G=!0):this.ga(R,H)||(r.track({type:2,doc:H}),G=!0,(p&&this.Aa(H,p)>0||x&&this.Aa(H,x)<0)&&(d=!0)):!R&&H?(r.track({type:0,doc:H}),G=!0):R&&!H&&(r.track({type:1,doc:R}),G=!0,(p||x)&&(d=!0)),G&&(H?(c=c.add(H),o=J?o.add(T):o.delete(T)):(c=c.delete(T),o=o.delete(T)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),o=o.delete(T.key),r.track({type:1,doc:T})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((T,C)=>function(H,Y){const J=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return J(H)-J(Y)}(T.type,C.type)||this.Aa(T.doc,C.doc)),this.pa(r),s=s!=null&&s;const d=n&&!s?this.ya():[],p=this.da.size===0&&this.current&&!s?1:0,x=p!==this.Ea;return this.Ea=p,c.length!==0||x?{snapshot:new Ko(this.query,e.Ra,o,c,e.mutatedKeys,p===0,x,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Z5(r))}),this.da.forEach(r=>{e.has(r)||n.push(new J5(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rx{constructor(e){this.key=e,this.va=!1}}class sx{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new sa(d=>x5(d),Hu),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(Ie.comparator),this.Na=new Map,this.La=new Hf,this.Ba={},this.ka=new Map,this.qa=Go.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ix(t,e,n=!0){const r=i3(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await e3(r,e,n,!0),s}async function ox(t,e){const n=i3(t);await e3(n,e,!0,!1)}async function e3(t,e,n,r){const s=await Iw(t.localStore,jr(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await ax(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&W5(t.remoteStore,s),d}async function ax(t,e,n,r,s){t.Ka=(C,R,H)=>async function(J,G,F,P){let j=G.view.ma(F);j.ns&&(j=await u4(J.localStore,G.query,!1).then(({documents:O})=>G.view.ma(O,j)));const te=P&&P.targetChanges.get(G.targetId),de=P&&P.targetMismatches.get(G.targetId)!=null,ue=G.view.applyChanges(j,J.isPrimaryClient,te,de);return y4(J,G.targetId,ue.wa),ue.snapshot}(t,C,R,H);const o=await u4(t.localStore,e,!0),c=new tx(e,o.Ts),d=c.ma(o.documents),p=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),x=c.applyChanges(d,t.isPrimaryClient,p);y4(t,n,x.wa);const T=new nx(e,n,c);return t.Fa.set(e,T),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),x.snapshot}async function lx(t,e,n){const r=Me(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(c=>!Hu(c,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gf(r.remoteStore,s.targetId),Pd(r,s.targetId)}).catch(Pl)):(Pd(r,s.targetId),await Rd(r.localStore,s.targetId,!0))}async function ux(t,e){const n=Me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gf(n.remoteStore,r.targetId))}async function cx(t,e,n){const r=yx(t);try{const s=await function(c,d){const p=Me(c),x=Ut.now(),T=d.reduce((H,Y)=>H.add(Y.key),Oe());let C,R;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=_s(),J=Oe();return p.cs.getEntries(H,T).next(G=>{Y=G,Y.forEach((F,P)=>{P.isValidDocument()||(J=J.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,Y)).next(G=>{C=G;const F=[];for(const P of d){const j=Pv(P,C.get(P.key).overlayedDocument);j!=null&&F.push(new Wi(P.key,j,f5(j.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(H,x,F,d)}).next(G=>{R=G;const F=G.applyToLocalDocumentSet(C,J);return p.documentOverlayCache.saveOverlays(H,G.batchId,F)})}).then(()=>({batchId:R.batchId,changes:S5(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,p){let x=c.Ba[c.currentUser.toKey()];x||(x=new bt(Qe)),x=x.insert(d,p),c.Ba[c.currentUser.toKey()]=x}(r,s.batchId,n),await Ol(r,s.changes),await Yu(r.remoteStore)}catch(s){const o=Jf(s,"Failed to persist write");n.reject(o)}}async function t3(t,e){const n=Me(t);try{const r=await Tw(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Na.get(o);c&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.va=!0:s.modifiedDocuments.size>0?rt(c.va):s.removedDocuments.size>0&&(rt(c.va),c.va=!1))}),await Ol(n,r,e)}catch(r){await Pl(r)}}function g4(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,c)=>{const d=c.view.Z_(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const p=Me(c);p.onlineState=d;let x=!1;p.queries.forEach((T,C)=>{for(const R of C.j_)R.Z_(d)&&(x=!0)}),x&&tm(p)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hx(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let c=new bt(Ie.comparator);c=c.insert(o,dn.newNoDocument(o,Pe.min()));const d=Oe().add(o),p=new Ku(Pe.min(),new Map,new bt(Qe),c,d);await t3(r,p),r.Oa=r.Oa.remove(o),r.Na.delete(e),rm(r)}else await Rd(r.localStore,e,!1).then(()=>Pd(r,e,n)).catch(Pl)}async function dx(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await Ew(n.localStore,e);r3(n,r,null),n3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ol(n,s)}catch(s){await Pl(s)}}async function fx(t,e,n){const r=Me(t);try{const s=await function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let T;return p.mutationQueue.lookupMutationBatch(x,d).next(C=>(rt(C!==null),T=C.keys(),p.mutationQueue.removeMutationBatch(x,C))).next(()=>p.mutationQueue.performConsistencyCheck(x)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(x,T,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,T)).next(()=>p.localDocuments.getDocuments(x,T))})}(r.localStore,e);r3(r,e,n),n3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ol(r,s)}catch(s){await Pl(s)}}function n3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function r3(t,e,n){const r=Me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Pd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||s3(t,r)})}function s3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Gf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rm(t))}function y4(t,e,n){for(const r of n)r instanceof J5?(t.La.addReference(r.key,e),mx(t,r)):r instanceof Z5?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||s3(t,r.key)):Re()}function mx(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.xa.add(r),rm(t))}function rm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new rx(n)),t.Oa=t.Oa.insert(n,r),W5(t.remoteStore,new qs(jr(qu(n.path)),r,"TargetPurposeLimboResolution",Mf.oe))}}async function Ol(t,e,n){const r=Me(t),s=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach((d,p)=>{c.push(r.Ka(p,e,n).then(x=>{var T;if((x||n)&&r.isPrimaryClient){const C=x?!x.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(x){s.push(x);const C=Wf.Wi(p.targetId,x);o.push(C)}}))}),await Promise.all(c),r.Ca.d_(s),await async function(p,x){const T=Me(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>le.forEach(x,R=>le.forEach(R.$i,H=>T.persistence.referenceDelegate.addReference(C,R.targetId,H)).next(()=>le.forEach(R.Ui,H=>T.persistence.referenceDelegate.removeReference(C,R.targetId,H)))))}catch(C){if(!Ml(C))throw C;Se("LocalStore","Failed to update sequence numbers: "+C)}for(const C of x){const R=C.targetId;if(!C.fromCache){const H=T.os.get(R),Y=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(Y);T.os=T.os.insert(R,J)}}}(r.localStore,o))}async function px(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await U5(n.localStore,e);n.currentUser=e,function(o,c){o.ka.forEach(d=>{d.forEach(p=>{p.reject(new ke(ae.CANCELLED,c))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ol(n,r.hs)}}function gx(t,e){const n=Me(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let s=Oe();const o=n.Ma.get(e);if(!o)return s;for(const c of o){const d=n.Fa.get(c);s=s.unionWith(d.view.Va)}return s}}function i3(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hx.bind(null,e),e.Ca.d_=Zw.bind(null,e.eventManager),e.Ca.$a=ex.bind(null,e.eventManager),e}function yx(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Sw(this.persistence,new _w,e.initialUser,this.serializer)}Ga(e){return new vw($f.Zr,this.serializer)}Wa(e){return new Rw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class Md{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=px.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jw}()}createDatastore(e){const n=Qu(e.databaseInfo.databaseId),r=function(o){return new Dw(o)}(e.databaseInfo);return function(o,c,d,p){return new Ow(o,c,d,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new Fw(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>g4(this.syncEngine,n,0),function(){return h4.D()?new h4:new Nw}())}createSyncEngine(e,n){return function(s,o,c,d,p,x,T){const C=new sx(s,o,c,d,p,x);return T&&(C.Qa=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Me(s);Se("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await zl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Md.provider={build:()=>new Md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=c5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Se("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Se("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gh(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await U5(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wx(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d4(e.remoteStore,s)),t._onlineComponents=e}async function wx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await gh(t,new _u)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await gh(t,new _u);return t._offlineComponents}async function o3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await v4(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await v4(t,new Md))),t._onlineComponents}function xx(t){return o3(t).then(e=>e.syncEngine)}async function bu(t){const e=await o3(t),n=e.eventManager;return n.onListen=ix.bind(null,e.syncEngine),n.onUnlisten=lx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ox.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ux.bind(null,e.syncEngine),n}function _x(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,p,x){const T=new sm({next:R=>{T.Za(),c.enqueueAndForget(()=>em(o,C));const H=R.docs.has(d);!H&&R.fromCache?x.reject(new ke(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&p&&p.source==="server"?x.reject(new ke(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(R)},error:R=>x.reject(R)}),C=new nm(qu(d.path),T,{includeMetadataChanges:!0,_a:!0});return Zf(o,C)}(await bu(t),t.asyncQueue,e,n,r)),r.promise}function bx(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,p,x){const T=new sm({next:R=>{T.Za(),c.enqueueAndForget(()=>em(o,C)),R.fromCache&&p.source==="server"?x.reject(new ke(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(R)},error:R=>x.reject(R)}),C=new nm(d,T,{includeMetadataChanges:!0,_a:!0});return Zf(o,C)}(await bu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e,n){if(!n)throw new ke(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sx(t,e,n,r){if(e===!0&&r===!0)throw new ke(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x4(t){if(!Ie.isDocumentKey(t))throw new ke(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _4(t){if(Ie.isDocumentKey(t))throw new ke(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new ke(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B9;switch(r.type){case"firstParty":return new H9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w4.get(n);r&&(Se("ComponentProvider","Removing Datastore"),w4.delete(n),r.terminate())}(this),Promise.resolve()}}function Ex(t,e,n,r={}){var s;const o=(t=Tr(t,Ju))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=cn.MOCK_USER;else{d=_8(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ke(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new cn(x)}t._authCredentials=new j9(new u5(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ll(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class ei extends Ll{constructor(e,n,r){super(e,n,qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ie(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function u3(t,e,...n){if(t=Uo(t),l3("collection","path",e),t instanceof Ju){const r=gt.fromString(e,...n);return _4(r),new ei(t,null,r)}{if(!(t instanceof Mn||t instanceof ei))throw new ke(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return _4(r),new ei(t.firestore,null,r)}}function om(t,e,...n){if(t=Uo(t),arguments.length===1&&(e=c5.newId()),l3("doc","path",e),t instanceof Ju){const r=gt.fromString(e,...n);return x4(r),new Mn(t,null,new Ie(r))}{if(!(t instanceof Mn||t instanceof ei))throw new ke(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return x4(r),new Mn(t.firestore,t instanceof ei?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new H5(this,"async_queue_retry"),this.Vu=()=>{const r=ph();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ms;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ml(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw xs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Yf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function E4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qi extends Ju{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new S4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S4(e),this._firestoreClient=void 0,await e}}}function Tx(t,e){const n=typeof t=="object"?t:R9(),r=typeof t=="string"?t:"(default)",s=k9(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=w8("firestore");o&&Ex(s,...o)}return s}function Zu(t){if(t._terminated)throw new ke(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kx(t),t._firestoreClient}function kx(t){var e,n,r;const s=t._freezeSettings(),o=function(d,p,x,T){return new rv(d,p,x,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,a3(T.experimentalLongPollingOptions),T.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vx(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(rn.fromBase64String(e))}catch(n){throw new ke(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^__.*__$/;class Ix{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}function h3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class cm{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Su(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(h3(this.Cu)&&Ax.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qu(e)}Qu(e,n,r,s=!1){return new cm({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rx(t){const e=t._freezeSettings(),n=Qu(t._databaseId);return new Cx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nx(t,e,n,r,s,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);p3("Data must be an object, but it was:",c,r);const d=f3(r,c);let p,x;if(o.merge)p=new br(c.fieldMask),x=c.fieldTransforms;else if(o.mergeFields){const T=[];for(const C of o.mergeFields){const R=Px(e,C,n);if(!c.contains(R))throw new ke(ae.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Dx(T,R)||T.push(R)}p=new br(T),x=c.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,x=c.fieldTransforms;return new Ix(new ar(d),p,x)}function d3(t,e){if(m3(t=Uo(t)))return p3("Unsupported field value:",e,t),f3(t,e);if(t instanceof c3)return function(r,s){if(!h3(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let p=d3(d,s.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Uo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kv(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:wu(s.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wu(s.serializer,o)}}if(r instanceof lm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qo)return{bytesValue:V5(s.serializer,r._byteString)};if(r instanceof Mn){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof um)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return Ff(d.serializer,p)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${im(r)}`)}(t,e)}function f3(t,e){const n={};return h5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(r,s)=>{const o=d3(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function m3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof lm||t instanceof Qo||t instanceof Mn||t instanceof c3||t instanceof um)}function p3(t,e,n){if(!m3(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=im(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Px(t,e,n){if((e=Uo(e))instanceof am)return e._internalPath;if(typeof e=="string")return g3(t,e);throw Su("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mx=new RegExp("[~\\*/\\[\\]]");function g3(t,e,n){if(e.search(Mx)>=0)throw Su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw Su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Su(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${r}`),c&&(p+=` in document ${s}`),p+=")"),new ke(ae.INVALID_ARGUMENT,d+t+p)}function Dx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vx extends y3{data(){return super.data()}}function v3(t,e){return typeof e=="string"?g3(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ra(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>It(c.doubleValue));return new um(o)}convertGeoPoint(e){return new lm(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=si(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);rt(j5(r));const s=new Sl(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return s.isEqual(n)||xs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x3 extends y3{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class B0 extends x3{data(e={}){return super.data(e)}}class _3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ja(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new B0(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const p=new B0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ja(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const p=new B0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ja(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let x=-1,T=-1;return d.type!==0&&(x=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),T=c.indexOf(d.doc.key)),{type:Lx(d.type),doc:p,oldIndex:x,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){t=Tr(t,Mn);const e=Tr(t.firestore,qi);return _x(Zu(e),t._key).then(n=>E3(e,t,n))}class hm extends zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function dm(t){t=Tr(t,Ll);const e=Tr(t.firestore,qi),n=Zu(e),r=new hm(e);return w3(t._query),bx(n,t._query).then(s=>new _3(e,r,t,s))}function b3(t,e,n){t=Tr(t,Mn);const r=Tr(t.firestore,qi),s=Ox(t.converter,e,n);return S3(r,[Nx(Rx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ur.none())])}function fm(t){return S3(Tr(t.firestore,qi),[new Bf(t._key,Ur.none())])}function Bx(t,...e){var n,r,s;t=Uo(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||E4(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(E4(e[c])){const C=e[c];e[c]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[c+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[c+2]=(s=C.complete)===null||s===void 0?void 0:s.bind(C)}let p,x,T;if(t instanceof Mn)x=Tr(t.firestore,qi),T=qu(t._key.path),p={next:C=>{e[c]&&e[c](E3(x,t,C))},error:e[c+1],complete:e[c+2]};else{const C=Tr(t,Ll);x=Tr(C.firestore,qi),T=C._query;const R=new hm(x);p={next:H=>{e[c]&&e[c](new _3(x,R,C,H))},error:e[c+1],complete:e[c+2]},w3(t._query)}return function(R,H,Y,J){const G=new sm(J),F=new nm(H,G,Y);return R.asyncQueue.enqueueAndForget(async()=>Zf(await bu(R),F)),()=>{G.Za(),R.asyncQueue.enqueueAndForget(async()=>em(await bu(R),F))}}(Zu(x),T,d,p)}function S3(t,e){return function(r,s){const o=new ms;return r.asyncQueue.enqueueAndForget(async()=>cx(await xx(r),s,o)),o.promise}(Zu(t),e)}function E3(t,e,n){const r=n.docs.get(e._key),s=new hm(t);return new x3(t,s,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){na=s})(C9),fu(new wl("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new qi(new U9(r.getProvider("auth-internal")),new W9(r.getProvider("app-check-internal")),function(x,T){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new ke(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(x.options.projectId,T)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Mo(Up,"4.7.3",e),Mo(Up,"4.7.3","esm2017")})();var jx="firebase",Ux="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(jx,Ux,"app");const qx=null,Hx=(()=>{var n;if(typeof globalThis>"u")return null;const t=(n=globalThis.__FIREBASE_DEFAULTS__)==null?void 0:n.config;if(t!=null&&t.projectId)return t;const e=globalThis.__FIREBASE_CONFIG__;return e!=null&&e.projectId?e:null})(),T4=qx??Hx??null;let k4,Xo=null;T4&&(k4=e5(T4),Xo=Tx(k4));const kr=!!Xo,$x="omniExamStudio.db",Wx=1,T3="omniExamStudio.persist";let Ni=null,zs=null;const ec={users:{},exams:{}},Gx=()=>typeof indexedDB<"u"&&typeof indexedDB.open=="function",Kx=()=>{if(typeof window>"u"||!window.localStorage)return!1;try{const t=`${T3}:test`;return window.localStorage.setItem(t,"1"),window.localStorage.removeItem(t),!0}catch{return!1}},k3=()=>new Promise((t,e)=>{const n=indexedDB.open($x,Wx);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("users")||r.createObjectStore("users"),r.objectStoreNames.contains("exams")||r.createObjectStore("exams")},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error??new Error("IndexedDB error"))}),tc=async()=>{if(zs)return zs;if(Gx())try{return Ni||(Ni=k3()),await Ni,zs="indexedDB",zs}catch{Ni=null}return Kx()?(zs="localStorage",zs):(zs="memory",zs)},mm=t=>new Promise((e,n)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>n(t.error??new Error("IndexedDB request error"))}),nc=async(t,e,n)=>{Ni||(Ni=k3());const r=await Ni;return new Promise((s,o)=>{const c=r.transaction(t,e);c.oncomplete=()=>{},c.onerror=()=>{o(c.error??new Error("IndexedDB transaction failed"))};const d=c.objectStore(t);n(d).then(p=>s(p)).catch(p=>o(p))})},A3=t=>`${T3}:${t}`,rc=t=>{try{const e=window.localStorage.getItem(A3(t));return e?JSON.parse(e):{}}catch{return{}}},I3=(t,e)=>{try{window.localStorage.setItem(A3(t),JSON.stringify(e))}catch{}},C3=async()=>{if(typeof navigator>"u"||!navigator.storage||!navigator.storage.persist)return!1;try{return await navigator.storage.persisted()?!0:navigator.storage.persist()}catch{return!1}},R3=async(t,e)=>{const n=await tc();return n==="indexedDB"?nc(t,"readonly",async r=>{const s=r.get(e);return await mm(s)??void 0}):n==="localStorage"?rc(t)[e]:ec[t][e]},N3=async(t,e,n)=>{const r=await tc();if(r==="indexedDB"){await nc(t,"readwrite",async s=>{const o=s.put(n,e);await mm(o)});return}if(r==="localStorage"){const s=rc(t);s[e]=n,I3(t,s);return}ec[t][e]=n},P3=async(t,e)=>{const n=await tc();if(n==="indexedDB"){await nc(t,"readwrite",async r=>{const s=r.delete(e);await mm(s)});return}if(n==="localStorage"){const r=rc(t);delete r[e],I3(t,r);return}delete ec[t][e]},Qx=async t=>{const e=await tc();if(e==="indexedDB")return nc(t,"readonly",async n=>{const r=[],s=n.openCursor();return await new Promise((o,c)=>{s.onsuccess=()=>{const d=s.result;d?(r.push({key:String(d.key),value:d.value}),d.continue()):o()},s.onerror=()=>c(s.error??new Error("IndexedDB cursor error"))}),r});if(e==="localStorage"){const n=rc(t);return Object.entries(n).map(([r,s])=>({key:r,value:s}))}return Object.entries(ec[t]).map(([n,r])=>({key:n,value:r}))},Xx="users",Yx="exams",Fl=t=>!Xo||!t?null:u3(Xo,Xx,t,Yx),sc=async t=>{const e=await R3("exams",t);return e?e.map(n=>({...n,ownerId:t})):[]},pm=async(t,e)=>{await N3("exams",t,e.map(n=>({...n,ownerId:t})))},Jx=(t,e,n)=>{const r=Fl(t);return!r||!kr?((async()=>{const s=await sc(t);e(s,{fromCache:!1})})(),()=>{}):Bx(r,s=>{const o=s.docs.map(c=>({...c.data(),id:c.id,ownerId:t}));e(o,{fromCache:s.metadata.fromCache})},s=>{n&&n(s)})},A4=async(t,e)=>{const n=Fl(t);if(n&&kr){await b3(om(n,e.id),{...e,ownerId:t},{merge:!0});return}const r=await sc(t),s=(()=>{const o=r.findIndex(c=>c.id===e.id);if(o>=0){const c=[...r];return c[o]={...e,ownerId:t},c}return[...r,{...e,ownerId:t}]})();await pm(t,s)},I4=async(t,e)=>{const n=Fl(t);if(n&&kr){await fm(om(n,e));return}const s=(await sc(t)).filter(o=>o.id!==e);await pm(t,s)},C4=async t=>{const e=Fl(t);return!e||!kr?sc(t):(await dm(e)).docs.map(r=>({...r.data(),id:r.id,ownerId:t}))},R4=async t=>{const e=Fl(t);if(e&&kr){const n=await dm(e);await Promise.all(n.docs.map(r=>fm(r.ref)));return}await P3("exams",t)},yh=async(t,e)=>{await pm(t,e)},Zx="users",tl="admin",e_="chingon",t_="Administrator",S0="admin",Bl=t=>t.trim().toLowerCase(),gm=()=>Date.now(),N4=(()=>{try{return new TextEncoder}catch{return null}})(),ym=async t=>{var n;const e=(n=globalThis==null?void 0:globalThis.crypto)==null?void 0:n.subtle;if(e&&N4){const r=N4.encode(t),s=await e.digest("SHA-256",r);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}return typeof btoa=="function"?btoa(t):t},M3=()=>Xo?u3(Xo,Zx):null,vm=t=>{const e=M3();return!e||!kr?null:om(e,t)},n_=async()=>{const t=M3();if(!t||!kr)return{};const e=await dm(t),n={};return e.forEach(r=>{const s=r.data();n[r.id]={...s,id:r.id,login:r.id}}),n},r_=async()=>(await Qx("users")).reduce((e,n)=>(e[n.key]=n.value,e),{}),wm=async t=>{const e=Bl(t),n=vm(e);if(n){const s=await Fx(n);return s.exists()?{...s.data(),id:e,login:e}:null}const r=await R3("users",e);return r?{...r,id:e,login:e}:null},Eu=async t=>{const e=vm(t.login);if(e){await b3(e,t,{merge:!0});return}await N3("users",t.login,t)},Yo=t=>({id:t.id,login:t.login,displayName:t.displayName,createdAt:t.createdAt,lastLoginAt:t.lastLoginAt,role:t.role}),s_=t=>{if(Bl(t)===tl)throw new ds("The admin account is managed internally.")};class ds extends Error{constructor(e,n){super(e),this.cause=n,this.name="UserAuthError"}}const i_=async({login:t,password:e,displayName:n})=>{const r=Bl(t);if(!r)throw new ds("Login is required.");if(r===tl)throw new ds("That login is reserved.");const s=n.trim();if(!s)throw new ds("Display name is required.");const o=await ym(e);if(await wm(r))throw new ds("That login is already in use.");const d=gm(),p={id:r,login:r,displayName:s,passwordHash:o,createdAt:d,lastLoginAt:d,role:"user"};return await Eu(p),Yo(p)},o_=async(t,e)=>{const n=Bl(t);if(!n)throw new ds("Enter your login to continue.");const r=await wm(n);if(!r)throw new ds("We could not find that login.");if(await ym(e)!==r.passwordHash)throw new ds("Incorrect password.");const o={...r,lastLoginAt:gm()};return await Eu(o),Yo(o)},a_=async()=>{if(kr){const e=await n_();return Object.values(e).map(n=>Yo(n)).sort((n,r)=>n.createdAt-r.createdAt)}const t=await r_();return Object.values(t).map(e=>Yo(e)).sort((e,n)=>e.createdAt-n.createdAt)},l_=async t=>{const e=Bl(t);s_(e);const n=vm(e);if(n){await fm(n);return}await P3("users",e)},u_=async()=>{await C3();const t=await wm(tl);if(t)return t.role!==S0&&await Eu({...t,role:S0}),Yo({...t,role:S0});const e=await ym(e_),n=gm(),r={id:tl,login:tl,displayName:t_,role:S0,createdAt:n,lastLoginAt:n,passwordHash:e};return await Eu(r),Yo(r)},vh="omniExamStudio.session",P4=t=>{const e=[...t];for(let n=e.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},c_=(t,e)=>(e.shuffleQuestions?P4(t.questions):t.questions.slice()).map(r=>{if(!e.shuffleAnswers)return{entry:r.entry,options:r.options.map(d=>({...d})),correctIndex:r.correctIndex};const s=r.options.map((d,p)=>({...d,originalIndex:p})),o=P4(s).map((d,p)=>({label:String.fromCharCode(97+p),text:d.text,originalIndex:d.originalIndex})),c=o.findIndex(d=>d.originalIndex===r.correctIndex);return{entry:r.entry,options:o.map(({originalIndex:d,...p})=>p),correctIndex:c>=0?c:r.correctIndex}}),wh=({size:t="md",withText:e=!1,className:n=""})=>{const r=t==="lg"?"h-28 w-28 text-4xl":"h-14 w-14 text-xl",s=t==="lg"?"text-4xl sm:text-5xl":"text-2xl sm:text-3xl";return L.jsxs("div",{className:`flex items-center gap-4 ${n}`,children:[L.jsxs("div",{"aria-hidden":!0,className:`relative flex ${r} items-center justify-center overflow-hidden rounded-[32px] bg-gradient-to-br from-rose-500 via-rose-400 to-amber-200 shadow-xl ring-4 ring-white/40`,children:[L.jsx("img",{src:"/assets/omni-logo.png",alt:"",className:"pointer-events-none absolute inset-3 h-auto w-auto object-contain opacity-90"}),L.jsx("span",{className:"relative z-10 font-display font-semibold tracking-tight text-white",children:"OE"})]}),e&&L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.45em] text-rose-300",children:"Omni Exam Studio"}),L.jsx("span",{className:`font-display font-semibold text-cocoa-600 ${s}`,children:"Omni Exam Studio"})]})]})},h_=()=>{const t=n8(),[e,n]=be.useState(null),[r,s]=be.useState(!0),[o,c]=be.useState("login"),[d,p]=be.useState({login:"",password:"",displayName:""}),[x,T]=be.useState(null),[C,R]=be.useState(!1),[H,Y]=be.useState([]),[J,G]=be.useState(""),[F,P]=be.useState(0),[j,te]=be.useState([]),[de,ue]=be.useState(!1),[O,k]=be.useState(null),[D,M]=be.useState(!1),[q,$]=be.useState(!1),[z,Rt]=be.useState(!1),[Be,Dn]=be.useState(null),[mn,ve]=be.useState(!1),[Ce,ce]=be.useState(!1),[qe,De]=be.useState(!1),et=be.useRef(null),pn=be.useRef(null),Nt=be.useRef({}),sn=be.useRef({}),[Vn,ui]=be.useState(!1),[Wr,Gr]=be.useState([]),[Ss,Es]=be.useState(!1),[ci,Kr]=be.useState(null),[Qn,Ir]=be.useState(null),[En,zn]=be.useState([]),[hi,Ts]=be.useState(!1),[ks,dr]=be.useState(null);be.useEffect(()=>{C3(),u_().catch(ne=>{console.error("Failed to ensure admin account.",ne)})},[]),be.useEffect(()=>{if(typeof window>"u"){s(!1);return}try{const ne=window.localStorage.getItem(vh);if(ne){const ge=JSON.parse(ne);ge!=null&&ge.id&&n(ge)}}catch{}finally{s(!1)}},[]),be.useEffect(()=>{if(!(typeof window>"u")){if(!e){window.localStorage.removeItem(vh);return}window.localStorage.setItem(vh,JSON.stringify(e))}},[e]),be.useEffect(()=>{if(!e){Y([]),G(""),Dn(null),Rt(!1),De(!1),te([]),P(0),$(!1),ue(!1);return}Y([]),G(""),Dn(null),Rt(!1),De(!1),te([]),P(0),$(!1),ue(!1)},[e]),be.useEffect(()=>{if(!e||kr)return;sn.current[e.id]=!1;let ne=!1;return(async()=>{try{const ie=await C4(e.id),we=ie.length>0?ie.map(He=>({...He,ownerId:e.id})):Cp.map(He=>({...He,ownerId:e.id}));ie.length||await yh(e.id,we),ne||(Y(we),sn.current[e.id]=!0)}catch(ie){if(console.error("Failed to load exams from local storage.",ie),ne)return;const we=Cp.map(He=>({...He,ownerId:e.id}));Y(we),sn.current[e.id]=!0,await yh(e.id,we)}})(),()=>{ne=!0}},[e]),be.useEffect(()=>{!e||kr||sn.current[e.id]&&yh(e.id,H)},[e,H]),be.useEffect(()=>{if(!e||!kr)return;const ne=Jx(e.id,async(ge,{fromCache:ie})=>{if(ge.length===0){if(!ie&&!Nt.current[e.id])try{const we={...Wg,ownerId:e.id};await A4(e.id,we),Nt.current[e.id]=!0,Y([we]);return}catch(we){console.error("Failed to seed default exam in Firestore.",we)}Y([]);return}Nt.current[e.id]=!0,Y(ge)},ge=>{console.error("Failed to sync exams from Firestore.",ge),k({text:"Could not sync exams with cloud storage. Showing local copy.",type:"error"})});return()=>{ne()}},[e]),be.useEffect(()=>{ue(!t&&z),M(!1)},[t,z]),be.useEffect(()=>{if(!D)return;const ne=ie=>{var we;(we=pn.current)!=null&&we.contains(ie.target)||M(!1)},ge=ie=>{ie.key==="Escape"&&M(!1)};return document.addEventListener("mousedown",ne),document.addEventListener("keydown",ge),()=>{document.removeEventListener("mousedown",ne),document.removeEventListener("keydown",ge)}},[D]);const Qr=ne=>ge=>{const{value:ie}=ge.target;p(we=>({...we,[ne]:ie}))},As=()=>{p({login:"",password:"",displayName:""}),T(null)},di=async ne=>{if(ne.preventDefault(),!C){R(!0),T(null);try{let ge;o==="login"?ge=await o_(d.login,d.password):ge=await i_({login:d.login,password:d.password,displayName:d.displayName||d.login}),n(ge),As(),k({text:o==="login"?`Welcome back, ${ge.displayName}!`:`Account created. Hello, ${ge.displayName}!`,type:"success"})}catch(ge){ge instanceof ds?T(ge.message):T("Something went wrong. Please try again in a moment.")}finally{R(!1)}}},kt=()=>{n(null),As(),c("login"),M(!1),ui(!1),Ir(null),zn([]),Gr([]),Kr(null),dr(null),k({text:"Signed out safely.",type:"info"})},st=()=>{c(ne=>ne==="login"?"register":"login"),T(null),p(ne=>({...ne,password:"",displayName:ne.displayName}))},Xn=be.useCallback(async()=>{Es(!0),Kr(null);try{const ne=await a_();Gr(ne)}catch(ne){console.error("Failed to load users list.",ne),Kr("Unable to load users right now.")}finally{Es(!1)}},[]),On=be.useCallback(async ne=>{Ts(!0),dr(null);try{const ge=await C4(ne);zn(ge.map(ie=>({...ie,ownerId:ne})))}catch(ge){console.error("Failed to load exams for user.",ge),zn([]),dr("Unable to load exams for that user.")}finally{Ts(!1)}},[]),Ki=be.useCallback(()=>{ui(!0),Ir(null),zn([]),dr(null),Xn()},[Xn]),Qi=be.useCallback(()=>{ui(!1),Ir(null),zn([]),dr(null)},[]),Xe=be.useCallback(ne=>{Ir(ne),On(ne)},[On]),fe=be.useCallback(async(ne,ge)=>{try{await I4(ne,ge),await On(ne),(e==null?void 0:e.id)===ne&&Y(ie=>ie.filter(we=>we.id!==ge)),k({text:"Removed exam successfully.",type:"info"})}catch(ie){console.error("Failed to delete exam for user.",ie),k({text:"Could not delete that exam right now.",type:"error"})}},[On,k,e]),Ln=be.useCallback(async ne=>{let ge=!0;if(typeof window<"u"&&(ge=window.confirm("Delete all exams for this user?")),!!ge)try{await R4(ne),await On(ne),(e==null?void 0:e.id)===ne&&(Y([]),G(""),Dn(null),Rt(!1),De(!1),te([]),P(0)),k({text:"Cleared all exams for that user.",type:"info"})}catch(ie){console.error("Failed to delete all exams for user.",ie),k({text:"Could not clear exams for that user.",type:"error"})}},[On,e]),Is=be.useCallback(async ne=>{const ge=Wr.find(we=>we.id===ne);if(!ge)return;if(ge.role==="admin"){k({text:"Admin accounts cannot be deleted.",type:"error"});return}let ie=!0;if(typeof window<"u"&&(ie=window.confirm(`Delete user "${ge.displayName}" and all of their exams?`)),!!ie)try{await l_(ne),await R4(ne),k({text:`Deleted "${ge.displayName}" and their exams.`,type:"info"}),Qn===ne&&(Ir(null),zn([])),await Xn()}catch(we){console.error("Failed to delete user.",we),k({text:"Could not delete that user.",type:"error"})}},[Qn,Wr,Xn]),gn=be.useMemo(()=>{if(J)return H.find(ne=>ne.id===J)},[H,J]),oa=be.useMemo(()=>Qn?Wr.find(ne=>ne.id===Qn)??null:null,[Wr,Qn]);be.useEffect(()=>{if(!Be||!z){te([]),P(0),De(!1);return}te(Array(Be.questions.length).fill(null)),P(0),De(!1)},[Be==null?void 0:Be.id,z]);const Fn=(Be==null?void 0:Be.questions.length)??0,Dt=z&&Fn>0?Be==null?void 0:Be.questions[F]:void 0,Xr=!!(z&&Be&&Fn>0&&Dt),Cr=be.useMemo(()=>j.reduce((ne,ge)=>ge!=null&&ge.isCorrect?ne+1:ne,0),[j]),fi=!!j[F],qt=F>0,Vt=F<Fn-1,Bn=!!(j[F]&&Xr&&!qe),Yn=be.useCallback(ne=>{const ge=H.find(we=>we.id===ne);if(!ge)return;G(ne),De(!1),Rt(!0),$(!1),M(!1);const ie=c_(ge,{shuffleQuestions:mn,shuffleAnswers:Ce});Dn({id:ge.id,title:ge.title,questions:ie})},[H,Ce,mn]),Rr=()=>{Rt(!1),G(""),Dn(null),ue(!1),P(0),te([]),$(!1),M(!1),De(!1)},Yr=ne=>{!z||!Dt||qe||te(ge=>{const ie=[...ge];return ie[F]={optionIndex:ne,isCorrect:ne===Dt.correctIndex},ie})},Xi=()=>{qe||P(ne=>Math.max(0,ne-1))},zt=()=>{qe||P(ne=>Math.min(Fn-1,ne+1))},Jr=()=>{Be&&(De(!0),ue(!1))},Ye=()=>{const ne=(Be==null?void 0:Be.id)??J;if(!ne)return;if(!H.some(ie=>ie.id===ne)){k({text:"That exam is no longer available.",type:"info"});return}Yn(ne)},m=ne=>{Yn(ne)},v=async ne=>{const ge=H.find(we=>we.id===ne);if(!ge)return;let ie=!0;if(typeof window<"u"&&(ie=window.confirm(`Delete "${ge.title}" from your stored exams?`)),!!ie&&(Y(we=>we.filter(He=>He.id!==ne)),(ne===J||(Be==null?void 0:Be.id)===ne)&&Rr(),k({text:`Deleted "${ge.title}".`,type:"info"}),e))try{await I4(e.id,ne)}catch(we){console.error("Failed to delete exam from storage.",we),k({text:"Deleted locally but could not remove from storage yet.",type:"error"})}},re=()=>{var ne;(ne=et.current)==null||ne.click()},b=async ne=>{var ie;const ge=(ie=ne.target.files)==null?void 0:ie[0];if(ge){if(!e){k({text:"Please sign in before importing exams.",type:"error"});return}try{const we=await ge.text(),He=l8(we);if(!He.success)k({text:He.message,type:"error"});else{const Nr=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`exam-${Date.now()}`,V={id:Nr,title:He.data.title,questions:He.data.questions,ownerId:e.id};Y(Kt=>[...Kt,V]),G(Nr);try{await A4(e.id,V),k({text:`Imported "${He.data.title}" successfully.`,type:"success"})}catch(Kt){console.error("Failed to persist exam to storage.",Kt),k({text:`Imported "${He.data.title}" locally. Sync will retry soon.`,type:"info"})}}}catch{k({text:"Could not read that file. Please try another plain-text export.",type:"error"})}finally{ne.target.value=""}}},N=()=>{if(!gn){k({text:"Select an exam before exporting.",type:"info"});return}if(!gn.questions.length){k({text:"No questions to export yet.",type:"info"});return}const ne=u8(gn),ge=new Blob([ne],{type:"text/plain"}),ie=URL.createObjectURL(ge),we=document.createElement("a"),He=gn.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");we.href=ie,we.download=`${He||"exam"}.txt`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(ie),k({text:`Exported "${gn.title}" as a text file.`,type:"success"})},it=`Title: My Custom Exam

Question 1: puella, puellae, f.
a. girl
b. boy
c. child
d. pull
Answer: a`,pe=ne=>{k({text:`${ne} is coming soon.`,type:"info"})};return r?L.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-cream-50 px-6 text-cocoa-500",children:[L.jsx(wh,{size:"lg",withText:!0}),L.jsx("p",{className:"text-sm font-medium text-cocoa-400",children:"Restoring your Omni Exam Studio workspace"})]}):e?L.jsx("div",{className:"min-h-screen bg-cream-50 px-4 py-6 sm:px-8 sm:py-10",children:L.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6",children:[L.jsxs("header",{className:"flex flex-col gap-4 rounded-[32px] bg-white/70 px-6 py-6 shadow-card backdrop-blur-sm sm:flex-row sm:items-center sm:justify-between",children:[L.jsx(wh,{withText:!0,className:"justify-center sm:justify-start"}),L.jsxs("div",{className:"flex flex-col items-center gap-3 sm:flex-row sm:items-center sm:gap-4",children:[L.jsxs("div",{className:"text-center sm:text-right",children:[L.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-rose-300",children:"Signed in as"}),L.jsx("p",{className:"text-base font-semibold text-cocoa-600",children:e.displayName}),L.jsx("p",{className:"text-xs font-medium text-cocoa-400",children:e.login})]}),e.role==="admin"&&L.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-500 transition hover:bg-rose-100",onClick:Ki,children:"Manage workspace"}),L.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:kt,children:"Sign out"}),L.jsxs("div",{ref:pn,className:"relative",children:[L.jsxs("button",{type:"button",className:"flex h-11 w-11 items-center justify-center rounded-full border border-cream-100 bg-white text-cocoa-500 shadow-sm transition hover:border-rose-200 hover:text-rose-400","aria-haspopup":"menu","aria-expanded":D,onClick:()=>M(ne=>!ne),children:[L.jsx("span",{className:"sr-only",children:D?"Close workspace actions":"Open workspace actions"}),L.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-current",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})]}),D&&L.jsxs("div",{role:"menu",className:"absolute right-0 z-20 mt-3 w-60 rounded-2xl border border-cream-100 bg-white p-2 shadow-xl",children:[L.jsx("button",{type:"button",role:"menuitem",disabled:!z,className:`w-full rounded-xl px-3 py-2 text-left text-sm font-semibold transition ${z?"text-cocoa-500 hover:bg-cream-50":"cursor-not-allowed text-cocoa-300"}`,onClick:()=>{z&&(M(!1),Rr())},children:"Go to exam hub"}),L.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{M(!1),pe("Question sharing")},children:"Share current question"}),L.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{M(!1),pe("Bulk edit")},children:"Bulk edit exams"}),L.jsx("div",{className:"my-1 h-px bg-cream-100"}),L.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{M(!1),N()},children:"Export exam (.txt)"}),L.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{M(!1),re()},children:"Import exam (.txt)"}),L.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{M(!1),$(ne=>!ne)},children:q?"Hide help guide":"Show help guide"})]})]})]})]}),L.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[L.jsxs("main",{className:"flex-1",children:[L.jsx("input",{ref:et,type:"file",accept:".txt,text/plain",className:"hidden",onChange:b}),z?L.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-8 shadow-card sm:px-10 sm:py-12",children:[L.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[L.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:Rr,children:"Back to exam hub"}),L.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>ue(ne=>!ne),children:de?"Hide exam list":"Show exam list"})]}),Xr?qe&&Be?L.jsx(Xy,{title:Be.title,score:Cr,total:Fn,onRetake:Ye,onExit:Rr}):L.jsxs(L.Fragment,{children:[L.jsx(Ly,{title:(Be==null?void 0:Be.title)??(gn==null?void 0:gn.title)??"Exam",score:Cr,total:Fn,questionIndex:F}),L.jsx("section",{className:"mt-8",children:L.jsx(Cf,{text:(Dt==null?void 0:Dt.entry)??"",displayMode:"block",className:`${t?"text-xl":"text-2xl"} font-semibold text-cocoa-500`})}),L.jsx("div",{className:"mt-6 space-y-4",children:Dt.options.map((ne,ge)=>{var ie;return L.jsx(Wy,{option:ne,isSelected:((ie=j[F])==null?void 0:ie.optionIndex)===ge,isCorrectChoice:ge===Dt.correctIndex,showStatus:Bn,onSelect:()=>Yr(ge)},`${Dt.entry}-${ne.label}`)})}),L.jsx(Gy,{selection:j[F],question:Dt}),L.jsx(Ky,{hasPrev:qt,hasNext:Vt,canProceed:fi,onPrev:Xi,onNext:zt,onFinish:Jr})]}):L.jsxs("div",{className:"rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[L.jsx("p",{className:"text-lg font-semibold",children:"No questions are loaded yet."}),L.jsx("p",{className:"mt-2 text-sm",children:"Import a .txt file that follows the provided template to start practicing."})]})]}):L.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-10 shadow-card sm:px-10 sm:py-16",children:[L.jsxs("header",{className:"max-w-3xl",children:[L.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-rose-400",children:"Omni Exam Studio"}),L.jsx("h1",{className:"mt-3 font-display text-4xl font-semibold text-cocoa-600",children:"Choose an exam to begin practicing"}),L.jsx("p",{className:"mt-4 text-base text-cocoa-400",children:"Tap one of the stored exams below or import a new list of questions."})]}),L.jsx("div",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:H.map(ne=>{const ie=ne.id===J?"border-rose-400 bg-blush-200/60 shadow-xl":"border-transparent bg-cream-50/70 shadow-card hover:-translate-y-1 hover:shadow-2xl";return L.jsxs("div",{className:"group relative",children:[L.jsxs("button",{type:"button",className:`flex w-full flex-col overflow-hidden rounded-[36px] border px-8 py-10 text-left transition-transform duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${ie}`,onClick:()=>Yn(ne.id),children:[L.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-rose-400",children:"Exam"}),L.jsx("h2",{className:"mt-4 font-display text-2xl font-semibold text-cocoa-600",children:ne.title}),L.jsxs("p",{className:"mt-6 text-sm font-medium text-cocoa-400",children:[ne.questions.length," ",ne.questions.length===1?"question":"questions"]})]}),L.jsx("button",{type:"button","aria-label":`Delete ${ne.title}`,className:"absolute right-6 top-6 rounded-full border border-transparent bg-white/80 px-4 py-2 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:we=>{we.stopPropagation(),v(ne.id)},children:"Delete"})]},ne.id)})}),H.length===0&&L.jsxs("div",{className:"mt-8 rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[L.jsx("p",{className:"text-lg font-semibold",children:"No exams stored yet."}),L.jsx("p",{className:"mt-2 text-sm",children:"Import a plain-text exam file to get started."})]}),L.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[L.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-5 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:re,children:"Import exam (.txt)"}),L.jsx("button",{type:"button",className:`rounded-2xl border px-5 py-3 text-sm font-semibold transition ${gn?"border-rose-200 text-rose-500 hover:bg-blush-200/40":"cursor-not-allowed border-cream-100 text-cocoa-300"}`,onClick:N,disabled:!gn,children:"Export current exam (.txt)"})]}),L.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm",children:[L.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[L.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:mn,onChange:ne=>ve(ne.target.checked)}),"Shuffle questions"]}),L.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[L.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:Ce,onChange:ne=>ce(ne.target.checked)}),"Shuffle answers"]}),L.jsx("span",{className:"text-xs font-medium text-cocoa-400",children:"Shuffle changes apply next session; math renders automatically when detected."})]})]}),q&&L.jsxs("section",{className:"mt-10 rounded-3xl border border-cream-100 bg-cream-50/60 px-6 py-6 sm:px-10",children:[L.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"font-display text-xl font-semibold text-rose-500",children:"Import or Export"}),L.jsx("p",{className:"text-sm text-cocoa-400",children:"Use a plain-text file to add new exams or share the current one."})]}),L.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[L.jsxs("div",{className:"flex flex-wrap gap-3 sm:justify-end",children:[L.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 px-4 py-2 text-sm font-semibold text-rose-500 transition hover:bg-blush-200/40",onClick:N,children:"Export exam (.txt)"}),L.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:re,children:"Import exam (.txt)"})]}),L.jsx("button",{type:"button",className:"self-end rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-400 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>$(!1),children:"Hide guide"})]})]}),L.jsxs("div",{className:"mt-4 rounded-2xl bg-white/80 p-4 text-sm text-cocoa-400",children:[L.jsx("p",{className:"font-semibold text-cocoa-500",children:"Template (repeat the Question block up to 1000 times):"}),L.jsx("pre",{className:"mt-3 overflow-x-auto rounded-2xl bg-cream-50 p-4 font-mono text-xs leading-6 text-cocoa-500",children:it})]})]}),O&&L.jsx("div",{className:"mt-6",children:L.jsx(Zy,{text:O.text,type:O.type,onDismiss:()=>k(null)})})]}),z&&L.jsx(Qy,{exams:H,activeExamId:J,isOpen:de,onSelect:m,onToggle:()=>ue(ne=>!ne),onDelete:v}),(e==null?void 0:e.role)==="admin"&&L.jsx(e8,{isOpen:Vn,onClose:Qi,users:Wr,isLoadingUsers:Ss,usersError:ci,onRefreshUsers:Xn,onSelectUser:Xe,selectedUser:oa,selectedUserExams:En,isLoadingExams:hi,examsError:ks,onDeleteExam:fe,onDeleteAllExams:Ln,onDeleteUser:Is,currentUserId:e.id})]})]})}):L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 via-white to-rose-50 px-6 py-12 sm:px-10",children:L.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-12 lg:flex-row lg:items-center",children:[L.jsxs("div",{className:"flex flex-1 flex-col items-center rounded-[40px] bg-white/70 p-10 text-center shadow-2xl backdrop-blur-sm lg:items-start lg:text-left",children:[L.jsx(wh,{size:"lg",withText:!0,className:"mb-8"}),L.jsx("p",{className:"max-w-md text-lg text-cocoa-500",children:"Build, review, and deliver personalized exams for every teammate."}),L.jsxs("ul",{className:"mt-10 space-y-4 text-left text-sm text-cocoa-400",children:[L.jsxs("li",{className:"flex items-start gap-3",children:[L.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"1"}),L.jsx("span",{children:"Save unique exam sets for each login."})]}),L.jsxs("li",{className:"flex items-start gap-3",children:[L.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"2"}),L.jsx("span",{children:"Import plain-text question banks in one click."})]}),L.jsxs("li",{className:"flex items-start gap-3",children:[L.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"3"}),L.jsx("span",{children:"Track progress while Omni Exam Studio handles the scoring."})]})]})]}),L.jsxs("div",{className:"w-full max-w-md rounded-[36px] border border-cream-100 bg-white px-8 py-10 shadow-2xl sm:px-10",children:[L.jsxs("form",{className:"flex flex-col gap-5",onSubmit:di,children:[L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-login",children:"Login"}),L.jsx("input",{id:"auth-login",type:"text",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.login,onChange:Qr("login"),autoComplete:"username",required:!0})]}),o==="register"&&L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-display-name",children:"Display name"}),L.jsx("input",{id:"auth-display-name",type:"text",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.displayName,onChange:Qr("displayName"),autoComplete:"name",required:o==="register"})]}),L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-password",children:"Password"}),L.jsx("input",{id:"auth-password",type:"password",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.password,onChange:Qr("password"),autoComplete:o==="login"?"current-password":"new-password",required:!0})]}),x?L.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:x}):null,L.jsx("button",{type:"submit",className:"rounded-2xl bg-rose-400 px-5 py-3 text-sm font-semibold text-white transition hover:bg-rose-500 disabled:cursor-not-allowed disabled:opacity-50",disabled:C,children:C?"Just a moment...":o==="login"?"Sign in to Omni":"Create account"})]}),L.jsx("p",{className:"mt-6 text-center text-sm text-cocoa-400",children:o==="login"?L.jsxs(L.Fragment,{children:["Need an account?"," ",L.jsx("button",{type:"button",className:"font-semibold text-rose-500 transition hover:text-rose-600",onClick:st,children:"Create one"})]}):L.jsxs(L.Fragment,{children:["Already registered?"," ",L.jsx("button",{type:"button",className:"font-semibold text-rose-500 transition hover:text-rose-600",onClick:st,children:"Sign in instead"})]})}),L.jsx("p",{className:"mt-4 text-center text-xs text-cocoa-300",children:"Credentials are stored securely in our internal datastore."})]})]})})};xh.createRoot(document.getElementById("root")).render(L.jsx(k6.StrictMode,{children:L.jsx(h_,{})}));
