var $4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W4={exports:{}},Vu={},G4={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),T6=Symbol.for("react.portal"),k6=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),I6=Symbol.for("react.profiler"),C6=Symbol.for("react.provider"),N6=Symbol.for("react.context"),R6=Symbol.for("react.forward_ref"),P6=Symbol.for("react.suspense"),M6=Symbol.for("react.memo"),D6=Symbol.for("react.lazy"),T1=Symbol.iterator;function V6(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var Q4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K4=Object.assign,X4={};function aa(t,e,n){this.props=t,this.context=e,this.refs=X4,this.updater=n||Q4}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y4(){}Y4.prototype=aa.prototype;function Hd(t,e,n){this.props=t,this.context=e,this.refs=X4,this.updater=n||Q4}var $d=Hd.prototype=new Y4;$d.constructor=Hd;K4($d,aa.prototype);$d.isPureReactComponent=!0;var k1=Array.isArray,J4=Object.prototype.hasOwnProperty,Wd={current:null},Z4={key:!0,ref:!0,__self:!0,__source:!0};function e2(t,e,n){var r,s={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)J4.call(e,r)&&!Z4.hasOwnProperty(r)&&(s[r]=e[r]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var p=Array(d),x=0;x<d;x++)p[x]=arguments[x+2];s.children=p}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)s[r]===void 0&&(s[r]=d[r]);return{$$typeof:Dl,type:t,key:o,ref:c,props:s,_owner:Wd.current}}function z6(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function L6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A1=/\/+/g;function Bc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L6(""+t.key):e.toString(36)}function R0(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case Dl:case T6:c=!0}}if(c)return c=t,s=s(c),t=r===""?"."+Bc(c,0):r,k1(s)?(n="",t!=null&&(n=t.replace(A1,"$&/")+"/"),R0(s,e,n,"",function(x){return x})):s!=null&&(Gd(s)&&(s=z6(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(A1,"$&/")+"/")+t)),e.push(s)),1;if(c=0,r=r===""?".":r+":",k1(t))for(var d=0;d<t.length;d++){o=t[d];var p=r+Bc(o,d);c+=R0(o,e,n,p,s)}else if(p=V6(t),typeof p=="function")for(t=p.call(t),d=0;!(o=t.next()).done;)o=o.value,p=r+Bc(o,d++),c+=R0(o,e,n,p,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function u0(t,e,n){if(t==null)return t;var r=[],s=0;return R0(t,r,"","",function(o){return e.call(n,o,s++)}),r}function O6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},P0={transition:null},F6={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:P0,ReactCurrentOwner:Wd};function t2(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:u0,forEach:function(t,e,n){u0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return u0(t,function(){e++}),e},toArray:function(t){return u0(t,function(e){return e})||[]},only:function(t){if(!Gd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=aa;Oe.Fragment=k6;Oe.Profiler=I6;Oe.PureComponent=Hd;Oe.StrictMode=A6;Oe.Suspense=P6;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F6;Oe.act=t2;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K4({},t.props),s=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=Wd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(p in e)J4.call(e,p)&&!Z4.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&d!==void 0?d[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){d=Array(p);for(var x=0;x<p;x++)d[x]=arguments[x+2];r.children=d}return{$$typeof:Dl,type:t.type,key:s,ref:o,props:r,_owner:c}};Oe.createContext=function(t){return t={$$typeof:N6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C6,_context:t},t.Consumer=t};Oe.createElement=e2;Oe.createFactory=function(t){var e=e2.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:R6,render:t}};Oe.isValidElement=Gd;Oe.lazy=function(t){return{$$typeof:D6,_payload:{_status:-1,_result:t},_init:O6}};Oe.memo=function(t,e){return{$$typeof:M6,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=P0.transition;P0.transition={};try{t()}finally{P0.transition=e}};Oe.unstable_act=t2;Oe.useCallback=function(t,e){return An.current.useCallback(t,e)};Oe.useContext=function(t){return An.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return An.current.useEffect(t,e)};Oe.useId=function(){return An.current.useId()};Oe.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return An.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Oe.useRef=function(t){return An.current.useRef(t)};Oe.useState=function(t){return An.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return An.current.useTransition()};Oe.version="18.3.1";G4.exports=Oe;var ve=G4.exports;const B6=E6(ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6=ve,U6=Symbol.for("react.element"),q6=Symbol.for("react.fragment"),H6=Object.prototype.hasOwnProperty,$6=j6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W6={key:!0,ref:!0,__self:!0,__source:!0};function n2(t,e,n){var r,s={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)H6.call(e,r)&&!W6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:U6,type:t,key:o,ref:c,props:s,_owner:$6.current}}Vu.Fragment=q6;Vu.jsx=n2;Vu.jsxs=n2;W4.exports=Vu;var I=W4.exports,Ch={},r2={exports:{}},Xn={},s2={exports:{}},i2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ye,Ne){var he=ye.length;ye.push(Ne);e:for(;0<he;){var je=he-1>>>1,ze=ye[je];if(0<s(ze,Ne))ye[je]=Ne,ye[he]=ze,he=je;else break e}}function n(ye){return ye.length===0?null:ye[0]}function r(ye){if(ye.length===0)return null;var Ne=ye[0],he=ye.pop();if(he!==Ne){ye[0]=he;e:for(var je=0,ze=ye.length,nt=ze>>>1;je<nt;){var xn=2*(je+1)-1,zt=ye[xn],cn=xn+1,jt=ye[cn];if(0>s(zt,he))cn<ze&&0>s(jt,zt)?(ye[je]=jt,ye[cn]=he,je=cn):(ye[je]=zt,ye[xn]=he,je=xn);else if(cn<ze&&0>s(jt,he))ye[je]=jt,ye[cn]=he,je=cn;else break e}}return Ne}function s(ye,Ne){var he=ye.sortIndex-Ne.sortIndex;return he!==0?he:ye.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],x=[],k=1,N=null,R=3,H=!1,Y=!1,ee=!1,G=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ye){for(var Ne=n(x);Ne!==null;){if(Ne.callback===null)r(x);else if(Ne.startTime<=ye)r(x),Ne.sortIndex=Ne.expirationTime,e(p,Ne);else break;Ne=n(x)}}function J(ye){if(ee=!1,j(ye),!Y)if(n(p)!==null)Y=!0,Fn(oe);else{var Ne=n(x);Ne!==null&&wn(J,Ne.startTime-ye)}}function oe(ye,Ne){Y=!1,ee&&(ee=!1,F(S),S=-1),H=!0;var he=R;try{for(j(Ne),N=n(p);N!==null&&(!(N.expirationTime>Ne)||ye&&!U());){var je=N.callback;if(typeof je=="function"){N.callback=null,R=N.priorityLevel;var ze=je(N.expirationTime<=Ne);Ne=t.unstable_now(),typeof ze=="function"?N.callback=ze:N===n(p)&&r(p),j(Ne)}else r(p);N=n(p)}if(N!==null)var nt=!0;else{var xn=n(x);xn!==null&&wn(J,xn.startTime-Ne),nt=!1}return nt}finally{N=null,R=he,H=!1}}var se=!1,L=null,S=-1,D=5,P=-1;function U(){return!(t.unstable_now()-P<D)}function $(){if(L!==null){var ye=t.unstable_now();P=ye;var Ne=!0;try{Ne=L(!0,ye)}finally{Ne?z():(se=!1,L=null)}}else se=!1}var z;if(typeof M=="function")z=function(){M($)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Ve=Vt.port2;Vt.port1.onmessage=$,z=function(){Ve.postMessage(null)}}else z=function(){G($,0)};function Fn(ye){L=ye,se||(se=!0,z())}function wn(ye,Ne){S=G(function(){ye(t.unstable_now())},Ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ye){ye.callback=null},t.unstable_continueExecution=function(){Y||H||(Y=!0,Fn(oe))},t.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ye?Math.floor(1e3/ye):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ye){switch(R){case 1:case 2:case 3:var Ne=3;break;default:Ne=R}var he=R;R=Ne;try{return ye()}finally{R=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ye,Ne){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var he=R;R=ye;try{return Ne()}finally{R=he}},t.unstable_scheduleCallback=function(ye,Ne,he){var je=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?je+he:je):he=je,ye){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=he+ze,ye={id:k++,callback:Ne,priorityLevel:ye,startTime:he,expirationTime:ze,sortIndex:-1},he>je?(ye.sortIndex=he,e(x,ye),n(p)===null&&ye===n(x)&&(ee?(F(S),S=-1):ee=!0,wn(J,he-je))):(ye.sortIndex=ze,e(p,ye),Y||H||(Y=!0,Fn(oe))),ye},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ye){var Ne=R;return function(){var he=R;R=Ne;try{return ye.apply(this,arguments)}finally{R=he}}}})(i2);s2.exports=i2;var G6=s2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q6=ve,Kn=G6;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o2=new Set,ll={};function Ji(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(ll[t]=e,t=0;t<e.length;t++)o2.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=Object.prototype.hasOwnProperty,K6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I1={},C1={};function X6(t){return Nh.call(C1,t)?!0:Nh.call(I1,t)?!1:K6.test(t)?C1[t]=!0:(I1[t]=!0,!1)}function Y6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J6(t,e,n,r){if(e===null||typeof e>"u"||Y6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,s,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qd=/[\-:]([a-z])/g;function Kd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qd,Kd);ln[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qd,Kd);ln[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qd,Kd);ln[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xd(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J6(e,n,s,r)&&(n=null),r||s===null?X6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=Q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c0=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),u2=Symbol.for("react.offscreen"),N1=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,jc;function Fa(t){if(jc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jc=e&&e[1]||""}return`
`+jc+t}var Uc=!1;function qc(t,e){if(!t||Uc)return"";Uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var r=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){r=x}t.call(e.prototype)}else{try{throw Error()}catch(x){r=x}t()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),o=r.stack.split(`
`),c=s.length-1,d=o.length-1;1<=c&&0<=d&&s[c]!==o[d];)d--;for(;1<=c&&0<=d;c--,d--)if(s[c]!==o[d]){if(c!==1||d!==1)do if(c--,d--,0>d||s[c]!==o[d]){var p=`
`+s[c].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=c&&0<=d);break}}}finally{Uc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function Z6(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=qc(t.type,!1),t;case 11:return t=qc(t.type.render,!1),t;case 1:return t=qc(t.type,!0),t;default:return""}}function Dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Eo:return"Portal";case Rh:return"Profiler";case Yd:return"StrictMode";case Ph:return"Suspense";case Mh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l2:return(t.displayName||"Context")+".Consumer";case a2:return(t._context.displayName||"Context")+".Provider";case Jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zd:return e=t.displayName||null,e!==null?e:Dh(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return Dh(t(e))}catch{}}return null}function e7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(e);case 8:return e===Yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t7(t){var e=c2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function h0(t){t._valueTracker||(t._valueTracker=t7(t))}function h2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=c2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Q0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vh(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d2(t,e){e=e.checked,e!=null&&Xd(t,"checked",e,!1)}function zh(t,e){d2(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lh(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lh(t,e,n){(e!=="number"||Q0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Ba(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function f2(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var d0,p2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(d0=d0||document.createElement("div"),d0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=d0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n7=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(t){n7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ga[e]=Ga[t]})});function g2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ga.hasOwnProperty(t)&&Ga[t]?(""+e).trim():e+"px"}function y2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=g2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var r7=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(t,e){if(e){if(r7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function ef(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qh=null,Lo=null,Oo=null;function V1(t){if(t=Ll(t)){if(typeof qh!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Bu(e),qh(t.stateNode,t.type,e))}}function v2(t){Lo?Oo?Oo.push(t):Oo=[t]:Lo=t}function w2(){if(Lo){var t=Lo,e=Oo;if(Oo=Lo=null,V1(t),e)for(t=0;t<e.length;t++)V1(e[t])}}function x2(t,e){return t(e)}function _2(){}var Hc=!1;function b2(t,e,n){if(Hc)return t(e,n);Hc=!0;try{return x2(t,e,n)}finally{Hc=!1,(Lo!==null||Oo!==null)&&(_2(),w2())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Hh=!1;if(Ss)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Hh=!1}function s7(t,e,n,r,s,o,c,d,p){var x=Array.prototype.slice.call(arguments,3);try{e.apply(n,x)}catch(k){this.onError(k)}}var Qa=!1,K0=null,X0=!1,$h=null,i7={onError:function(t){Qa=!0,K0=t}};function o7(t,e,n,r,s,o,c,d,p){Qa=!1,K0=null,s7.apply(i7,arguments)}function a7(t,e,n,r,s,o,c,d,p){if(o7.apply(this,arguments),Qa){if(Qa){var x=K0;Qa=!1,K0=null}else throw Error(de(198));X0||(X0=!0,$h=x)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(Zi(t)!==t)throw Error(de(188))}function l7(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return z1(s),t;if(o===r)return z1(s),e;o=o.sibling}throw Error(de(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,d=s.child;d;){if(d===n){c=!0,n=s,r=o;break}if(d===r){c=!0,r=s,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,r=s;break}if(d===r){c=!0,r=o,n=s;break}d=d.sibling}if(!c)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function E2(t){return t=l7(t),t!==null?T2(t):null}function T2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T2(t);if(e!==null)return e;t=t.sibling}return null}var k2=Kn.unstable_scheduleCallback,L1=Kn.unstable_cancelCallback,u7=Kn.unstable_shouldYield,c7=Kn.unstable_requestPaint,Dt=Kn.unstable_now,h7=Kn.unstable_getCurrentPriorityLevel,tf=Kn.unstable_ImmediatePriority,A2=Kn.unstable_UserBlockingPriority,Y0=Kn.unstable_NormalPriority,d7=Kn.unstable_LowPriority,I2=Kn.unstable_IdlePriority,zu=null,jr=null;function f7(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:g7,m7=Math.log,p7=Math.LN2;function g7(t){return t>>>=0,t===0?32:31-(m7(t)/p7|0)|0}var f0=64,m0=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function J0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var d=c&~s;d!==0?r=ja(d):(o&=c,o!==0&&(r=ja(o)))}else c=n&~s,c!==0?r=ja(c):o!==0&&(r=ja(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),s=1<<n,r|=t[n],e&=~s;return r}function y7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Er(o),d=1<<c,p=s[c];p===-1?(!(d&n)||d&r)&&(s[c]=y7(d,e)):p<=e&&(t.expiredLanes|=d),o&=~d}}function Wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function C2(){var t=f0;return f0<<=1,!(f0&4194240)&&(f0=64),t}function $c(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function w7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Er(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function nf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var it=0;function N2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R2,rf,P2,M2,D2,Gh=!1,p0=[],Zs=null,ei=null,ti=null,hl=new Map,dl=new Map,Qs=[],x7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O1(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function Pa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ll(e),e!==null&&rf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _7(t,e,n,r,s){switch(e){case"focusin":return Zs=Pa(Zs,t,e,n,r,s),!0;case"dragenter":return ei=Pa(ei,t,e,n,r,s),!0;case"mouseover":return ti=Pa(ti,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return hl.set(o,Pa(hl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,dl.set(o,Pa(dl.get(o)||null,t,e,n,r,s)),!0}return!1}function V2(t){var e=Vi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=S2(n),e!==null){t.blockedOn=e,D2(t.priority,function(){P2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function M0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uh=r,n.target.dispatchEvent(r),Uh=null}else return e=Ll(n),e!==null&&rf(e),t.blockedOn=n,!1;e.shift()}return!0}function F1(t,e,n){M0(t)&&n.delete(e)}function b7(){Gh=!1,Zs!==null&&M0(Zs)&&(Zs=null),ei!==null&&M0(ei)&&(ei=null),ti!==null&&M0(ti)&&(ti=null),hl.forEach(F1),dl.forEach(F1)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,b7)))}function fl(t){function e(s){return Ma(s,t)}if(0<p0.length){Ma(p0[0],t);for(var n=1;n<p0.length;n++){var r=p0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zs!==null&&Ma(Zs,t),ei!==null&&Ma(ei,t),ti!==null&&Ma(ti,t),hl.forEach(e),dl.forEach(e),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)V2(n),n.blockedOn===null&&Qs.shift()}var Fo=Ns.ReactCurrentBatchConfig,Z0=!0;function S7(t,e,n,r){var s=it,o=Fo.transition;Fo.transition=null;try{it=1,sf(t,e,n,r)}finally{it=s,Fo.transition=o}}function E7(t,e,n,r){var s=it,o=Fo.transition;Fo.transition=null;try{it=4,sf(t,e,n,r)}finally{it=s,Fo.transition=o}}function sf(t,e,n,r){if(Z0){var s=Qh(t,e,n,r);if(s===null)th(t,e,r,eu,n),O1(t,r);else if(_7(s,t,e,n,r))r.stopPropagation();else if(O1(t,r),e&4&&-1<x7.indexOf(t)){for(;s!==null;){var o=Ll(s);if(o!==null&&R2(o),o=Qh(t,e,n,r),o===null&&th(t,e,r,eu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else th(t,e,r,null,n)}}var eu=null;function Qh(t,e,n,r){if(eu=null,t=ef(r),t=Vi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eu=t,null}function z2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h7()){case tf:return 1;case A2:return 4;case Y0:case d7:return 16;case I2:return 536870912;default:return 16}default:return 16}}var Xs=null,of=null,D0=null;function L2(){if(D0)return D0;var t,e=of,n=e.length,r,s="value"in Xs?Xs.value:Xs.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===s[o-r];r++);return D0=s.slice(t,1<r?1-r:void 0)}function V0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function g0(){return!0}function B1(){return!1}function Yn(t){function e(n,r,s,o,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?g0:B1,this.isPropagationStopped=B1,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=g0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=g0)},persist:function(){},isPersistent:g0}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=Yn(la),zl=kt({},la,{view:0,detail:0}),T7=Yn(zl),Wc,Gc,Da,Lu=kt({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Wc=t.screenX-Da.screenX,Gc=t.screenY-Da.screenY):Gc=Wc=0,Da=t),Wc)},movementY:function(t){return"movementY"in t?t.movementY:Gc}}),j1=Yn(Lu),k7=kt({},Lu,{dataTransfer:0}),A7=Yn(k7),I7=kt({},zl,{relatedTarget:0}),Qc=Yn(I7),C7=kt({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),N7=Yn(C7),R7=kt({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P7=Yn(R7),M7=kt({},la,{data:0}),U1=Yn(M7),D7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z7[t])?!!e[t]:!1}function lf(){return L7}var O7=kt({},zl,{key:function(t){if(t.key){var e=D7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=V0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(t){return t.type==="keypress"?V0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?V0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F7=Yn(O7),B7=kt({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Yn(B7),j7=kt({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),U7=Yn(j7),q7=kt({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),H7=Yn(q7),$7=kt({},Lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W7=Yn($7),G7=[9,13,27,32],uf=Ss&&"CompositionEvent"in window,Ka=null;Ss&&"documentMode"in document&&(Ka=document.documentMode);var Q7=Ss&&"TextEvent"in window&&!Ka,O2=Ss&&(!uf||Ka&&8<Ka&&11>=Ka),H1=" ",$1=!1;function F2(t,e){switch(t){case"keyup":return G7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function K7(t,e){switch(t){case"compositionend":return B2(e);case"keypress":return e.which!==32?null:($1=!0,H1);case"textInput":return t=e.data,t===H1&&$1?null:t;default:return null}}function X7(t,e){if(ko)return t==="compositionend"||!uf&&F2(t,e)?(t=L2(),D0=of=Xs=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O2&&e.locale!=="ko"?null:e.data;default:return null}}var Y7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y7[t.type]:e==="textarea"}function j2(t,e,n,r){v2(r),e=tu(e,"onChange"),0<e.length&&(n=new af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,ml=null;function J7(t){J2(t,0)}function Ou(t){var e=Co(t);if(h2(e))return t}function Z7(t,e){if(t==="change")return e}var U2=!1;if(Ss){var Kc;if(Ss){var Xc="oninput"in document;if(!Xc){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),Xc=typeof G1.oninput=="function"}Kc=Xc}else Kc=!1;U2=Kc&&(!document.documentMode||9<document.documentMode)}function Q1(){Xa&&(Xa.detachEvent("onpropertychange",q2),ml=Xa=null)}function q2(t){if(t.propertyName==="value"&&Ou(ml)){var e=[];j2(e,ml,t,ef(t)),b2(J7,e)}}function ey(t,e,n){t==="focusin"?(Q1(),Xa=e,ml=n,Xa.attachEvent("onpropertychange",q2)):t==="focusout"&&Q1()}function ty(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(ml)}function ny(t,e){if(t==="click")return Ou(e)}function ry(t,e){if(t==="input"||t==="change")return Ou(e)}function sy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:sy;function pl(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nh.call(e,s)||!Ar(t[s],e[s]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X1(t,e){var n=K1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K1(n)}}function H2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $2(){for(var t=window,e=Q0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Q0(t.document)}return e}function cf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iy(t){var e=$2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H2(n.ownerDocument.documentElement,n)){if(r!==null&&cf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=X1(n,o);var c=X1(n,r);s&&c&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oy=Ss&&"documentMode"in document&&11>=document.documentMode,Ao=null,Kh=null,Ya=null,Xh=!1;function Y1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xh||Ao==null||Ao!==Q0(r)||(r=Ao,"selectionStart"in r&&cf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ya&&pl(Ya,r)||(Ya=r,r=tu(Kh,"onSelect"),0<r.length&&(e=new af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function y0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Io={animationend:y0("Animation","AnimationEnd"),animationiteration:y0("Animation","AnimationIteration"),animationstart:y0("Animation","AnimationStart"),transitionend:y0("Transition","TransitionEnd")},Yc={},W2={};Ss&&(W2=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Fu(t){if(Yc[t])return Yc[t];if(!Io[t])return t;var e=Io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in W2)return Yc[t]=e[n];return t}var G2=Fu("animationend"),Q2=Fu("animationiteration"),K2=Fu("animationstart"),X2=Fu("transitionend"),Y2=new Map,J1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){Y2.set(t,e),Ji(e,[t])}for(var Jc=0;Jc<J1.length;Jc++){var Zc=J1[Jc],ay=Zc.toLowerCase(),ly=Zc[0].toUpperCase()+Zc.slice(1);pi(ay,"on"+ly)}pi(G2,"onAnimationEnd");pi(Q2,"onAnimationIteration");pi(K2,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(X2,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function Z1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a7(r,e,void 0,t),t.currentTarget=null}function J2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var d=r[c],p=d.instance,x=d.currentTarget;if(d=d.listener,p!==o&&s.isPropagationStopped())break e;Z1(s,d,x),o=p}else for(c=0;c<r.length;c++){if(d=r[c],p=d.instance,x=d.currentTarget,d=d.listener,p!==o&&s.isPropagationStopped())break e;Z1(s,d,x),o=p}}}if(X0)throw t=$h,X0=!1,$h=null,t}function mt(t,e){var n=e[td];n===void 0&&(n=e[td]=new Set);var r=t+"__bubble";n.has(r)||(Z2(e,t,2,!1),n.add(r))}function eh(t,e,n){var r=0;e&&(r|=4),Z2(n,t,r,e)}var v0="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[v0]){t[v0]=!0,o2.forEach(function(n){n!=="selectionchange"&&(uy.has(n)||eh(n,!1,t),eh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[v0]||(e[v0]=!0,eh("selectionchange",!1,e))}}function Z2(t,e,n,r){switch(z2(e)){case 1:var s=S7;break;case 4:s=E7;break;default:s=sf}n=s.bind(null,e,n,t),s=void 0,!Hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function th(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;d!==null;){if(c=Vi(d),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}d=d.parentNode}}r=r.return}b2(function(){var x=o,k=ef(n),N=[];e:{var R=Y2.get(t);if(R!==void 0){var H=af,Y=t;switch(t){case"keypress":if(V0(n)===0)break e;case"keydown":case"keyup":H=F7;break;case"focusin":Y="focus",H=Qc;break;case"focusout":Y="blur",H=Qc;break;case"beforeblur":case"afterblur":H=Qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=A7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=U7;break;case G2:case Q2:case K2:H=N7;break;case X2:H=H7;break;case"scroll":H=T7;break;case"wheel":H=W7;break;case"copy":case"cut":case"paste":H=P7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=q1}var ee=(e&4)!==0,G=!ee&&t==="scroll",F=ee?R!==null?R+"Capture":null:R;ee=[];for(var M=x,j;M!==null;){j=M;var J=j.stateNode;if(j.tag===5&&J!==null&&(j=J,F!==null&&(J=cl(M,F),J!=null&&ee.push(yl(M,J,j)))),G)break;M=M.return}0<ee.length&&(R=new H(R,Y,null,n,k),N.push({event:R,listeners:ee}))}}if(!(e&7)){e:{if(R=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",R&&n!==Uh&&(Y=n.relatedTarget||n.fromElement)&&(Vi(Y)||Y[Es]))break e;if((H||R)&&(R=k.window===k?k:(R=k.ownerDocument)?R.defaultView||R.parentWindow:window,H?(Y=n.relatedTarget||n.toElement,H=x,Y=Y?Vi(Y):null,Y!==null&&(G=Zi(Y),Y!==G||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(H=null,Y=x),H!==Y)){if(ee=j1,J="onMouseLeave",F="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ee=q1,J="onPointerLeave",F="onPointerEnter",M="pointer"),G=H==null?R:Co(H),j=Y==null?R:Co(Y),R=new ee(J,M+"leave",H,n,k),R.target=G,R.relatedTarget=j,J=null,Vi(k)===x&&(ee=new ee(F,M+"enter",Y,n,k),ee.target=j,ee.relatedTarget=G,J=ee),G=J,H&&Y)t:{for(ee=H,F=Y,M=0,j=ee;j;j=xo(j))M++;for(j=0,J=F;J;J=xo(J))j++;for(;0<M-j;)ee=xo(ee),M--;for(;0<j-M;)F=xo(F),j--;for(;M--;){if(ee===F||F!==null&&ee===F.alternate)break t;ee=xo(ee),F=xo(F)}ee=null}else ee=null;H!==null&&ep(N,R,H,ee,!1),Y!==null&&G!==null&&ep(N,G,Y,ee,!0)}}e:{if(R=x?Co(x):window,H=R.nodeName&&R.nodeName.toLowerCase(),H==="select"||H==="input"&&R.type==="file")var oe=Z7;else if(W1(R))if(U2)oe=ry;else{oe=ty;var se=ey}else(H=R.nodeName)&&H.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(oe=ny);if(oe&&(oe=oe(t,x))){j2(N,oe,n,k);break e}se&&se(t,R,x),t==="focusout"&&(se=R._wrapperState)&&se.controlled&&R.type==="number"&&Lh(R,"number",R.value)}switch(se=x?Co(x):window,t){case"focusin":(W1(se)||se.contentEditable==="true")&&(Ao=se,Kh=x,Ya=null);break;case"focusout":Ya=Kh=Ao=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Y1(N,n,k);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":Y1(N,n,k)}var L;if(uf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ko?F2(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(O2&&n.locale!=="ko"&&(ko||S!=="onCompositionStart"?S==="onCompositionEnd"&&ko&&(L=L2()):(Xs=k,of="value"in Xs?Xs.value:Xs.textContent,ko=!0)),se=tu(x,S),0<se.length&&(S=new U1(S,t,null,n,k),N.push({event:S,listeners:se}),L?S.data=L:(L=B2(n),L!==null&&(S.data=L)))),(L=Q7?K7(t,n):X7(t,n))&&(x=tu(x,"onBeforeInput"),0<x.length&&(k=new U1("onBeforeInput","beforeinput",null,n,k),N.push({event:k,listeners:x}),k.data=L))}J2(N,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=cl(t,n),o!=null&&r.unshift(yl(t,o,s)),o=cl(t,e),o!=null&&r.push(yl(t,o,s))),t=t.return}return r}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ep(t,e,n,r,s){for(var o=e._reactName,c=[];n!==null&&n!==r;){var d=n,p=d.alternate,x=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&x!==null&&(d=x,s?(p=cl(n,o),p!=null&&c.unshift(yl(n,p,d))):s||(p=cl(n,o),p!=null&&c.push(yl(n,p,d)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var cy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function tp(t){return(typeof t=="string"?t:""+t).replace(cy,`
`).replace(hy,"")}function w0(t,e,n){if(e=tp(e),tp(t)!==e&&n)throw Error(de(425))}function nu(){}var Yh=null,Jh=null;function Zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ed=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(t){return np.resolve(null).then(t).catch(my)}:ed;function my(t){setTimeout(function(){throw t})}function nh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fl(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Br="__reactFiber$"+ua,vl="__reactProps$"+ua,Es="__reactContainer$"+ua,td="__reactEvents$"+ua,py="__reactListeners$"+ua,gy="__reactHandles$"+ua;function Vi(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Es]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rp(t);t!==null;){if(n=t[Br])return n;t=rp(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[Br]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Bu(t){return t[vl]||null}var nd=[],No=-1;function gi(t){return{current:t}}function pt(t){0>No||(t.current=nd[No],nd[No]=null,No--)}function ht(t,e){No++,nd[No]=t.current,t.current=e}var hi={},vn=gi(hi),Vn=gi(!1),qi=hi;function $o(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function ru(){pt(Vn),pt(vn)}function sp(t,e,n){if(vn.current!==hi)throw Error(de(168));ht(vn,e),ht(Vn,n)}function eg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(de(108,e7(t)||"Unknown",s));return kt({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,qi=vn.current,ht(vn,t),ht(Vn,Vn.current),!0}function ip(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=eg(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,pt(Vn),pt(vn),ht(vn,t)):pt(Vn),ht(Vn,n)}var ys=null,ju=!1,rh=!1;function tg(t){ys===null?ys=[t]:ys.push(t)}function yy(t){ju=!0,tg(t)}function yi(){if(!rh&&ys!==null){rh=!0;var t=0,e=it;try{var n=ys;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,ju=!1}catch(s){throw ys!==null&&(ys=ys.slice(t+1)),k2(tf,yi),s}finally{it=e,rh=!1}}return null}var Ro=[],Po=0,iu=null,ou=0,or=[],ar=0,Hi=null,vs=1,ws="";function Pi(t,e){Ro[Po++]=ou,Ro[Po++]=iu,iu=t,ou=e}function ng(t,e,n){or[ar++]=vs,or[ar++]=ws,or[ar++]=Hi,Hi=t;var r=vs;t=ws;var s=32-Er(r)-1;r&=~(1<<s),n+=1;var o=32-Er(e)+s;if(30<o){var c=s-s%5;o=(r&(1<<c)-1).toString(32),r>>=c,s-=c,vs=1<<32-Er(e)+s|n<<s|r,ws=o+t}else vs=1<<o|n<<s|r,ws=t}function hf(t){t.return!==null&&(Pi(t,1),ng(t,1,0))}function df(t){for(;t===iu;)iu=Ro[--Po],Ro[Po]=null,ou=Ro[--Po],Ro[Po]=null;for(;t===Hi;)Hi=or[--ar],or[ar]=null,ws=or[--ar],or[ar]=null,vs=or[--ar],or[ar]=null}var Qn=null,Gn=null,vt=!1,br=null;function rg(t,e){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function op(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Gn=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:vs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Gn=null,!0):!1;default:return!1}}function rd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sd(t){if(vt){var e=Gn;if(e){var n=e;if(!op(t,e)){if(rd(t))throw Error(de(418));e=ni(n.nextSibling);var r=Qn;e&&op(t,e)?rg(r,n):(t.flags=t.flags&-4097|2,vt=!1,Qn=t)}}else{if(rd(t))throw Error(de(418));t.flags=t.flags&-4097|2,vt=!1,Qn=t}}}function ap(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function x0(t){if(t!==Qn)return!1;if(!vt)return ap(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zh(t.type,t.memoizedProps)),e&&(e=Gn)){if(rd(t))throw sg(),Error(de(418));for(;e;)rg(t,e),e=ni(e.nextSibling)}if(ap(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Qn?ni(t.stateNode.nextSibling):null;return!0}function sg(){for(var t=Gn;t;)t=ni(t.nextSibling)}function Wo(){Gn=Qn=null,vt=!1}function ff(t){br===null?br=[t]:br.push(t)}var vy=Ns.ReactCurrentBatchConfig;function Va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var d=s.refs;c===null?delete d[o]:d[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function _0(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lp(t){var e=t._init;return e(t._payload)}function ig(t){function e(F,M){if(t){var j=F.deletions;j===null?(F.deletions=[M],F.flags|=16):j.push(M)}}function n(F,M){if(!t)return null;for(;M!==null;)e(F,M),M=M.sibling;return null}function r(F,M){for(F=new Map;M!==null;)M.key!==null?F.set(M.key,M):F.set(M.index,M),M=M.sibling;return F}function s(F,M){return F=oi(F,M),F.index=0,F.sibling=null,F}function o(F,M,j){return F.index=j,t?(j=F.alternate,j!==null?(j=j.index,j<M?(F.flags|=2,M):j):(F.flags|=2,M)):(F.flags|=1048576,M)}function c(F){return t&&F.alternate===null&&(F.flags|=2),F}function d(F,M,j,J){return M===null||M.tag!==6?(M=ch(j,F.mode,J),M.return=F,M):(M=s(M,j),M.return=F,M)}function p(F,M,j,J){var oe=j.type;return oe===To?k(F,M,j.props.children,J,j.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ws&&lp(oe)===M.type)?(J=s(M,j.props),J.ref=Va(F,M,j),J.return=F,J):(J=U0(j.type,j.key,j.props,null,F.mode,J),J.ref=Va(F,M,j),J.return=F,J)}function x(F,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=hh(j,F.mode,J),M.return=F,M):(M=s(M,j.children||[]),M.return=F,M)}function k(F,M,j,J,oe){return M===null||M.tag!==7?(M=ji(j,F.mode,J,oe),M.return=F,M):(M=s(M,j),M.return=F,M)}function N(F,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ch(""+M,F.mode,j),M.return=F,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case c0:return j=U0(M.type,M.key,M.props,null,F.mode,j),j.ref=Va(F,null,M),j.return=F,j;case Eo:return M=hh(M,F.mode,j),M.return=F,M;case Ws:var J=M._init;return N(F,J(M._payload),j)}if(Ba(M)||Na(M))return M=ji(M,F.mode,j,null),M.return=F,M;_0(F,M)}return null}function R(F,M,j,J){var oe=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return oe!==null?null:d(F,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c0:return j.key===oe?p(F,M,j,J):null;case Eo:return j.key===oe?x(F,M,j,J):null;case Ws:return oe=j._init,R(F,M,oe(j._payload),J)}if(Ba(j)||Na(j))return oe!==null?null:k(F,M,j,J,null);_0(F,j)}return null}function H(F,M,j,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return F=F.get(j)||null,d(M,F,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c0:return F=F.get(J.key===null?j:J.key)||null,p(M,F,J,oe);case Eo:return F=F.get(J.key===null?j:J.key)||null,x(M,F,J,oe);case Ws:var se=J._init;return H(F,M,j,se(J._payload),oe)}if(Ba(J)||Na(J))return F=F.get(j)||null,k(M,F,J,oe,null);_0(M,J)}return null}function Y(F,M,j,J){for(var oe=null,se=null,L=M,S=M=0,D=null;L!==null&&S<j.length;S++){L.index>S?(D=L,L=null):D=L.sibling;var P=R(F,L,j[S],J);if(P===null){L===null&&(L=D);break}t&&L&&P.alternate===null&&e(F,L),M=o(P,M,S),se===null?oe=P:se.sibling=P,se=P,L=D}if(S===j.length)return n(F,L),vt&&Pi(F,S),oe;if(L===null){for(;S<j.length;S++)L=N(F,j[S],J),L!==null&&(M=o(L,M,S),se===null?oe=L:se.sibling=L,se=L);return vt&&Pi(F,S),oe}for(L=r(F,L);S<j.length;S++)D=H(L,F,S,j[S],J),D!==null&&(t&&D.alternate!==null&&L.delete(D.key===null?S:D.key),M=o(D,M,S),se===null?oe=D:se.sibling=D,se=D);return t&&L.forEach(function(U){return e(F,U)}),vt&&Pi(F,S),oe}function ee(F,M,j,J){var oe=Na(j);if(typeof oe!="function")throw Error(de(150));if(j=oe.call(j),j==null)throw Error(de(151));for(var se=oe=null,L=M,S=M=0,D=null,P=j.next();L!==null&&!P.done;S++,P=j.next()){L.index>S?(D=L,L=null):D=L.sibling;var U=R(F,L,P.value,J);if(U===null){L===null&&(L=D);break}t&&L&&U.alternate===null&&e(F,L),M=o(U,M,S),se===null?oe=U:se.sibling=U,se=U,L=D}if(P.done)return n(F,L),vt&&Pi(F,S),oe;if(L===null){for(;!P.done;S++,P=j.next())P=N(F,P.value,J),P!==null&&(M=o(P,M,S),se===null?oe=P:se.sibling=P,se=P);return vt&&Pi(F,S),oe}for(L=r(F,L);!P.done;S++,P=j.next())P=H(L,F,S,P.value,J),P!==null&&(t&&P.alternate!==null&&L.delete(P.key===null?S:P.key),M=o(P,M,S),se===null?oe=P:se.sibling=P,se=P);return t&&L.forEach(function($){return e(F,$)}),vt&&Pi(F,S),oe}function G(F,M,j,J){if(typeof j=="object"&&j!==null&&j.type===To&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case c0:e:{for(var oe=j.key,se=M;se!==null;){if(se.key===oe){if(oe=j.type,oe===To){if(se.tag===7){n(F,se.sibling),M=s(se,j.props.children),M.return=F,F=M;break e}}else if(se.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ws&&lp(oe)===se.type){n(F,se.sibling),M=s(se,j.props),M.ref=Va(F,se,j),M.return=F,F=M;break e}n(F,se);break}else e(F,se);se=se.sibling}j.type===To?(M=ji(j.props.children,F.mode,J,j.key),M.return=F,F=M):(J=U0(j.type,j.key,j.props,null,F.mode,J),J.ref=Va(F,M,j),J.return=F,F=J)}return c(F);case Eo:e:{for(se=j.key;M!==null;){if(M.key===se)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){n(F,M.sibling),M=s(M,j.children||[]),M.return=F,F=M;break e}else{n(F,M);break}else e(F,M);M=M.sibling}M=hh(j,F.mode,J),M.return=F,F=M}return c(F);case Ws:return se=j._init,G(F,M,se(j._payload),J)}if(Ba(j))return Y(F,M,j,J);if(Na(j))return ee(F,M,j,J);_0(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,M!==null&&M.tag===6?(n(F,M.sibling),M=s(M,j),M.return=F,F=M):(n(F,M),M=ch(j,F.mode,J),M.return=F,F=M),c(F)):n(F,M)}return G}var Go=ig(!0),og=ig(!1),au=gi(null),lu=null,Mo=null,mf=null;function pf(){mf=Mo=lu=null}function gf(t){var e=au.current;pt(au),t._currentValue=e}function id(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){lu=t,mf=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(mf!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(lu===null)throw Error(de(308));Mo=t,lu.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var zi=null;function yf(t){zi===null?zi=[t]:zi.push(t)}function ag(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ts(t,r)}function Ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ts(t,n)}return s=r.interleaved,s===null?(e.next=e,yf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ts(t,n)}function z0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nf(t,n)}}function up(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uu(t,e,n,r){var s=t.updateQueue;Gs=!1;var o=s.firstBaseUpdate,c=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var p=d,x=p.next;p.next=null,c===null?o=x:c.next=x,c=p;var k=t.alternate;k!==null&&(k=k.updateQueue,d=k.lastBaseUpdate,d!==c&&(d===null?k.firstBaseUpdate=x:d.next=x,k.lastBaseUpdate=p))}if(o!==null){var N=s.baseState;c=0,k=x=p=null,d=o;do{var R=d.lane,H=d.eventTime;if((r&R)===R){k!==null&&(k=k.next={eventTime:H,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var Y=t,ee=d;switch(R=e,H=n,ee.tag){case 1:if(Y=ee.payload,typeof Y=="function"){N=Y.call(H,N,R);break e}N=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ee.payload,R=typeof Y=="function"?Y.call(H,N,R):Y,R==null)break e;N=kt({},N,R);break e;case 2:Gs=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,R=s.effects,R===null?s.effects=[d]:R.push(d))}else H={eventTime:H,lane:R,tag:d.tag,payload:d.payload,callback:d.callback,next:null},k===null?(x=k=H,p=N):k=k.next=H,c|=R;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;R=d,d=R.next,R.next=null,s.lastBaseUpdate=R,s.shared.pending=null}}while(!0);if(k===null&&(p=N),s.baseState=p,s.firstBaseUpdate=x,s.lastBaseUpdate=k,e=s.shared.interleaved,e!==null){s=e;do c|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Wi|=c,t.lanes=c,t.memoizedState=N}}function cp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(de(191,s));s.call(r)}}}var Ol={},Ur=gi(Ol),wl=gi(Ol),xl=gi(Ol);function Li(t){if(t===Ol)throw Error(de(174));return t}function wf(t,e){switch(ht(xl,e),ht(wl,t),ht(Ur,Ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fh(e,t)}pt(Ur),ht(Ur,e)}function Qo(){pt(Ur),pt(wl),pt(xl)}function ug(t){Li(xl.current);var e=Li(Ur.current),n=Fh(e,t.type);e!==n&&(ht(wl,t),ht(Ur,n))}function xf(t){wl.current===t&&(pt(Ur),pt(wl))}var Et=gi(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function _f(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var L0=Ns.ReactCurrentDispatcher,ih=Ns.ReactCurrentBatchConfig,$i=0,Tt=null,$t=null,Jt=null,hu=!1,Ja=!1,_l=0,wy=0;function dn(){throw Error(de(321))}function bf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function Sf(t,e,n,r,s,o){if($i=o,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L0.current=t===null||t.memoizedState===null?Sy:Ey,t=n(r,s),Ja){o=0;do{if(Ja=!1,_l=0,25<=o)throw Error(de(301));o+=1,Jt=$t=null,e.updateQueue=null,L0.current=Ty,t=n(r,s)}while(Ja)}if(L0.current=du,e=$t!==null&&$t.next!==null,$i=0,Jt=$t=Tt=null,hu=!1,e)throw Error(de(300));return t}function Ef(){var t=_l!==0;return _l=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function dr(){if($t===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Jt===null?Tt.memoizedState:Jt.next;if(e!==null)Jt=e,$t=t;else{if(t===null)throw Error(de(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function bl(t,e){return typeof e=="function"?e(t):e}function oh(t){var e=dr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=$t,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var c=s.next;s.next=o.next,o.next=c}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var d=c=null,p=null,x=o;do{var k=x.lane;if(($i&k)===k)p!==null&&(p=p.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:t(r,x.action);else{var N={lane:k,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};p===null?(d=p=N,c=r):p=p.next=N,Tt.lanes|=k,Wi|=k}x=x.next}while(x!==null&&x!==o);p===null?c=r:p.next=d,Ar(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Tt.lanes|=o,Wi|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ah(t){var e=dr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do o=t(o,c.action),c=c.next;while(c!==s);Ar(o,e.memoizedState)||(Dn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function cg(){}function hg(t,e){var n=Tt,r=dr(),s=e(),o=!Ar(r.memoizedState,s);if(o&&(r.memoizedState=s,Dn=!0),r=r.queue,Tf(mg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Sl(9,fg.bind(null,n,r,s,e),void 0,null),Zt===null)throw Error(de(349));$i&30||dg(n,e,s)}return s}function dg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fg(t,e,n,r){e.value=n,e.getSnapshot=r,pg(e)&&gg(t)}function mg(t,e,n){return n(function(){pg(e)&&gg(t)})}function pg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function gg(t){var e=Ts(t,1);e!==null&&Tr(e,t,1,-1)}function hp(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=by.bind(null,Tt,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yg(){return dr().memoizedState}function O0(t,e,n,r){var s=Fr();Tt.flags|=t,s.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function Uu(t,e,n,r){var s=dr();r=r===void 0?null:r;var o=void 0;if($t!==null){var c=$t.memoizedState;if(o=c.destroy,r!==null&&bf(r,c.deps)){s.memoizedState=Sl(e,n,o,r);return}}Tt.flags|=t,s.memoizedState=Sl(1|e,n,o,r)}function dp(t,e){return O0(8390656,8,t,e)}function Tf(t,e){return Uu(2048,8,t,e)}function vg(t,e){return Uu(4,2,t,e)}function wg(t,e){return Uu(4,4,t,e)}function xg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _g(t,e,n){return n=n!=null?n.concat([t]):null,Uu(4,4,xg.bind(null,e,t),n)}function kf(){}function bg(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sg(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Eg(t,e,n){return $i&21?(Ar(n,e)||(n=C2(),Tt.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function xy(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=ih.transition;ih.transition={};try{t(!1),e()}finally{it=n,ih.transition=r}}function Tg(){return dr().memoizedState}function _y(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kg(t))Ag(e,n);else if(n=ag(t,e,n,r),n!==null){var s=kn();Tr(n,t,r,s),Ig(n,e,r)}}function by(t,e,n){var r=ii(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kg(t))Ag(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,d=o(c,n);if(s.hasEagerState=!0,s.eagerState=d,Ar(d,c)){var p=e.interleaved;p===null?(s.next=s,yf(e)):(s.next=p.next,p.next=s),e.interleaved=s;return}}catch{}finally{}n=ag(t,e,s,r),n!==null&&(s=kn(),Tr(n,t,r,s),Ig(n,e,r))}}function kg(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function Ag(t,e){Ja=hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ig(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nf(t,n)}}var du={readContext:hr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Sy={readContext:hr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:dp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,O0(4194308,4,xg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return O0(4194308,4,t,e)},useInsertionEffect:function(t,e){return O0(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_y.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:hp,useDebugValue:kf,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=hp(!1),e=t[0];return t=xy.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=Fr();if(vt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Zt===null)throw Error(de(349));$i&30||dg(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,dp(mg.bind(null,r,o,t),[t]),r.flags|=2048,Sl(9,fg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Zt.identifierPrefix;if(vt){var n=ws,r=vs;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ey={readContext:hr,useCallback:bg,useContext:hr,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:vg,useLayoutEffect:wg,useMemo:Sg,useReducer:oh,useRef:yg,useState:function(){return oh(bl)},useDebugValue:kf,useDeferredValue:function(t){var e=dr();return Eg(e,$t.memoizedState,t)},useTransition:function(){var t=oh(bl)[0],e=dr().memoizedState;return[t,e]},useMutableSource:cg,useSyncExternalStore:hg,useId:Tg,unstable_isNewReconciler:!1},Ty={readContext:hr,useCallback:bg,useContext:hr,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:vg,useLayoutEffect:wg,useMemo:Sg,useReducer:ah,useRef:yg,useState:function(){return ah(bl)},useDebugValue:kf,useDeferredValue:function(t){var e=dr();return $t===null?e.memoizedState=t:Eg(e,$t.memoizedState,t)},useTransition:function(){var t=ah(bl)[0],e=dr().memoizedState;return[t,e]},useMutableSource:cg,useSyncExternalStore:hg,useId:Tg,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function od(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qu={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=ii(t),o=_s(r,s);o.payload=e,n!=null&&(o.callback=n),e=ri(t,o,s),e!==null&&(Tr(e,t,s,r),z0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=ii(t),o=_s(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ri(t,o,s),e!==null&&(Tr(e,t,s,r),z0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=ii(t),s=_s(n,r);s.tag=2,e!=null&&(s.callback=e),e=ri(t,s,r),e!==null&&(Tr(e,t,r,n),z0(e,t,r))}};function fp(t,e,n,r,s,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(s,o):!0}function Cg(t,e,n){var r=!1,s=hi,o=e.contextType;return typeof o=="object"&&o!==null?o=hr(o):(s=zn(e)?qi:vn.current,r=e.contextTypes,o=(r=r!=null)?$o(t,s):hi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function mp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function ad(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=hr(o):(o=zn(e)?qi:vn.current,s.context=$o(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(od(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qu.enqueueReplaceState(s,s.state,null),uu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=Z6(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function lh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ld(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ky=typeof WeakMap=="function"?WeakMap:Map;function Ng(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mu||(mu=!0,vd=r),ld(t,e)},n}function Rg(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ld(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ld(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function pp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ky;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=By.bind(null,t,e,n),e.then(t,t))}function gp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var Ay=Ns.ReactCurrentOwner,Dn=!1;function Tn(t,e,n,r){e.child=t===null?og(e,null,n,r):Go(e,t.child,n,r)}function vp(t,e,n,r,s){n=n.render;var o=e.ref;return Bo(e,s),r=Sf(t,e,n,r,o,s),n=Ef(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ks(t,e,s)):(vt&&n&&hf(e),e.flags|=1,Tn(t,e,r,s),e.child)}function wp(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Df(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Pg(t,e,o,r,s)):(t=U0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(c,r)&&t.ref===e.ref)return ks(t,e,s)}return e.flags|=1,t=oi(o,r),t.ref=e.ref,t.return=e,e.child=t}function Pg(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(pl(o,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,ks(t,e,s)}return ud(t,e,n,r,s)}function Mg(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Vo,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(Vo,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ht(Vo,Wn),Wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ht(Vo,Wn),Wn|=r;return Tn(t,e,s,n),e.child}function Dg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ud(t,e,n,r,s){var o=zn(n)?qi:vn.current;return o=$o(e,o),Bo(e,s),n=Sf(t,e,n,r,o,s),r=Ef(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ks(t,e,s)):(vt&&r&&hf(e),e.flags|=1,Tn(t,e,n,s),e.child)}function xp(t,e,n,r,s){if(zn(n)){var o=!0;su(e)}else o=!1;if(Bo(e,s),e.stateNode===null)F0(t,e),Cg(e,n,r),ad(e,n,r,s),r=!0;else if(t===null){var c=e.stateNode,d=e.memoizedProps;c.props=d;var p=c.context,x=n.contextType;typeof x=="object"&&x!==null?x=hr(x):(x=zn(n)?qi:vn.current,x=$o(e,x));var k=n.getDerivedStateFromProps,N=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function";N||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||p!==x)&&mp(e,c,r,x),Gs=!1;var R=e.memoizedState;c.state=R,uu(e,r,c,s),p=e.memoizedState,d!==r||R!==p||Vn.current||Gs?(typeof k=="function"&&(od(e,n,k,r),p=e.memoizedState),(d=Gs||fp(e,n,d,r,R,p,x))?(N||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),c.props=r,c.state=p,c.context=x,r=d):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,lg(t,e),d=e.memoizedProps,x=e.type===e.elementType?d:xr(e.type,d),c.props=x,N=e.pendingProps,R=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=hr(p):(p=zn(n)?qi:vn.current,p=$o(e,p));var H=n.getDerivedStateFromProps;(k=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==N||R!==p)&&mp(e,c,r,p),Gs=!1,R=e.memoizedState,c.state=R,uu(e,r,c,s);var Y=e.memoizedState;d!==N||R!==Y||Vn.current||Gs?(typeof H=="function"&&(od(e,n,H,r),Y=e.memoizedState),(x=Gs||fp(e,n,x,r,R,Y,p)||!1)?(k||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,p)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),c.props=r,c.state=Y,c.context=p,r=x):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&R===t.memoizedState||(e.flags|=1024),r=!1)}return cd(t,e,n,r,o,s)}function cd(t,e,n,r,s,o){Dg(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return s&&ip(e,n,!1),ks(t,e,o);r=e.stateNode,Ay.current=e;var d=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=Go(e,t.child,null,o),e.child=Go(e,null,d,o)):Tn(t,e,d,o),e.memoizedState=r.state,s&&ip(e,n,!0),e.child}function Vg(t){var e=t.stateNode;e.pendingContext?sp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sp(t,e.context,!1),wf(t,e.containerInfo)}function _p(t,e,n,r,s){return Wo(),ff(s),e.flags|=256,Tn(t,e,n,r),e.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function dd(t){return{baseLanes:t,cachePool:null,transitions:null}}function zg(t,e,n){var r=e.pendingProps,s=Et.current,o=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(s&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ht(Et,s&1),t===null)return sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Wu(c,r,0,null),t=ji(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dd(n),e.memoizedState=hd,t):Af(e,c));if(s=t.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return Iy(t,e,c,r,d,s,n);if(o){o=r.fallback,c=e.mode,s=t.child,d=s.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=oi(s,p),r.subtreeFlags=s.subtreeFlags&14680064),d!==null?o=oi(d,o):(o=ji(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?dd(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=hd,r}return o=t.child,t=o.sibling,r=oi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Af(t,e){return e=Wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function b0(t,e,n,r){return r!==null&&ff(r),Go(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Iy(t,e,n,r,s,o,c){if(n)return e.flags&256?(e.flags&=-257,r=lh(Error(de(422))),b0(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Wu({mode:"visible",children:r.children},s,0,null),o=ji(o,s,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Go(e,t.child,null,c),e.child.memoizedState=dd(c),e.memoizedState=hd,o);if(!(e.mode&1))return b0(t,e,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(de(419)),r=lh(o,r,void 0),b0(t,e,c,r)}if(d=(c&t.childLanes)!==0,Dn||d){if(r=Zt,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ts(t,s),Tr(r,t,s,-1))}return Mf(),r=lh(Error(de(421))),b0(t,e,c,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jy.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Gn=ni(s.nextSibling),Qn=e,vt=!0,br=null,t!==null&&(or[ar++]=vs,or[ar++]=ws,or[ar++]=Hi,vs=t.id,ws=t.overflow,Hi=e),e=Af(e,r.children),e.flags|=4096,e)}function bp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),id(t.return,e,n)}function uh(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Lg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Tn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bp(t,n,e);else if(t.tag===19)bp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ht(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uh(e,!0,n,null,o);break;case"together":uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function F0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cy(t,e,n){switch(e.tag){case 3:Vg(e),Wo();break;case 5:ug(e);break;case 1:zn(e.type)&&su(e);break;case 4:wf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ht(au,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ht(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?zg(t,e,n):(ht(Et,Et.current&1),t=ks(t,e,n),t!==null?t.sibling:null);ht(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Lg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,Mg(t,e,n)}return ks(t,e,n)}var Og,fd,Fg,Bg;Og=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fd=function(){};Fg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Li(Ur.current);var o=null;switch(n){case"input":s=Vh(t,s),r=Vh(t,r),o=[];break;case"select":s=kt({},s,{value:void 0}),r=kt({},r,{value:void 0}),o=[];break;case"textarea":s=Oh(t,s),r=Oh(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nu)}Bh(n,r);var c;n=null;for(x in s)if(!r.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var d=s[x];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(ll.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in r){var p=r[x];if(d=s!=null?s[x]:void 0,r.hasOwnProperty(x)&&p!==d&&(p!=null||d!=null))if(x==="style")if(d){for(c in d)!d.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&d[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(x,n)),n=p;else x==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(o=o||[]).push(x,p)):x==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(x,""+p):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(ll.hasOwnProperty(x)?(p!=null&&x==="onScroll"&&mt("scroll",t),o||d===p||(o=[])):(o=o||[]).push(x,p))}n&&(o=o||[]).push("style",n);var x=o;(e.updateQueue=x)&&(e.flags|=4)}};Bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function za(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ny(t,e,n){var r=e.pendingProps;switch(df(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return zn(e.type)&&ru(),fn(e),null;case 3:return r=e.stateNode,Qo(),pt(Vn),pt(vn),_f(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(x0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(_d(br),br=null))),fd(t,e),fn(e),null;case 5:xf(e);var s=Li(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)Fg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return fn(e),null}if(t=Li(Ur.current),x0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Br]=e,r[vl]=o,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(s=0;s<Ua.length;s++)mt(Ua[s],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":R1(r,o),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},mt("invalid",r);break;case"textarea":M1(r,o),mt("invalid",r)}Bh(n,o),s=null;for(var c in o)if(o.hasOwnProperty(c)){var d=o[c];c==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&w0(r.textContent,d,t),s=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&w0(r.textContent,d,t),s=["children",""+d]):ll.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&mt("scroll",r)}switch(n){case"input":h0(r),P1(r,o,!0);break;case"textarea":h0(r),D1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Br]=e,t[vl]=r,Og(t,e,!1,!1),e.stateNode=t;e:{switch(c=jh(n,r),n){case"dialog":mt("cancel",t),mt("close",t),s=r;break;case"iframe":case"object":case"embed":mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ua.length;s++)mt(Ua[s],t);s=r;break;case"source":mt("error",t),s=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),s=r;break;case"details":mt("toggle",t),s=r;break;case"input":R1(t,r),s=Vh(t,r),mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=kt({},r,{value:void 0}),mt("invalid",t);break;case"textarea":M1(t,r),s=Oh(t,r),mt("invalid",t);break;default:s=r}Bh(n,s),d=s;for(o in d)if(d.hasOwnProperty(o)){var p=d[o];o==="style"?y2(t,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&p2(t,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&ul(t,p):typeof p=="number"&&ul(t,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?p!=null&&o==="onScroll"&&mt("scroll",t):p!=null&&Xd(t,o,p,c))}switch(n){case"input":h0(t),P1(t,r,!1);break;case"textarea":h0(t),D1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zo(t,!!r.multiple,o,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)Bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=Li(xl.current),Li(Ur.current),x0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(o=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:w0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&w0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return fn(e),null;case 13:if(pt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Gn!==null&&e.mode&1&&!(e.flags&128))sg(),Wo(),e.flags|=98560,o=!1;else if(o=x0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(de(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(de(317));o[Br]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),o=!1}else br!==null&&(_d(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Gt===0&&(Gt=3):Mf())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Qo(),fd(t,e),t===null&&gl(e.stateNode.containerInfo),fn(e),null;case 10:return gf(e.type._context),fn(e),null;case 17:return zn(e.type)&&ru(),fn(e),null;case 19:if(pt(Et),o=e.memoizedState,o===null)return fn(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)za(o,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=cu(t),c!==null){for(e.flags|=128,za(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(Et,Et.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>Xo&&(e.flags|=128,r=!0,za(o,!1),e.lanes=4194304)}else{if(!r)if(t=cu(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),za(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!vt)return fn(e),null}else 2*Dt()-o.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,za(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=Et.current,ht(Et,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return Pf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function Ry(t,e){switch(df(e),e.tag){case 1:return zn(e.type)&&ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),pt(Vn),pt(vn),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xf(e),null;case 13:if(pt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(Et),null;case 4:return Qo(),null;case 10:return gf(e.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var S0=!1,gn=!1,Py=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function md(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var Sp=!1;function My(t,e){if(Yh=Z0,t=$2(),cf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,d=-1,p=-1,x=0,k=0,N=t,R=null;t:for(;;){for(var H;N!==n||s!==0&&N.nodeType!==3||(d=c+s),N!==o||r!==0&&N.nodeType!==3||(p=c+r),N.nodeType===3&&(c+=N.nodeValue.length),(H=N.firstChild)!==null;)R=N,N=H;for(;;){if(N===t)break t;if(R===n&&++x===s&&(d=c),R===o&&++k===r&&(p=c),(H=N.nextSibling)!==null)break;N=R,R=N.parentNode}N=H}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jh={focusedElem:t,selectionRange:n},Z0=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var Y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var ee=Y.memoizedProps,G=Y.memoizedState,F=e.stateNode,M=F.getSnapshotBeforeUpdate(e.elementType===e.type?ee:xr(e.type,ee),G);F.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(J){Nt(e,e.return,J)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return Y=Sp,Sp=!1,Y}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&md(e,n,o)}s=s.next}while(s!==r)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jg(t){var e=t.alternate;e!==null&&(t.alternate=null,jg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[vl],delete e[td],delete e[py],delete e[gy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ug(t){return t.tag===5||t.tag===3||t.tag===4}function Ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nu));else if(r!==4&&(t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}function yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yd(t,e,n),t=t.sibling;t!==null;)yd(t,e,n),t=t.sibling}var nn=null,_r=!1;function Hs(t,e,n){for(n=n.child;n!==null;)qg(t,e,n),n=n.sibling}function qg(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:gn||Do(n,e);case 6:var r=nn,s=_r;nn=null,Hs(t,e,n),nn=r,_r=s,nn!==null&&(_r?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(_r?(t=nn,n=n.stateNode,t.nodeType===8?nh(t.parentNode,n):t.nodeType===1&&nh(t,n),fl(t)):nh(nn,n.stateNode));break;case 4:r=nn,s=_r,nn=n.stateNode.containerInfo,_r=!0,Hs(t,e,n),nn=r,_r=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&md(n,e,c),s=s.next}while(s!==r)}Hs(t,e,n);break;case 1:if(!gn&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Nt(n,e,d)}Hs(t,e,n);break;case 21:Hs(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,Hs(t,e,n),gn=r):Hs(t,e,n);break;default:Hs(t,e,n)}}function Tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Py),e.forEach(function(r){var s=Uy.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,c=e,d=c;e:for(;d!==null;){switch(d.tag){case 5:nn=d.stateNode,_r=!1;break e;case 3:nn=d.stateNode.containerInfo,_r=!0;break e;case 4:nn=d.stateNode.containerInfo,_r=!0;break e}d=d.return}if(nn===null)throw Error(de(160));qg(o,c,s),nn=null,_r=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(x){Nt(s,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hg(e,t),e=e.sibling}function Hg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Or(t),r&4){try{Za(3,t,t.return),Hu(3,t)}catch(ee){Nt(t,t.return,ee)}try{Za(5,t,t.return)}catch(ee){Nt(t,t.return,ee)}}break;case 1:wr(e,t),Or(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(wr(e,t),Or(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var s=t.stateNode;try{ul(s,"")}catch(ee){Nt(t,t.return,ee)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,d=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&d2(s,o),jh(d,c);var x=jh(d,o);for(c=0;c<p.length;c+=2){var k=p[c],N=p[c+1];k==="style"?y2(s,N):k==="dangerouslySetInnerHTML"?p2(s,N):k==="children"?ul(s,N):Xd(s,k,N,x)}switch(d){case"input":zh(s,o);break;case"textarea":f2(s,o);break;case"select":var R=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var H=o.value;H!=null?zo(s,!!o.multiple,H,!1):R!==!!o.multiple&&(o.defaultValue!=null?zo(s,!!o.multiple,o.defaultValue,!0):zo(s,!!o.multiple,o.multiple?[]:"",!1))}s[vl]=o}catch(ee){Nt(t,t.return,ee)}}break;case 6:if(wr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(ee){Nt(t,t.return,ee)}}break;case 3:if(wr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(ee){Nt(t,t.return,ee)}break;case 4:wr(e,t),Or(t);break;case 13:wr(e,t),Or(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Nf=Dt())),r&4&&Tp(t);break;case 22:if(k=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(x=gn)||k,wr(e,t),gn=x):wr(e,t),Or(t),r&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!k&&t.mode&1)for(_e=t,k=t.child;k!==null;){for(N=_e=k;_e!==null;){switch(R=_e,H=R.child,R.tag){case 0:case 11:case 14:case 15:Za(4,R,R.return);break;case 1:Do(R,R.return);var Y=R.stateNode;if(typeof Y.componentWillUnmount=="function"){r=R,n=R.return;try{e=r,Y.props=e.memoizedProps,Y.state=e.memoizedState,Y.componentWillUnmount()}catch(ee){Nt(r,n,ee)}}break;case 5:Do(R,R.return);break;case 22:if(R.memoizedState!==null){Ap(N);continue}}H!==null?(H.return=R,_e=H):Ap(N)}k=k.sibling}e:for(k=null,N=t;;){if(N.tag===5){if(k===null){k=N;try{s=N.stateNode,x?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=N.stateNode,p=N.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=g2("display",c))}catch(ee){Nt(t,t.return,ee)}}}else if(N.tag===6){if(k===null)try{N.stateNode.nodeValue=x?"":N.memoizedProps}catch(ee){Nt(t,t.return,ee)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;k===N&&(k=null),N=N.return}k===N&&(k=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:wr(e,t),Or(t),r&4&&Tp(t);break;case 21:break;default:wr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ug(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ul(s,""),r.flags&=-33);var o=Ep(t);yd(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,d=Ep(t);gd(t,d,c);break;default:throw Error(de(161))}}catch(p){Nt(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dy(t,e,n){_e=t,$g(t)}function $g(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,o=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||S0;if(!c){var d=s.alternate,p=d!==null&&d.memoizedState!==null||gn;d=S0;var x=gn;if(S0=c,(gn=p)&&!x)for(_e=s;_e!==null;)c=_e,p=c.child,c.tag===22&&c.memoizedState!==null?Ip(s):p!==null?(p.return=c,_e=p):Ip(s);for(;o!==null;)_e=o,$g(o),o=o.sibling;_e=s,S0=d,gn=x}kp(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,_e=o):kp(t)}}function kp(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&cp(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cp(e,c,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var k=x.memoizedState;if(k!==null){var N=k.dehydrated;N!==null&&fl(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}gn||e.flags&512&&pd(e)}catch(R){Nt(e,e.return,R)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Ap(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Ip(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hu(4,e)}catch(p){Nt(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(p){Nt(e,s,p)}}var o=e.return;try{pd(e)}catch(p){Nt(e,o,p)}break;case 5:var c=e.return;try{pd(e)}catch(p){Nt(e,c,p)}}}catch(p){Nt(e,e.return,p)}if(e===t){_e=null;break}var d=e.sibling;if(d!==null){d.return=e.return,_e=d;break}_e=e.return}}var Vy=Math.ceil,fu=Ns.ReactCurrentDispatcher,If=Ns.ReactCurrentOwner,cr=Ns.ReactCurrentBatchConfig,Qe=0,Zt=null,Bt=null,on=0,Wn=0,Vo=gi(0),Gt=0,El=null,Wi=0,$u=0,Cf=0,el=null,Mn=null,Nf=0,Xo=1/0,gs=null,mu=!1,vd=null,si=null,E0=!1,Ys=null,pu=0,tl=0,wd=null,B0=-1,j0=0;function kn(){return Qe&6?Dt():B0!==-1?B0:B0=Dt()}function ii(t){return t.mode&1?Qe&2&&on!==0?on&-on:vy.transition!==null?(j0===0&&(j0=C2()),j0):(t=it,t!==0||(t=window.event,t=t===void 0?16:z2(t.type)),t):1}function Tr(t,e,n,r){if(50<tl)throw tl=0,wd=null,Error(de(185));Vl(t,n,r),(!(Qe&2)||t!==Zt)&&(t===Zt&&(!(Qe&2)&&($u|=n),Gt===4&&Ks(t,on)),Ln(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Xo=Dt()+500,ju&&yi()))}function Ln(t,e){var n=t.callbackNode;v7(t,e);var r=J0(t,t===Zt?on:0);if(r===0)n!==null&&L1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L1(n),e===1)t.tag===0?yy(Cp.bind(null,t)):tg(Cp.bind(null,t)),fy(function(){!(Qe&6)&&yi()}),n=null;else{switch(N2(r)){case 1:n=tf;break;case 4:n=A2;break;case 16:n=Y0;break;case 536870912:n=I2;break;default:n=Y0}n=Zg(n,Wg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wg(t,e){if(B0=-1,j0=0,Qe&6)throw Error(de(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=J0(t,t===Zt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gu(t,r);else{e=r;var s=Qe;Qe|=2;var o=Qg();(Zt!==t||on!==e)&&(gs=null,Xo=Dt()+500,Bi(t,e));do try{Oy();break}catch(d){Gg(t,d)}while(!0);pf(),fu.current=o,Qe=s,Bt!==null?e=0:(Zt=null,on=0,e=Gt)}if(e!==0){if(e===2&&(s=Wh(t),s!==0&&(r=s,e=xd(t,s))),e===1)throw n=El,Bi(t,0),Ks(t,r),Ln(t,Dt()),n;if(e===6)Ks(t,r);else{if(s=t.current.alternate,!(r&30)&&!zy(s)&&(e=gu(t,r),e===2&&(o=Wh(t),o!==0&&(r=o,e=xd(t,o))),e===1))throw n=El,Bi(t,0),Ks(t,r),Ln(t,Dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:Mi(t,Mn,gs);break;case 3:if(Ks(t,r),(r&130023424)===r&&(e=Nf+500-Dt(),10<e)){if(J0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ed(Mi.bind(null,t,Mn,gs),e);break}Mi(t,Mn,gs);break;case 4:if(Ks(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var c=31-Er(r);o=1<<c,c=e[c],c>s&&(s=c),r&=~o}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vy(r/1960))-r,10<r){t.timeoutHandle=ed(Mi.bind(null,t,Mn,gs),r);break}Mi(t,Mn,gs);break;case 5:Mi(t,Mn,gs);break;default:throw Error(de(329))}}}return Ln(t,Dt()),t.callbackNode===n?Wg.bind(null,t):null}function xd(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=gu(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&_d(e)),t}function _d(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function zy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ar(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(t,e){for(e&=~Cf,e&=~$u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function Cp(t){if(Qe&6)throw Error(de(327));jo();var e=J0(t,0);if(!(e&1))return Ln(t,Dt()),null;var n=gu(t,e);if(t.tag!==0&&n===2){var r=Wh(t);r!==0&&(e=r,n=xd(t,r))}if(n===1)throw n=El,Bi(t,0),Ks(t,e),Ln(t,Dt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,Mn,gs),Ln(t,Dt()),null}function Rf(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Xo=Dt()+500,ju&&yi())}}function Gi(t){Ys!==null&&Ys.tag===0&&!(Qe&6)&&jo();var e=Qe;Qe|=1;var n=cr.transition,r=it;try{if(cr.transition=null,it=1,t)return t()}finally{it=r,cr.transition=n,Qe=e,!(Qe&6)&&yi()}}function Pf(){Wn=Vo.current,pt(Vo)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dy(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(df(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ru();break;case 3:Qo(),pt(Vn),pt(vn),_f();break;case 5:xf(r);break;case 4:Qo();break;case 13:pt(Et);break;case 19:pt(Et);break;case 10:gf(r.type._context);break;case 22:case 23:Pf()}n=n.return}if(Zt=t,Bt=t=oi(t.current,null),on=Wn=e,Gt=0,El=null,Cf=$u=Wi=0,Mn=el=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=s,r.next=c}n.pending=r}zi=null}return t}function Gg(t,e){do{var n=Bt;try{if(pf(),L0.current=du,hu){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hu=!1}if($i=0,Jt=$t=Tt=null,Ja=!1,_l=0,If.current=null,n===null||n.return===null){Gt=1,El=e,Bt=null;break}e:{var o=t,c=n.return,d=n,p=e;if(e=on,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var x=p,k=d,N=k.tag;if(!(k.mode&1)&&(N===0||N===11||N===15)){var R=k.alternate;R?(k.updateQueue=R.updateQueue,k.memoizedState=R.memoizedState,k.lanes=R.lanes):(k.updateQueue=null,k.memoizedState=null)}var H=gp(c);if(H!==null){H.flags&=-257,yp(H,c,d,o,e),H.mode&1&&pp(o,x,e),e=H,p=x;var Y=e.updateQueue;if(Y===null){var ee=new Set;ee.add(p),e.updateQueue=ee}else Y.add(p);break e}else{if(!(e&1)){pp(o,x,e),Mf();break e}p=Error(de(426))}}else if(vt&&d.mode&1){var G=gp(c);if(G!==null){!(G.flags&65536)&&(G.flags|=256),yp(G,c,d,o,e),ff(Ko(p,d));break e}}o=p=Ko(p,d),Gt!==4&&(Gt=2),el===null?el=[o]:el.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var F=Ng(o,p,e);up(o,F);break e;case 1:d=p;var M=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(si===null||!si.has(j)))){o.flags|=65536,e&=-e,o.lanes|=e;var J=Rg(o,d,e);up(o,J);break e}}o=o.return}while(o!==null)}Xg(n)}catch(oe){e=oe,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function Qg(){var t=fu.current;return fu.current=du,t===null?du:t}function Mf(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Zt===null||!(Wi&268435455)&&!($u&268435455)||Ks(Zt,on)}function gu(t,e){var n=Qe;Qe|=2;var r=Qg();(Zt!==t||on!==e)&&(gs=null,Bi(t,e));do try{Ly();break}catch(s){Gg(t,s)}while(!0);if(pf(),Qe=n,fu.current=r,Bt!==null)throw Error(de(261));return Zt=null,on=0,Gt}function Ly(){for(;Bt!==null;)Kg(Bt)}function Oy(){for(;Bt!==null&&!u7();)Kg(Bt)}function Kg(t){var e=Jg(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?Xg(t):Bt=e,If.current=null}function Xg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ry(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Bt=null;return}}else if(n=Ny(n,e,Wn),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Mi(t,e,n){var r=it,s=cr.transition;try{cr.transition=null,it=1,Fy(t,e,n,r)}finally{cr.transition=s,it=r}return null}function Fy(t,e,n,r){do jo();while(Ys!==null);if(Qe&6)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(w7(t,o),t===Zt&&(Bt=Zt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||E0||(E0=!0,Zg(Y0,function(){return jo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var c=it;it=1;var d=Qe;Qe|=4,If.current=null,My(t,n),Hg(n,t),iy(Jh),Z0=!!Yh,Jh=Yh=null,t.current=n,Dy(n),c7(),Qe=d,it=c,cr.transition=o}else t.current=n;if(E0&&(E0=!1,Ys=t,pu=s),o=t.pendingLanes,o===0&&(si=null),f7(n.stateNode),Ln(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mu)throw mu=!1,t=vd,vd=null,t;return pu&1&&t.tag!==0&&jo(),o=t.pendingLanes,o&1?t===wd?tl++:(tl=0,wd=t):tl=0,yi(),null}function jo(){if(Ys!==null){var t=N2(pu),e=cr.transition,n=it;try{if(cr.transition=null,it=16>t?16:t,Ys===null)var r=!1;else{if(t=Ys,Ys=null,pu=0,Qe&6)throw Error(de(331));var s=Qe;for(Qe|=4,_e=t.current;_e!==null;){var o=_e,c=o.child;if(_e.flags&16){var d=o.deletions;if(d!==null){for(var p=0;p<d.length;p++){var x=d[p];for(_e=x;_e!==null;){var k=_e;switch(k.tag){case 0:case 11:case 15:Za(8,k,o)}var N=k.child;if(N!==null)N.return=k,_e=N;else for(;_e!==null;){k=_e;var R=k.sibling,H=k.return;if(jg(k),k===x){_e=null;break}if(R!==null){R.return=H,_e=R;break}_e=H}}}var Y=o.alternate;if(Y!==null){var ee=Y.child;if(ee!==null){Y.child=null;do{var G=ee.sibling;ee.sibling=null,ee=G}while(ee!==null)}}_e=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,_e=c;else e:for(;_e!==null;){if(o=_e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var F=o.sibling;if(F!==null){F.return=o.return,_e=F;break e}_e=o.return}}var M=t.current;for(_e=M;_e!==null;){c=_e;var j=c.child;if(c.subtreeFlags&2064&&j!==null)j.return=c,_e=j;else e:for(c=M;_e!==null;){if(d=_e,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Hu(9,d)}}catch(oe){Nt(d,d.return,oe)}if(d===c){_e=null;break e}var J=d.sibling;if(J!==null){J.return=d.return,_e=J;break e}_e=d.return}}if(Qe=s,yi(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(zu,t)}catch{}r=!0}return r}finally{it=n,cr.transition=e}}return!1}function Np(t,e,n){e=Ko(n,e),e=Ng(t,e,1),t=ri(t,e,1),e=kn(),t!==null&&(Vl(t,1,e),Ln(t,e))}function Nt(t,e,n){if(t.tag===3)Np(t,t,n);else for(;e!==null;){if(e.tag===3){Np(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=Ko(n,t),t=Rg(e,t,1),e=ri(e,t,1),t=kn(),e!==null&&(Vl(e,1,t),Ln(e,t));break}}e=e.return}}function By(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(on&n)===n&&(Gt===4||Gt===3&&(on&130023424)===on&&500>Dt()-Nf?Bi(t,0):Cf|=n),Ln(t,e)}function Yg(t,e){e===0&&(t.mode&1?(e=m0,m0<<=1,!(m0&130023424)&&(m0=4194304)):e=1);var n=kn();t=Ts(t,e),t!==null&&(Vl(t,e,n),Ln(t,n))}function jy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yg(t,n)}function Uy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),Yg(t,n)}var Jg;Jg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,Cy(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,vt&&e.flags&1048576&&ng(e,ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;F0(t,e),t=e.pendingProps;var s=$o(e,vn.current);Bo(e,n),s=Sf(null,e,r,t,s,n);var o=Ef();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(o=!0,su(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vf(e),s.updater=qu,e.stateNode=s,s._reactInternals=e,ad(e,r,t,n),e=cd(null,e,r,!0,o,n)):(e.tag=0,vt&&o&&hf(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(F0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Hy(r),t=xr(r,t),s){case 0:e=ud(null,e,r,t,n);break e;case 1:e=xp(null,e,r,t,n);break e;case 11:e=vp(null,e,r,t,n);break e;case 14:e=wp(null,e,r,xr(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xr(r,s),ud(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xr(r,s),xp(t,e,r,s,n);case 3:e:{if(Vg(e),t===null)throw Error(de(387));r=e.pendingProps,o=e.memoizedState,s=o.element,lg(t,e),uu(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Ko(Error(de(423)),e),e=_p(t,e,r,n,s);break e}else if(r!==s){s=Ko(Error(de(424)),e),e=_p(t,e,r,n,s);break e}else for(Gn=ni(e.stateNode.containerInfo.firstChild),Qn=e,vt=!0,br=null,n=og(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===s){e=ks(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return ug(e),t===null&&sd(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,c=s.children,Zh(r,s)?c=null:o!==null&&Zh(r,o)&&(e.flags|=32),Dg(t,e),Tn(t,e,c,n),e.child;case 6:return t===null&&sd(e),null;case 13:return zg(t,e,n);case 4:return wf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xr(r,s),vp(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,c=s.value,ht(au,r._currentValue),r._currentValue=c,o!==null)if(Ar(o.value,c)){if(o.children===s.children&&!Vn.current){e=ks(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){c=o.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=_s(-1,n&-n),p.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var k=x.pending;k===null?p.next=p:(p.next=k.next,k.next=p),x.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),id(o.return,n,e),d.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(de(341));c.lanes|=n,d=c.alternate,d!==null&&(d.lanes|=n),id(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=hr(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=xr(r,e.pendingProps),s=xr(r.type,s),wp(t,e,r,s,n);case 15:return Pg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xr(r,s),F0(t,e),e.tag=1,zn(r)?(t=!0,su(e)):t=!1,Bo(e,n),Cg(e,r,s),ad(e,r,s,n),cd(null,e,r,!0,t,n);case 19:return Lg(t,e,n);case 22:return Mg(t,e,n)}throw Error(de(156,e.tag))};function Zg(t,e){return k2(t,e)}function qy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new qy(t,e,n,r)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hy(t){if(typeof t=="function")return Df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jd)return 11;if(t===Zd)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function U0(t,e,n,r,s,o){var c=2;if(r=t,typeof t=="function")Df(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case To:return ji(n.children,s,o,e);case Yd:c=8,s|=8;break;case Rh:return t=ur(12,n,e,s|2),t.elementType=Rh,t.lanes=o,t;case Ph:return t=ur(13,n,e,s),t.elementType=Ph,t.lanes=o,t;case Mh:return t=ur(19,n,e,s),t.elementType=Mh,t.lanes=o,t;case u2:return Wu(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a2:c=10;break e;case l2:c=9;break e;case Jd:c=11;break e;case Zd:c=14;break e;case Ws:c=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=ur(c,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function ji(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function Wu(t,e,n,r){return t=ur(22,t,r,e),t.elementType=u2,t.lanes=n,t.stateNode={isHidden:!1},t}function ch(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function hh(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $y(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vf(t,e,n,r,s,o,c,d,p){return t=new $y(t,e,n,d,p),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ur(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(o),t}function Wy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e5(t){if(!t)return hi;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(zn(n))return eg(t,n,e)}return e}function t5(t,e,n,r,s,o,c,d,p){return t=Vf(n,r,!0,t,s,o,c,d,p),t.context=e5(null),n=t.current,r=kn(),s=ii(n),o=_s(r,s),o.callback=e??null,ri(n,o,s),t.current.lanes=s,Vl(t,s,r),Ln(t,r),t}function Gu(t,e,n,r){var s=e.current,o=kn(),c=ii(s);return n=e5(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(s,e,c),t!==null&&(Tr(t,s,c,o),z0(t,s,c)),c}function yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zf(t,e){Rp(t,e),(t=t.alternate)&&Rp(t,e)}function Gy(){return null}var n5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lf(t){this._internalRoot=t}Qu.prototype.render=Lf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Gu(t,e,null,null)};Qu.prototype.unmount=Lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){Gu(null,t,null,null)}),e[Es]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=M2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&V2(t)}};function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function Qy(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var x=yu(c);o.call(x)}}var c=t5(e,r,t,0,null,!1,!1,"",Pp);return t._reactRootContainer=c,t[Es]=c.current,gl(t.nodeType===8?t.parentNode:t),Gi(),c}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var d=r;r=function(){var x=yu(p);d.call(x)}}var p=Vf(t,0,!1,null,null,!1,!1,"",Pp);return t._reactRootContainer=p,t[Es]=p.current,gl(t.nodeType===8?t.parentNode:t),Gi(function(){Gu(e,p,n,r)}),p}function Xu(t,e,n,r,s){var o=n._reactRootContainer;if(o){var c=o;if(typeof s=="function"){var d=s;s=function(){var p=yu(c);d.call(p)}}Gu(e,c,t,s)}else c=Qy(n,e,t,s,r);return yu(c)}R2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(nf(e,n|1),Ln(e,Dt()),!(Qe&6)&&(Xo=Dt()+500,yi()))}break;case 13:Gi(function(){var r=Ts(t,1);if(r!==null){var s=kn();Tr(r,t,1,s)}}),zf(t,1)}};rf=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var n=kn();Tr(e,t,134217728,n)}zf(t,134217728)}};P2=function(t){if(t.tag===13){var e=ii(t),n=Ts(t,e);if(n!==null){var r=kn();Tr(n,t,e,r)}zf(t,e)}};M2=function(){return it};D2=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};qh=function(t,e,n){switch(e){case"input":if(zh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bu(r);if(!s)throw Error(de(90));h2(r),zh(r,s)}}}break;case"textarea":f2(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};x2=Rf;_2=Gi;var Ky={usingClientEntryPoint:!1,Events:[Ll,Co,Bu,v2,w2,Rf]},La={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xy={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E2(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T0.isDisabled&&T0.supportsFiber)try{zu=T0.inject(Xy),jr=T0}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(e))throw Error(de(200));return Wy(t,e,null,n)};Xn.createRoot=function(t,e){if(!Of(t))throw Error(de(299));var n=!1,r="",s=n5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vf(t,1,!1,null,null,n,!1,r,s),t[Es]=e.current,gl(t.nodeType===8?t.parentNode:t),new Lf(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=E2(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Gi(t)};Xn.hydrate=function(t,e,n){if(!Ku(e))throw Error(de(200));return Xu(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!Of(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",c=n5;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=t5(e,null,t,1,n??null,s,!1,o,c),t[Es]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qu(e)};Xn.render=function(t,e,n){if(!Ku(e))throw Error(de(200));return Xu(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(de(40));return t._reactRootContainer?(Gi(function(){Xu(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};Xn.unstable_batchedUpdates=Rf;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ku(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Xu(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function r5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r5)}catch(t){console.error(t)}}r5(),r2.exports=Xn;var Yy=r2.exports,Mp=Yy;Ch.createRoot=Mp.createRoot,Ch.hydrateRoot=Mp.hydrateRoot;const Jy=({title:t,score:e,total:n,questionIndex:r})=>I.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"font-display text-3xl font-semibold text-rose-500",children:t}),I.jsxs("p",{className:"text-base font-medium text-cocoa-300",children:["Question ",r+1," of ",n]})]}),I.jsxs("div",{className:"text-right text-lg font-semibold text-rose-500",children:["Score: ",e,"/",n]})]});var bd={exports:{}},dh={exports:{}},fh,Dp;function Zy(){if(Dp)return fh;Dp=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fh=t,fh}var mh,Vp;function e8(){if(Vp)return mh;Vp=1;var t=Zy();function e(){}function n(){}return n.resetWarningCache=e,mh=function(){function r(c,d,p,x,k,N){if(N!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},mh}var zp;function t8(){return zp||(zp=1,dh.exports=e8()()),dh.exports}var ph={exports:{}},Lp;function n8(){return Lp||(Lp=1,function(t,e){(function(r,s){t.exports=s()})(typeof self<"u"?self:$4,function(){return function(){var n={};(function(){n.d=function(a,i){for(var l in i)n.o(i,l)&&!n.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:i[l]})}})(),function(){n.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)}}();var r={};n.d(r,{default:function(){return _6}});class s{constructor(i,l){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let h="KaTeX parse error: "+i,f,y;const _=l&&l.loc;if(_&&_.start<=_.end){const C=_.lexer.input;f=_.start,y=_.end,f===C.length?h+=" at end of input: ":h+=" at position "+(f+1)+": ";const B=C.slice(f,y).replace(/[^]/g,"$&");let W;f>15?W=""+C.slice(f-15,f):W=C.slice(0,f);let Q;y+15<C.length?Q=C.slice(y,y+15)+"":Q=C.slice(y),h+=W+B+Q}const E=new Error(h);return E.name="ParseError",E.__proto__=s.prototype,E.position=f,f!=null&&y!=null&&(E.length=y-f),E.rawMessage=i,E}}s.prototype.__proto__=Error.prototype;var o=s;const c=function(a,i){return a===void 0?i:a},d=/([A-Z])/g,p=function(a){return a.replace(d,"-$1").toLowerCase()},x={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},k=/[&><"']/g;function N(a){return String(a).replace(k,i=>x[i])}const R=function(a){return a.type==="ordgroup"||a.type==="color"?a.body.length===1?R(a.body[0]):a:a.type==="font"?R(a.body):a},H=function(a){const i=R(a);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},Y=function(a){if(!a)throw new Error("Expected non-null, but got "+String(a));return a};var G={deflt:c,escape:N,hyphenate:p,getBaseElem:R,isCharacterBox:H,protocolFromUrl:function(a){const i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(a);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"}};const F={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,i)=>(i.push(a),i)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function M(a){if(a.default)return a.default;const i=a.type,l=Array.isArray(i)?i[0]:i;if(typeof l!="string")return l.enum[0];switch(l){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class j{constructor(i){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,i=i||{};for(const l in F)if(F.hasOwnProperty(l)){const h=F[l];this[l]=i[l]!==void 0?h.processor?h.processor(i[l]):i[l]:M(h)}}reportNonstrict(i,l,h){let f=this.strict;if(typeof f=="function"&&(f=f(i,l,h)),!(!f||f==="ignore")){if(f===!0||f==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(l+" ["+i+"]"),h);f==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]"))}}useStrictBehavior(i,l,h){let f=this.strict;if(typeof f=="function")try{f=f(i,l,h)}catch{f="error"}return!f||f==="ignore"?!1:f===!0||f==="error"?!0:f==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+i+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+f+"': "+l+" ["+i+"]")),!1)}isTrusted(i){if(i.url&&!i.protocol){const h=G.protocolFromUrl(i.url);if(h==null)return!1;i.protocol=h}return!!(typeof this.trust=="function"?this.trust(i):this.trust)}}class J{constructor(i,l,h){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=i,this.size=l,this.cramped=h}sup(){return z[Vt[this.id]]}sub(){return z[Ve[this.id]]}fracNum(){return z[Fn[this.id]]}fracDen(){return z[wn[this.id]]}cramp(){return z[ye[this.id]]}text(){return z[Ne[this.id]]}isTight(){return this.size>=2}}const oe=0,se=1,L=2,S=3,D=4,P=5,U=6,$=7,z=[new J(oe,0,!1),new J(se,0,!0),new J(L,1,!1),new J(S,1,!0),new J(D,2,!1),new J(P,2,!0),new J(U,3,!1),new J($,3,!0)],Vt=[D,P,D,P,U,$,U,$],Ve=[P,P,P,P,$,$,$,$],Fn=[L,S,D,P,U,$,U,$],wn=[S,S,P,P,$,$,$,$],ye=[se,se,S,S,P,P,$,$],Ne=[oe,se,L,S,L,S,L,S];var he={DISPLAY:z[oe],TEXT:z[L],SCRIPT:z[D],SCRIPTSCRIPT:z[U]};const je=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ze(a){for(let i=0;i<je.length;i++){const l=je[i];for(let h=0;h<l.blocks.length;h++){const f=l.blocks[h];if(a>=f[0]&&a<=f[1])return l.name}}return null}const nt=[];je.forEach(a=>a.blocks.forEach(i=>nt.push(...i)));function xn(a){for(let i=0;i<nt.length;i+=2)if(a>=nt[i]&&a<=nt[i+1])return!0;return!1}const zt=80,cn=function(a,i){return"M95,"+(622+a+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+a/2.075+" -"+a+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+a)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},jt=function(a,i){return"M263,"+(601+a+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+a/2.084+" -"+a+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+a)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},pa=function(a,i){return"M983 "+(10+a+i)+`
l`+a/3.13+" -"+a+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+a)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+a)+" "+i+"h400000v"+(40+a)+"h-400000z"},vi=function(a,i){return"M424,"+(2398+a+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+a/4.223+" -"+a+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+a)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+a)+" "+i+`
h400000v`+(40+a)+"h-400000z"},Jn=function(a,i){return"M473,"+(2713+a+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+a/5.298+" -"+a+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+a)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+a)+" "+i+"h400000v"+(40+a)+"H1017.7z"},Kr=function(a){const i=a/2;return"M400000 "+a+" H0 L"+i+" 0 l65 45 L145 "+(a-80)+" H400000z"},wi=function(a,i,l){const h=l-54-i-a;return"M702 "+(a+i)+"H400000"+(40+a)+`
H742v`+h+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+a)+"H742z"},Rs=function(a,i,l){i=1e3*i;let h="";switch(a){case"sqrtMain":h=cn(i,zt);break;case"sqrtSize1":h=jt(i,zt);break;case"sqrtSize2":h=pa(i,zt);break;case"sqrtSize3":h=vi(i,zt);break;case"sqrtSize4":h=Jn(i,zt);break;case"sqrtTall":h=wi(i,zt,l)}return h},xi=function(a,i){switch(a){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},Ir={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Cr=function(a,i){switch(a){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var Kt={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ps={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Zn={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function _i(a,i){Kt[a]=i}function Xr(a,i,l){if(!Kt[i])throw new Error("Font metrics not found for font: "+i+".");let h=a.charCodeAt(0),f=Kt[i][h];if(!f&&a[0]in Zn&&(h=Zn[a[0]].charCodeAt(0),f=Kt[i][h]),!f&&l==="text"&&xn(h)&&(f=Kt[i][77]),f)return{depth:f[0],height:f[1],italic:f[2],skew:f[3],width:f[4]}}const bi={};function fr(a){let i;if(a>=5?i=0:a>=3?i=1:i=2,!bi[i]){const l=bi[i]={cssEmPerMu:Ps.quad[i]/18};for(const h in Ps)Ps.hasOwnProperty(h)&&(l[h]=Ps[h][i])}return bi[i]}const Ms=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Yr=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xt=function(a,i){return i.size<2?a:Ms[a-1][i.size-1]};class rt{constructor(i){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=i.style,this.color=i.color,this.size=i.size||rt.BASESIZE,this.textSize=i.textSize||this.size,this.phantom=!!i.phantom,this.font=i.font||"",this.fontFamily=i.fontFamily||"",this.fontWeight=i.fontWeight||"",this.fontShape=i.fontShape||"",this.sizeMultiplier=Yr[this.size-1],this.maxSize=i.maxSize,this.minRuleThickness=i.minRuleThickness,this._fontMetrics=void 0}extend(i){const l={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const h in i)i.hasOwnProperty(h)&&(l[h]=i[h]);return new rt(l)}havingStyle(i){return this.style===i?this:this.extend({style:i,size:xt(this.textSize,i)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(i){return this.size===i&&this.textSize===i?this:this.extend({style:this.style.text(),size:i,textSize:i,sizeMultiplier:Yr[i-1]})}havingBaseStyle(i){i=i||this.style.text();const l=xt(rt.BASESIZE,i);return this.size===l&&this.textSize===rt.BASESIZE&&this.style===i?this:this.extend({style:i,size:l})}havingBaseSizing(){let i;switch(this.style.id){case 4:case 5:i=3;break;case 6:case 7:i=1;break;default:i=6}return this.extend({style:this.style.text(),size:i})}withColor(i){return this.extend({color:i})}withPhantom(){return this.extend({phantom:!0})}withFont(i){return this.extend({font:i})}withTextFontFamily(i){return this.extend({fontFamily:i,font:""})}withTextFontWeight(i){return this.extend({fontWeight:i,font:""})}withTextFontShape(i){return this.extend({fontShape:i,font:""})}sizingClasses(i){return i.size!==this.size?["sizing","reset-size"+i.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==rt.BASESIZE?["sizing","reset-size"+this.size,"size"+rt.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=fr(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}rt.BASESIZE=6;var Ds=rt;const Vs={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},no={ex:!0,em:!0,mu:!0},ro=function(a){return typeof a!="string"&&(a=a.unit),a in Vs||a in no||a==="ex"},Ye=function(a,i){let l;if(a.unit in Vs)l=Vs[a.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(a.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{let h;if(i.style.isTight()?h=i.havingStyle(i.style.text()):h=i,a.unit==="ex")l=h.fontMetrics().xHeight;else if(a.unit==="em")l=h.fontMetrics().quad;else throw new o("Invalid unit: '"+a.unit+"'");h!==i&&(l*=h.sizeMultiplier/i.sizeMultiplier)}return Math.min(a.number*l,i.maxSize)},fe=function(a){return+a.toFixed(4)+"em"},Bn=function(a){return a.filter(i=>i).join(" ")},Jr=function(a,i,l){if(this.classes=a||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");const h=i.getColor();h&&(this.style.color=h)}},zs=function(a){const i=document.createElement(a);i.className=Bn(this.classes);for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(const l in this.attributes)this.attributes.hasOwnProperty(l)&&i.setAttribute(l,this.attributes[l]);for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i},so=/[\s"'>/=\x00-\x1f]/,Ls=function(a){let i="<"+a;this.classes.length&&(i+=' class="'+G.escape(Bn(this.classes))+'"');let l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=G.hyphenate(h)+":"+this.style[h]+";");l&&(i+=' style="'+G.escape(l)+'"');for(const h in this.attributes)if(this.attributes.hasOwnProperty(h)){if(so.test(h))throw new o("Invalid attribute name '"+h+"'");i+=" "+h+'="'+G.escape(this.attributes[h])+'"'}i+=">";for(let h=0;h<this.children.length;h++)i+=this.children[h].toMarkup();return i+="</"+a+">",i};class Nr{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Jr.call(this,i,h,f),this.children=l||[]}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return zs.call(this,"span")}toMarkup(){return Ls.call(this,"span")}}class Zr{constructor(i,l,h,f){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Jr.call(this,l,f),this.children=h||[],this.setAttribute("href",i)}setAttribute(i,l){this.attributes[i]=l}hasClass(i){return this.classes.includes(i)}toNode(){return zs.call(this,"a")}toMarkup(){return Ls.call(this,"a")}}class jn{constructor(i,l,h){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=l,this.src=i,this.classes=["mord"],this.style=h}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createElement("img");i.src=this.src,i.alt=this.alt,i.className="mord";for(const l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);return i}toMarkup(){let i='<img src="'+G.escape(this.src)+'"'+(' alt="'+G.escape(this.alt)+'"'),l="";for(const h in this.style)this.style.hasOwnProperty(h)&&(l+=G.hyphenate(h)+":"+this.style[h]+";");return l&&(i+=' style="'+G.escape(l)+'"'),i+="'/>",i}}const es={:"",:"",:"",:""};class _t{constructor(i,l,h,f,y,_,E,C){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=i,this.height=l||0,this.depth=h||0,this.italic=f||0,this.skew=y||0,this.width=_||0,this.classes=E||[],this.style=C||{},this.maxFontSize=0;const B=ze(this.text.charCodeAt(0));B&&this.classes.push(B+"_fallback"),/[]/.test(this.text)&&(this.text=es[this.text])}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createTextNode(this.text);let l=null;this.italic>0&&(l=document.createElement("span"),l.style.marginRight=fe(this.italic)),this.classes.length>0&&(l=l||document.createElement("span"),l.className=Bn(this.classes));for(const h in this.style)this.style.hasOwnProperty(h)&&(l=l||document.createElement("span"),l.style[h]=this.style[h]);return l?(l.appendChild(i),l):i}toMarkup(){let i=!1,l="<span";this.classes.length&&(i=!0,l+=' class="',l+=G.escape(Bn(this.classes)),l+='"');let h="";this.italic>0&&(h+="margin-right:"+this.italic+"em;");for(const y in this.style)this.style.hasOwnProperty(y)&&(h+=G.hyphenate(y)+":"+this.style[y]+";");h&&(i=!0,l+=' style="'+G.escape(h)+'"');const f=G.escape(this.text);return i?(l+=">",l+=f,l+="</span>",l):f}}class Ut{constructor(i,l){this.children=void 0,this.attributes=void 0,this.children=i||[],this.attributes=l||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);for(let h=0;h<this.children.length;h++)l.appendChild(this.children[h].toNode());return l}toMarkup(){let i='<svg xmlns="http://www.w3.org/2000/svg"';for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+G.escape(this.attributes[l])+'"');i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</svg>",i}}class Un{constructor(i,l){this.pathName=void 0,this.alternate=void 0,this.pathName=i,this.alternate=l}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?l.setAttribute("d",this.alternate):l.setAttribute("d",Ir[this.pathName]),l}toMarkup(){return this.alternate?'<path d="'+G.escape(this.alternate)+'"/>':'<path d="'+G.escape(Ir[this.pathName])+'"/>'}}class Rr{constructor(i){this.attributes=void 0,this.attributes=i||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","line");for(const h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,h)&&l.setAttribute(h,this.attributes[h]);return l}toMarkup(){let i="<line";for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="'+G.escape(this.attributes[l])+'"');return i+="/>",i}}function Si(a){if(a instanceof _t)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function ts(a){if(a instanceof Nr)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}const io={bin:1,close:1,inner:1,open:1,punct:1,rel:1},et={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ns={math:{},text:{}};var Fe=ns;function m(a,i,l,h,f,y){ns[a][f]={font:i,group:l,replace:h},y&&h&&(ns[a][h]=ns[a][f])}const v="math",re="text",b="main",V="ams",at="accent-token",pe="bin",Lt="close",Cn="inner",Se="mathord",Je="op-token",Rt="open",rs="punct",O="rel",_n="spacing",q="textord";m(v,b,O,"","\\equiv",!0),m(v,b,O,"","\\prec",!0),m(v,b,O,"","\\succ",!0),m(v,b,O,"","\\sim",!0),m(v,b,O,"","\\perp"),m(v,b,O,"","\\preceq",!0),m(v,b,O,"","\\succeq",!0),m(v,b,O,"","\\simeq",!0),m(v,b,O,"","\\mid",!0),m(v,b,O,"","\\ll",!0),m(v,b,O,"","\\gg",!0),m(v,b,O,"","\\asymp",!0),m(v,b,O,"","\\parallel"),m(v,b,O,"","\\bowtie",!0),m(v,b,O,"","\\smile",!0),m(v,b,O,"","\\sqsubseteq",!0),m(v,b,O,"","\\sqsupseteq",!0),m(v,b,O,"","\\doteq",!0),m(v,b,O,"","\\frown",!0),m(v,b,O,"","\\ni",!0),m(v,b,O,"","\\propto",!0),m(v,b,O,"","\\vdash",!0),m(v,b,O,"","\\dashv",!0),m(v,b,O,"","\\owns"),m(v,b,rs,".","\\ldotp"),m(v,b,rs,"","\\cdotp"),m(v,b,q,"#","\\#"),m(re,b,q,"#","\\#"),m(v,b,q,"&","\\&"),m(re,b,q,"&","\\&"),m(v,b,q,"","\\aleph",!0),m(v,b,q,"","\\forall",!0),m(v,b,q,"","\\hbar",!0),m(v,b,q,"","\\exists",!0),m(v,b,q,"","\\nabla",!0),m(v,b,q,"","\\flat",!0),m(v,b,q,"","\\ell",!0),m(v,b,q,"","\\natural",!0),m(v,b,q,"","\\clubsuit",!0),m(v,b,q,"","\\wp",!0),m(v,b,q,"","\\sharp",!0),m(v,b,q,"","\\diamondsuit",!0),m(v,b,q,"","\\Re",!0),m(v,b,q,"","\\heartsuit",!0),m(v,b,q,"","\\Im",!0),m(v,b,q,"","\\spadesuit",!0),m(v,b,q,"","\\S",!0),m(re,b,q,"","\\S"),m(v,b,q,"","\\P",!0),m(re,b,q,"","\\P"),m(v,b,q,"","\\dag"),m(re,b,q,"","\\dag"),m(re,b,q,"","\\textdagger"),m(v,b,q,"","\\ddag"),m(re,b,q,"","\\ddag"),m(re,b,q,"","\\textdaggerdbl"),m(v,b,Lt,"","\\rmoustache",!0),m(v,b,Rt,"","\\lmoustache",!0),m(v,b,Lt,"","\\rgroup",!0),m(v,b,Rt,"","\\lgroup",!0),m(v,b,pe,"","\\mp",!0),m(v,b,pe,"","\\ominus",!0),m(v,b,pe,"","\\uplus",!0),m(v,b,pe,"","\\sqcap",!0),m(v,b,pe,"","\\ast"),m(v,b,pe,"","\\sqcup",!0),m(v,b,pe,"","\\bigcirc",!0),m(v,b,pe,"","\\bullet",!0),m(v,b,pe,"","\\ddagger"),m(v,b,pe,"","\\wr",!0),m(v,b,pe,"","\\amalg"),m(v,b,pe,"&","\\And"),m(v,b,O,"","\\longleftarrow",!0),m(v,b,O,"","\\Leftarrow",!0),m(v,b,O,"","\\Longleftarrow",!0),m(v,b,O,"","\\longrightarrow",!0),m(v,b,O,"","\\Rightarrow",!0),m(v,b,O,"","\\Longrightarrow",!0),m(v,b,O,"","\\leftrightarrow",!0),m(v,b,O,"","\\longleftrightarrow",!0),m(v,b,O,"","\\Leftrightarrow",!0),m(v,b,O,"","\\Longleftrightarrow",!0),m(v,b,O,"","\\mapsto",!0),m(v,b,O,"","\\longmapsto",!0),m(v,b,O,"","\\nearrow",!0),m(v,b,O,"","\\hookleftarrow",!0),m(v,b,O,"","\\hookrightarrow",!0),m(v,b,O,"","\\searrow",!0),m(v,b,O,"","\\leftharpoonup",!0),m(v,b,O,"","\\rightharpoonup",!0),m(v,b,O,"","\\swarrow",!0),m(v,b,O,"","\\leftharpoondown",!0),m(v,b,O,"","\\rightharpoondown",!0),m(v,b,O,"","\\nwarrow",!0),m(v,b,O,"","\\rightleftharpoons",!0),m(v,V,O,"","\\nless",!0),m(v,V,O,"","\\@nleqslant"),m(v,V,O,"","\\@nleqq"),m(v,V,O,"","\\lneq",!0),m(v,V,O,"","\\lneqq",!0),m(v,V,O,"","\\@lvertneqq"),m(v,V,O,"","\\lnsim",!0),m(v,V,O,"","\\lnapprox",!0),m(v,V,O,"","\\nprec",!0),m(v,V,O,"","\\npreceq",!0),m(v,V,O,"","\\precnsim",!0),m(v,V,O,"","\\precnapprox",!0),m(v,V,O,"","\\nsim",!0),m(v,V,O,"","\\@nshortmid"),m(v,V,O,"","\\nmid",!0),m(v,V,O,"","\\nvdash",!0),m(v,V,O,"","\\nvDash",!0),m(v,V,O,"","\\ntriangleleft"),m(v,V,O,"","\\ntrianglelefteq",!0),m(v,V,O,"","\\subsetneq",!0),m(v,V,O,"","\\@varsubsetneq"),m(v,V,O,"","\\subsetneqq",!0),m(v,V,O,"","\\@varsubsetneqq"),m(v,V,O,"","\\ngtr",!0),m(v,V,O,"","\\@ngeqslant"),m(v,V,O,"","\\@ngeqq"),m(v,V,O,"","\\gneq",!0),m(v,V,O,"","\\gneqq",!0),m(v,V,O,"","\\@gvertneqq"),m(v,V,O,"","\\gnsim",!0),m(v,V,O,"","\\gnapprox",!0),m(v,V,O,"","\\nsucc",!0),m(v,V,O,"","\\nsucceq",!0),m(v,V,O,"","\\succnsim",!0),m(v,V,O,"","\\succnapprox",!0),m(v,V,O,"","\\ncong",!0),m(v,V,O,"","\\@nshortparallel"),m(v,V,O,"","\\nparallel",!0),m(v,V,O,"","\\nVDash",!0),m(v,V,O,"","\\ntriangleright"),m(v,V,O,"","\\ntrianglerighteq",!0),m(v,V,O,"","\\@nsupseteqq"),m(v,V,O,"","\\supsetneq",!0),m(v,V,O,"","\\@varsupsetneq"),m(v,V,O,"","\\supsetneqq",!0),m(v,V,O,"","\\@varsupsetneqq"),m(v,V,O,"","\\nVdash",!0),m(v,V,O,"","\\precneqq",!0),m(v,V,O,"","\\succneqq",!0),m(v,V,O,"","\\@nsubseteqq"),m(v,V,pe,"","\\unlhd"),m(v,V,pe,"","\\unrhd"),m(v,V,O,"","\\nleftarrow",!0),m(v,V,O,"","\\nrightarrow",!0),m(v,V,O,"","\\nLeftarrow",!0),m(v,V,O,"","\\nRightarrow",!0),m(v,V,O,"","\\nleftrightarrow",!0),m(v,V,O,"","\\nLeftrightarrow",!0),m(v,V,O,"","\\vartriangle"),m(v,V,q,"","\\hslash"),m(v,V,q,"","\\triangledown"),m(v,V,q,"","\\lozenge"),m(v,V,q,"","\\circledS"),m(v,V,q,"","\\circledR"),m(re,V,q,"","\\circledR"),m(v,V,q,"","\\measuredangle",!0),m(v,V,q,"","\\nexists"),m(v,V,q,"","\\mho"),m(v,V,q,"","\\Finv",!0),m(v,V,q,"","\\Game",!0),m(v,V,q,"","\\backprime"),m(v,V,q,"","\\blacktriangle"),m(v,V,q,"","\\blacktriangledown"),m(v,V,q,"","\\blacksquare"),m(v,V,q,"","\\blacklozenge"),m(v,V,q,"","\\bigstar"),m(v,V,q,"","\\sphericalangle",!0),m(v,V,q,"","\\complement",!0),m(v,V,q,"","\\eth",!0),m(re,b,q,"",""),m(v,V,q,"","\\diagup"),m(v,V,q,"","\\diagdown"),m(v,V,q,"","\\square"),m(v,V,q,"","\\Box"),m(v,V,q,"","\\Diamond"),m(v,V,q,"","\\yen",!0),m(re,V,q,"","\\yen",!0),m(v,V,q,"","\\checkmark",!0),m(re,V,q,"","\\checkmark"),m(v,V,q,"","\\beth",!0),m(v,V,q,"","\\daleth",!0),m(v,V,q,"","\\gimel",!0),m(v,V,q,"","\\digamma",!0),m(v,V,q,"","\\varkappa"),m(v,V,Rt,"","\\@ulcorner",!0),m(v,V,Lt,"","\\@urcorner",!0),m(v,V,Rt,"","\\@llcorner",!0),m(v,V,Lt,"","\\@lrcorner",!0),m(v,V,O,"","\\leqq",!0),m(v,V,O,"","\\leqslant",!0),m(v,V,O,"","\\eqslantless",!0),m(v,V,O,"","\\lesssim",!0),m(v,V,O,"","\\lessapprox",!0),m(v,V,O,"","\\approxeq",!0),m(v,V,pe,"","\\lessdot"),m(v,V,O,"","\\lll",!0),m(v,V,O,"","\\lessgtr",!0),m(v,V,O,"","\\lesseqgtr",!0),m(v,V,O,"","\\lesseqqgtr",!0),m(v,V,O,"","\\doteqdot"),m(v,V,O,"","\\risingdotseq",!0),m(v,V,O,"","\\fallingdotseq",!0),m(v,V,O,"","\\backsim",!0),m(v,V,O,"","\\backsimeq",!0),m(v,V,O,"","\\subseteqq",!0),m(v,V,O,"","\\Subset",!0),m(v,V,O,"","\\sqsubset",!0),m(v,V,O,"","\\preccurlyeq",!0),m(v,V,O,"","\\curlyeqprec",!0),m(v,V,O,"","\\precsim",!0),m(v,V,O,"","\\precapprox",!0),m(v,V,O,"","\\vartriangleleft"),m(v,V,O,"","\\trianglelefteq"),m(v,V,O,"","\\vDash",!0),m(v,V,O,"","\\Vvdash",!0),m(v,V,O,"","\\smallsmile"),m(v,V,O,"","\\smallfrown"),m(v,V,O,"","\\bumpeq",!0),m(v,V,O,"","\\Bumpeq",!0),m(v,V,O,"","\\geqq",!0),m(v,V,O,"","\\geqslant",!0),m(v,V,O,"","\\eqslantgtr",!0),m(v,V,O,"","\\gtrsim",!0),m(v,V,O,"","\\gtrapprox",!0),m(v,V,pe,"","\\gtrdot"),m(v,V,O,"","\\ggg",!0),m(v,V,O,"","\\gtrless",!0),m(v,V,O,"","\\gtreqless",!0),m(v,V,O,"","\\gtreqqless",!0),m(v,V,O,"","\\eqcirc",!0),m(v,V,O,"","\\circeq",!0),m(v,V,O,"","\\triangleq",!0),m(v,V,O,"","\\thicksim"),m(v,V,O,"","\\thickapprox"),m(v,V,O,"","\\supseteqq",!0),m(v,V,O,"","\\Supset",!0),m(v,V,O,"","\\sqsupset",!0),m(v,V,O,"","\\succcurlyeq",!0),m(v,V,O,"","\\curlyeqsucc",!0),m(v,V,O,"","\\succsim",!0),m(v,V,O,"","\\succapprox",!0),m(v,V,O,"","\\vartriangleright"),m(v,V,O,"","\\trianglerighteq"),m(v,V,O,"","\\Vdash",!0),m(v,V,O,"","\\shortmid"),m(v,V,O,"","\\shortparallel"),m(v,V,O,"","\\between",!0),m(v,V,O,"","\\pitchfork",!0),m(v,V,O,"","\\varpropto"),m(v,V,O,"","\\blacktriangleleft"),m(v,V,O,"","\\therefore",!0),m(v,V,O,"","\\backepsilon"),m(v,V,O,"","\\blacktriangleright"),m(v,V,O,"","\\because",!0),m(v,V,O,"","\\llless"),m(v,V,O,"","\\gggtr"),m(v,V,pe,"","\\lhd"),m(v,V,pe,"","\\rhd"),m(v,V,O,"","\\eqsim",!0),m(v,b,O,"","\\Join"),m(v,V,O,"","\\Doteq",!0),m(v,V,pe,"","\\dotplus",!0),m(v,V,pe,"","\\smallsetminus"),m(v,V,pe,"","\\Cap",!0),m(v,V,pe,"","\\Cup",!0),m(v,V,pe,"","\\doublebarwedge",!0),m(v,V,pe,"","\\boxminus",!0),m(v,V,pe,"","\\boxplus",!0),m(v,V,pe,"","\\divideontimes",!0),m(v,V,pe,"","\\ltimes",!0),m(v,V,pe,"","\\rtimes",!0),m(v,V,pe,"","\\leftthreetimes",!0),m(v,V,pe,"","\\rightthreetimes",!0),m(v,V,pe,"","\\curlywedge",!0),m(v,V,pe,"","\\curlyvee",!0),m(v,V,pe,"","\\circleddash",!0),m(v,V,pe,"","\\circledast",!0),m(v,V,pe,"","\\centerdot"),m(v,V,pe,"","\\intercal",!0),m(v,V,pe,"","\\doublecap"),m(v,V,pe,"","\\doublecup"),m(v,V,pe,"","\\boxtimes",!0),m(v,V,O,"","\\dashrightarrow",!0),m(v,V,O,"","\\dashleftarrow",!0),m(v,V,O,"","\\leftleftarrows",!0),m(v,V,O,"","\\leftrightarrows",!0),m(v,V,O,"","\\Lleftarrow",!0),m(v,V,O,"","\\twoheadleftarrow",!0),m(v,V,O,"","\\leftarrowtail",!0),m(v,V,O,"","\\looparrowleft",!0),m(v,V,O,"","\\leftrightharpoons",!0),m(v,V,O,"","\\curvearrowleft",!0),m(v,V,O,"","\\circlearrowleft",!0),m(v,V,O,"","\\Lsh",!0),m(v,V,O,"","\\upuparrows",!0),m(v,V,O,"","\\upharpoonleft",!0),m(v,V,O,"","\\downharpoonleft",!0),m(v,b,O,"","\\origof",!0),m(v,b,O,"","\\imageof",!0),m(v,V,O,"","\\multimap",!0),m(v,V,O,"","\\leftrightsquigarrow",!0),m(v,V,O,"","\\rightrightarrows",!0),m(v,V,O,"","\\rightleftarrows",!0),m(v,V,O,"","\\twoheadrightarrow",!0),m(v,V,O,"","\\rightarrowtail",!0),m(v,V,O,"","\\looparrowright",!0),m(v,V,O,"","\\curvearrowright",!0),m(v,V,O,"","\\circlearrowright",!0),m(v,V,O,"","\\Rsh",!0),m(v,V,O,"","\\downdownarrows",!0),m(v,V,O,"","\\upharpoonright",!0),m(v,V,O,"","\\downharpoonright",!0),m(v,V,O,"","\\rightsquigarrow",!0),m(v,V,O,"","\\leadsto"),m(v,V,O,"","\\Rrightarrow",!0),m(v,V,O,"","\\restriction"),m(v,b,q,"","`"),m(v,b,q,"$","\\$"),m(re,b,q,"$","\\$"),m(re,b,q,"$","\\textdollar"),m(v,b,q,"%","\\%"),m(re,b,q,"%","\\%"),m(v,b,q,"_","\\_"),m(re,b,q,"_","\\_"),m(re,b,q,"_","\\textunderscore"),m(v,b,q,"","\\angle",!0),m(v,b,q,"","\\infty",!0),m(v,b,q,"","\\prime"),m(v,b,q,"","\\triangle"),m(v,b,q,"","\\Gamma",!0),m(v,b,q,"","\\Delta",!0),m(v,b,q,"","\\Theta",!0),m(v,b,q,"","\\Lambda",!0),m(v,b,q,"","\\Xi",!0),m(v,b,q,"","\\Pi",!0),m(v,b,q,"","\\Sigma",!0),m(v,b,q,"","\\Upsilon",!0),m(v,b,q,"","\\Phi",!0),m(v,b,q,"","\\Psi",!0),m(v,b,q,"","\\Omega",!0),m(v,b,q,"A",""),m(v,b,q,"B",""),m(v,b,q,"E",""),m(v,b,q,"Z",""),m(v,b,q,"H",""),m(v,b,q,"I",""),m(v,b,q,"K",""),m(v,b,q,"M",""),m(v,b,q,"N",""),m(v,b,q,"O",""),m(v,b,q,"P",""),m(v,b,q,"T",""),m(v,b,q,"X",""),m(v,b,q,"","\\neg",!0),m(v,b,q,"","\\lnot"),m(v,b,q,"","\\top"),m(v,b,q,"","\\bot"),m(v,b,q,"","\\emptyset"),m(v,V,q,"","\\varnothing"),m(v,b,Se,"","\\alpha",!0),m(v,b,Se,"","\\beta",!0),m(v,b,Se,"","\\gamma",!0),m(v,b,Se,"","\\delta",!0),m(v,b,Se,"","\\epsilon",!0),m(v,b,Se,"","\\zeta",!0),m(v,b,Se,"","\\eta",!0),m(v,b,Se,"","\\theta",!0),m(v,b,Se,"","\\iota",!0),m(v,b,Se,"","\\kappa",!0),m(v,b,Se,"","\\lambda",!0),m(v,b,Se,"","\\mu",!0),m(v,b,Se,"","\\nu",!0),m(v,b,Se,"","\\xi",!0),m(v,b,Se,"","\\omicron",!0),m(v,b,Se,"","\\pi",!0),m(v,b,Se,"","\\rho",!0),m(v,b,Se,"","\\sigma",!0),m(v,b,Se,"","\\tau",!0),m(v,b,Se,"","\\upsilon",!0),m(v,b,Se,"","\\phi",!0),m(v,b,Se,"","\\chi",!0),m(v,b,Se,"","\\psi",!0),m(v,b,Se,"","\\omega",!0),m(v,b,Se,"","\\varepsilon",!0),m(v,b,Se,"","\\vartheta",!0),m(v,b,Se,"","\\varpi",!0),m(v,b,Se,"","\\varrho",!0),m(v,b,Se,"","\\varsigma",!0),m(v,b,Se,"","\\varphi",!0),m(v,b,pe,"","*",!0),m(v,b,pe,"+","+"),m(v,b,pe,"","-",!0),m(v,b,pe,"","\\cdot",!0),m(v,b,pe,"","\\circ",!0),m(v,b,pe,"","\\div",!0),m(v,b,pe,"","\\pm",!0),m(v,b,pe,"","\\times",!0),m(v,b,pe,"","\\cap",!0),m(v,b,pe,"","\\cup",!0),m(v,b,pe,"","\\setminus",!0),m(v,b,pe,"","\\land"),m(v,b,pe,"","\\lor"),m(v,b,pe,"","\\wedge",!0),m(v,b,pe,"","\\vee",!0),m(v,b,q,"","\\surd"),m(v,b,Rt,"","\\langle",!0),m(v,b,Rt,"","\\lvert"),m(v,b,Rt,"","\\lVert"),m(v,b,Lt,"?","?"),m(v,b,Lt,"!","!"),m(v,b,Lt,"","\\rangle",!0),m(v,b,Lt,"","\\rvert"),m(v,b,Lt,"","\\rVert"),m(v,b,O,"=","="),m(v,b,O,":",":"),m(v,b,O,"","\\approx",!0),m(v,b,O,"","\\cong",!0),m(v,b,O,"","\\ge"),m(v,b,O,"","\\geq",!0),m(v,b,O,"","\\gets"),m(v,b,O,">","\\gt",!0),m(v,b,O,"","\\in",!0),m(v,b,O,"","\\@not"),m(v,b,O,"","\\subset",!0),m(v,b,O,"","\\supset",!0),m(v,b,O,"","\\subseteq",!0),m(v,b,O,"","\\supseteq",!0),m(v,V,O,"","\\nsubseteq",!0),m(v,V,O,"","\\nsupseteq",!0),m(v,b,O,"","\\models"),m(v,b,O,"","\\leftarrow",!0),m(v,b,O,"","\\le"),m(v,b,O,"","\\leq",!0),m(v,b,O,"<","\\lt",!0),m(v,b,O,"","\\rightarrow",!0),m(v,b,O,"","\\to"),m(v,V,O,"","\\ngeq",!0),m(v,V,O,"","\\nleq",!0),m(v,b,_n,"","\\ "),m(v,b,_n,"","\\space"),m(v,b,_n,"","\\nobreakspace"),m(re,b,_n,"","\\ "),m(re,b,_n,""," "),m(re,b,_n,"","\\space"),m(re,b,_n,"","\\nobreakspace"),m(v,b,_n,null,"\\nobreak"),m(v,b,_n,null,"\\allowbreak"),m(v,b,rs,",",","),m(v,b,rs,";",";"),m(v,V,pe,"","\\barwedge",!0),m(v,V,pe,"","\\veebar",!0),m(v,b,pe,"","\\odot",!0),m(v,b,pe,"","\\oplus",!0),m(v,b,pe,"","\\otimes",!0),m(v,b,q,"","\\partial",!0),m(v,b,pe,"","\\oslash",!0),m(v,V,pe,"","\\circledcirc",!0),m(v,V,pe,"","\\boxdot",!0),m(v,b,pe,"","\\bigtriangleup"),m(v,b,pe,"","\\bigtriangledown"),m(v,b,pe,"","\\dagger"),m(v,b,pe,"","\\diamond"),m(v,b,pe,"","\\star"),m(v,b,pe,"","\\triangleleft"),m(v,b,pe,"","\\triangleright"),m(v,b,Rt,"{","\\{"),m(re,b,q,"{","\\{"),m(re,b,q,"{","\\textbraceleft"),m(v,b,Lt,"}","\\}"),m(re,b,q,"}","\\}"),m(re,b,q,"}","\\textbraceright"),m(v,b,Rt,"{","\\lbrace"),m(v,b,Lt,"}","\\rbrace"),m(v,b,Rt,"[","\\lbrack",!0),m(re,b,q,"[","\\lbrack",!0),m(v,b,Lt,"]","\\rbrack",!0),m(re,b,q,"]","\\rbrack",!0),m(v,b,Rt,"(","\\lparen",!0),m(v,b,Lt,")","\\rparen",!0),m(re,b,q,"<","\\textless",!0),m(re,b,q,">","\\textgreater",!0),m(v,b,Rt,"","\\lfloor",!0),m(v,b,Lt,"","\\rfloor",!0),m(v,b,Rt,"","\\lceil",!0),m(v,b,Lt,"","\\rceil",!0),m(v,b,q,"\\","\\backslash"),m(v,b,q,"","|"),m(v,b,q,"","\\vert"),m(re,b,q,"|","\\textbar",!0),m(v,b,q,"","\\|"),m(v,b,q,"","\\Vert"),m(re,b,q,"","\\textbardbl"),m(re,b,q,"~","\\textasciitilde"),m(re,b,q,"\\","\\textbackslash"),m(re,b,q,"^","\\textasciicircum"),m(v,b,O,"","\\uparrow",!0),m(v,b,O,"","\\Uparrow",!0),m(v,b,O,"","\\downarrow",!0),m(v,b,O,"","\\Downarrow",!0),m(v,b,O,"","\\updownarrow",!0),m(v,b,O,"","\\Updownarrow",!0),m(v,b,Je,"","\\coprod"),m(v,b,Je,"","\\bigvee"),m(v,b,Je,"","\\bigwedge"),m(v,b,Je,"","\\biguplus"),m(v,b,Je,"","\\bigcap"),m(v,b,Je,"","\\bigcup"),m(v,b,Je,"","\\int"),m(v,b,Je,"","\\intop"),m(v,b,Je,"","\\iint"),m(v,b,Je,"","\\iiint"),m(v,b,Je,"","\\prod"),m(v,b,Je,"","\\sum"),m(v,b,Je,"","\\bigotimes"),m(v,b,Je,"","\\bigoplus"),m(v,b,Je,"","\\bigodot"),m(v,b,Je,"","\\oint"),m(v,b,Je,"","\\oiint"),m(v,b,Je,"","\\oiiint"),m(v,b,Je,"","\\bigsqcup"),m(v,b,Je,"","\\smallint"),m(re,b,Cn,"","\\textellipsis"),m(v,b,Cn,"","\\mathellipsis"),m(re,b,Cn,"","\\ldots",!0),m(v,b,Cn,"","\\ldots",!0),m(v,b,Cn,"","\\@cdots",!0),m(v,b,Cn,"","\\ddots",!0),m(v,b,q,"","\\varvdots"),m(re,b,q,"","\\varvdots"),m(v,b,at,"","\\acute"),m(v,b,at,"","\\grave"),m(v,b,at,"","\\ddot"),m(v,b,at,"~","\\tilde"),m(v,b,at,"","\\bar"),m(v,b,at,"","\\breve"),m(v,b,at,"","\\check"),m(v,b,at,"^","\\hat"),m(v,b,at,"","\\vec"),m(v,b,at,"","\\dot"),m(v,b,at,"","\\mathring"),m(v,b,Se,"","\\@imath"),m(v,b,Se,"","\\@jmath"),m(v,b,q,"",""),m(v,b,q,"",""),m(re,b,q,"","\\i",!0),m(re,b,q,"","\\j",!0),m(re,b,q,"","\\ss",!0),m(re,b,q,"","\\ae",!0),m(re,b,q,"","\\oe",!0),m(re,b,q,"","\\o",!0),m(re,b,q,"","\\AE",!0),m(re,b,q,"","\\OE",!0),m(re,b,q,"","\\O",!0),m(re,b,at,"","\\'"),m(re,b,at,"","\\`"),m(re,b,at,"","\\^"),m(re,b,at,"","\\~"),m(re,b,at,"","\\="),m(re,b,at,"","\\u"),m(re,b,at,"","\\."),m(re,b,at,"","\\c"),m(re,b,at,"","\\r"),m(re,b,at,"","\\v"),m(re,b,at,"",'\\"'),m(re,b,at,"","\\H"),m(re,b,at,"","\\textcircled");const Ei={"--":!0,"---":!0,"``":!0,"''":!0};m(re,b,q,"","--",!0),m(re,b,q,"","\\textendash"),m(re,b,q,"","---",!0),m(re,b,q,"","\\textemdash"),m(re,b,q,"","`",!0),m(re,b,q,"","\\textquoteleft"),m(re,b,q,"","'",!0),m(re,b,q,"","\\textquoteright"),m(re,b,q,"","``",!0),m(re,b,q,"","\\textquotedblleft"),m(re,b,q,"","''",!0),m(re,b,q,"","\\textquotedblright"),m(v,b,q,"","\\degree",!0),m(re,b,q,"","\\degree"),m(re,b,q,"","\\textdegree",!0),m(v,b,q,"","\\pounds"),m(v,b,q,"","\\mathsterling",!0),m(re,b,q,"","\\pounds"),m(re,b,q,"","\\textsterling",!0),m(v,V,q,"","\\maltese"),m(re,V,q,"","\\maltese");const oo='0123456789/@."';for(let a=0;a<oo.length;a++){const i=oo.charAt(a);m(v,b,q,i,i)}const ss='0123456789!@*()-=+";:?/.,';for(let a=0;a<ss.length;a++){const i=ss.charAt(a);m(re,b,q,i,i)}const is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<is.length;a++){const i=is.charAt(a);m(v,b,Se,i,i),m(re,b,q,i,i)}m(v,V,q,"C",""),m(re,V,q,"C",""),m(v,V,q,"H",""),m(re,V,q,"H",""),m(v,V,q,"N",""),m(re,V,q,"N",""),m(v,V,q,"P",""),m(re,V,q,"P",""),m(v,V,q,"Q",""),m(re,V,q,"Q",""),m(v,V,q,"R",""),m(re,V,q,"R",""),m(v,V,q,"Z",""),m(re,V,q,"Z",""),m(v,b,Se,"h",""),m(re,b,Se,"h","");let Ie="";for(let a=0;a<is.length;a++){const i=is.charAt(a);Ie=String.fromCharCode(55349,56320+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56372+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56424+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56580+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56684+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56736+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56788+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56840+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56944+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),a<26&&(Ie=String.fromCharCode(55349,56632+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,56476+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie))}Ie="",m(v,b,Se,"k",Ie),m(re,b,q,"k",Ie);for(let a=0;a<10;a++){const i=a.toString();Ie=String.fromCharCode(55349,57294+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,57314+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,57324+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie),Ie=String.fromCharCode(55349,57334+a),m(v,b,Se,i,Ie),m(re,b,q,i,Ie)}const qn="";for(let a=0;a<qn.length;a++){const i=qn.charAt(a);m(v,b,Se,i,i),m(re,b,q,i,i)}const Nn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Pr=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],ga=function(a,i){const l=a.charCodeAt(0),h=a.charCodeAt(1),f=(l-55296)*1024+(h-56320)+65536,y=i==="math"?0:1;if(119808<=f&&f<120484){const _=Math.floor((f-119808)/26);return[Nn[_][2],Nn[_][y]]}else if(120782<=f&&f<=120831){const _=Math.floor((f-120782)/10);return[Pr[_][2],Pr[_][y]]}else{if(f===120485||f===120486)return[Nn[0][2],Nn[0][y]];if(120486<f&&f<120782)return["",""];throw new o("Unsupported character: "+a)}};class Mr{constructor(i){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=i,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(i){return this.classes.includes(i)}toNode(){const i=document.createDocumentFragment();for(let l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i}toText(){const i=l=>l.toText();return this.children.map(i).join("")}}const os=function(a,i,l){return Fe[l][a]&&Fe[l][a].replace&&(a=Fe[l][a].replace),{value:a,metrics:Xr(a,i,l)}},en=function(a,i,l,h,f){const y=os(a,i,l),_=y.metrics;a=y.value;let E;if(_){let C=_.italic;(l==="text"||h&&h.font==="mathit")&&(C=0),E=new _t(a,_.height,_.depth,C,_.skew,_.width,f)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+a+"' in style '"+i+"' and mode '"+l+"'")),E=new _t(a,0,0,0,0,0,f);if(h){E.maxFontSize=h.sizeMultiplier,h.style.isTight()&&E.classes.push("mtight");const C=h.getColor();C&&(E.style.color=C)}return E},te=function(a,i,l,h){return h===void 0&&(h=[]),l.font==="boldsymbol"&&os(a,"Main-Bold",i).metrics?en(a,"Main-Bold",i,l,h.concat(["mathbf"])):a==="\\"||Fe[i][a].font==="main"?en(a,"Main-Regular",i,l,h):en(a,"AMS-Regular",i,l,h.concat(["amsrm"]))},ae=function(a,i,l,h,f){return f!=="textord"&&os(a,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},we=function(a,i,l){const h=a.mode,f=a.text,y=["mord"],_=h==="math"||h==="text"&&i.font,E=_?i.font:i.fontFamily;let C="",B="";if(f.charCodeAt(0)===55349&&([C,B]=ga(f,h)),C.length>0)return en(f,C,h,i,y.concat(B));if(E){let W,Q;if(E==="boldsymbol"){const Z=ae(f,h,i,y,l);W=Z.fontName,Q=[Z.fontClass]}else _?(W=Fs[E].fontName,Q=[E]):(W=us(E,i.fontWeight,i.fontShape),Q=[E,i.fontWeight,i.fontShape]);if(os(f,W,h).metrics)return en(f,W,h,i,y.concat(Q));if(Ei.hasOwnProperty(f)&&W.slice(0,10)==="Typewriter"){const Z=[];for(let ie=0;ie<f.length;ie++)Z.push(en(f[ie],W,h,i,y.concat(Q)));return er(Z)}}if(l==="mathord")return en(f,"Math-Italic",h,i,y.concat(["mathnormal"]));if(l==="textord"){const W=Fe[h][f]&&Fe[h][f].font;if(W==="ams"){const Q=us("amsrm",i.fontWeight,i.fontShape);return en(f,Q,h,i,y.concat("amsrm",i.fontWeight,i.fontShape))}else if(W==="main"||!W){const Q=us("textrm",i.fontWeight,i.fontShape);return en(f,Q,h,i,y.concat(i.fontWeight,i.fontShape))}else{const Q=us(W,i.fontWeight,i.fontShape);return en(f,Q,h,i,y.concat(Q,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},Te=(a,i)=>{if(Bn(a.classes)!==Bn(i.classes)||a.skew!==i.skew||a.maxFontSize!==i.maxFontSize)return!1;if(a.classes.length===1){const l=a.classes[0];if(l==="mbin"||l==="mord")return!1}for(const l in a.style)if(a.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;for(const l in i.style)if(i.style.hasOwnProperty(l)&&a.style[l]!==i.style[l])return!1;return!0},ut=a=>{for(let i=0;i<a.length-1;i++){const l=a[i],h=a[i+1];l instanceof _t&&h instanceof _t&&Te(l,h)&&(l.text+=h.text,l.height=Math.max(l.height,h.height),l.depth=Math.max(l.depth,h.depth),l.italic=h.italic,a.splice(i+1,1),i--)}return a},Os=function(a){let i=0,l=0,h=0;for(let f=0;f<a.children.length;f++){const y=a.children[f];y.height>i&&(i=y.height),y.depth>l&&(l=y.depth),y.maxFontSize>h&&(h=y.maxFontSize)}a.height=i,a.depth=l,a.maxFontSize=h},Ot=function(a,i,l,h){const f=new Nr(a,i,l,h);return Os(f),f},as=(a,i,l,h)=>new Nr(a,i,l,h),mc=function(a,i,l){const h=Ot([a],[],i);return h.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),h.style.borderBottomWidth=fe(h.height),h.maxFontSize=1,h},ls=function(a,i,l,h){const f=new Zr(a,i,l,h);return Os(f),f},er=function(a){const i=new Mr(a);return Os(i),i},ao=function(a,i){return a instanceof Mr?Ot([],[a],i):a},lo=function(a){if(a.positionType==="individualShift"){const l=a.children,h=[l[0]],f=-l[0].shift-l[0].elem.depth;let y=f;for(let _=1;_<l.length;_++){const E=-l[_].shift-y-l[_].elem.depth,C=E-(l[_-1].elem.height+l[_-1].elem.depth);y=y+E,h.push({type:"kern",size:C}),h.push(l[_])}return{children:h,depth:f}}let i;if(a.positionType==="top"){let l=a.positionData;for(let h=0;h<a.children.length;h++){const f=a.children[h];l-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}i=l}else if(a.positionType==="bottom")i=-a.positionData;else{const l=a.children[0];if(l.type!=="elem")throw new Error('First child must have type "elem".');if(a.positionType==="shift")i=-l.elem.depth-a.positionData;else if(a.positionType==="firstBaseline")i=-l.elem.depth;else throw new Error("Invalid positionType "+a.positionType+".")}return{children:a.children,depth:i}},Yl=function(a,i){const{children:l,depth:h}=lo(a);let f=0;for(let ie=0;ie<l.length;ie++){const xe=l[ie];if(xe.type==="elem"){const Ee=xe.elem;f=Math.max(f,Ee.maxFontSize,Ee.height)}}f+=2;const y=Ot(["pstrut"],[]);y.style.height=fe(f);const _=[];let E=h,C=h,B=h;for(let ie=0;ie<l.length;ie++){const xe=l[ie];if(xe.type==="kern")B+=xe.size;else{const Ee=xe.elem,qe=xe.wrapperClasses||[],Le=xe.wrapperStyle||{},He=Ot(qe,[y,Ee],void 0,Le);He.style.top=fe(-f-B-Ee.depth),xe.marginLeft&&(He.style.marginLeft=xe.marginLeft),xe.marginRight&&(He.style.marginRight=xe.marginRight),_.push(He),B+=Ee.height+Ee.depth}E=Math.min(E,B),C=Math.max(C,B)}const W=Ot(["vlist"],_);W.style.height=fe(C);let Q;if(E<0){const ie=Ot([],[]),xe=Ot(["vlist"],[ie]);xe.style.height=fe(-E);const Ee=Ot(["vlist-s"],[new _t("")]);Q=[Ot(["vlist-r"],[W,Ee]),Ot(["vlist-r"],[xe])]}else Q=[Ot(["vlist-r"],[W])];const Z=Ot(["vlist-t"],Q);return Q.length===2&&Z.classes.push("vlist-t2"),Z.height=C,Z.depth=-E,Z},lt=(a,i)=>{const l=Ot(["mspace"],[],i),h=Ye(a,i);return l.style.marginRight=fe(h),l},us=function(a,i,l){let h="";switch(a){case"amsrm":h="AMS";break;case"textrm":h="Main";break;case"textsf":h="SansSerif";break;case"texttt":h="Typewriter";break;default:h=a}let f;return i==="textbf"&&l==="textit"?f="BoldItalic":i==="textbf"?f="Bold":i==="textit"?f="Italic":f="Regular",h+"-"+f},Fs={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Bs={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var X={fontMap:Fs,makeSymbol:en,mathsym:te,makeSpan:Ot,makeSvgSpan:as,makeLineSpan:mc,makeAnchor:ls,makeFragment:er,wrapFragment:ao,makeVList:Yl,makeOrd:we,makeGlue:lt,staticSvg:function(a,i){const[l,h,f]=Bs[a],y=new Un(l),_=new Ut([y],{width:fe(h),height:fe(f),style:"width:"+fe(h),viewBox:"0 0 "+1e3*h+" "+1e3*f,preserveAspectRatio:"xMinYMin"}),E=as(["overlay"],[_],i);return E.height=f,E.style.height=fe(f),E.style.width=fe(h),E},svgData:Bs,tryCombineChars:ut};const dt={number:3,unit:"mu"},cs={number:4,unit:"mu"},mr={number:5,unit:"mu"},pc={mord:{mop:dt,mbin:cs,mrel:mr,minner:dt},mop:{mord:dt,mop:dt,mrel:mr,minner:dt},mbin:{mord:cs,mop:cs,mopen:cs,minner:cs},mrel:{mord:mr,mop:mr,mopen:mr,minner:mr},mopen:{},mclose:{mop:dt,mbin:cs,mrel:mr,minner:dt},mpunct:{mord:dt,mop:dt,mrel:mr,mopen:dt,mclose:dt,mpunct:dt,minner:dt},minner:{mord:dt,mop:dt,mbin:cs,mrel:mr,mopen:dt,mpunct:dt,minner:dt}},Ti={mord:{mop:dt},mop:{mord:dt,mop:dt},mbin:{},mrel:{},mopen:{},mclose:{mop:dt},mpunct:{},minner:{mop:dt}},pr={},ki={},Ai={};function ge(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:_}=a;const E={type:i,numArgs:h.numArgs,argTypes:h.argTypes,allowedInArgument:!!h.allowedInArgument,allowedInText:!!h.allowedInText,allowedInMath:h.allowedInMath===void 0?!0:h.allowedInMath,numOptionalArgs:h.numOptionalArgs||0,infix:!!h.infix,primitive:!!h.primitive,handler:f};for(let C=0;C<l.length;++C)pr[l[C]]=E;i&&(y&&(ki[i]=y),_&&(Ai[i]=_))}function Rn(a){let{type:i,htmlBuilder:l,mathmlBuilder:h}=a;ge({type:i,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:l,mathmlBuilder:h})}const uo=function(a){return a.type==="ordgroup"&&a.body.length===1?a.body[0]:a},bt=function(a){return a.type==="ordgroup"?a.body:[a]},gr=X.makeSpan,Dr=["leftmost","mbin","mopen","mrel","mop","mpunct"],gc=["rightmost","mrel","mclose","mpunct"],yc={display:he.DISPLAY,text:he.TEXT,script:he.SCRIPT,scriptscript:he.SCRIPTSCRIPT},co={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},gt=function(a,i,l,h){h===void 0&&(h=[null,null]);const f=[];for(let B=0;B<a.length;B++){const W=ke(a[B],i);if(W instanceof Mr){const Q=W.children;f.push(...Q)}else f.push(W)}if(X.tryCombineChars(f),!l)return f;let y=i;if(a.length===1){const B=a[0];B.type==="sizing"?y=i.havingSize(B.size):B.type==="styling"&&(y=i.havingStyle(yc[B.style]))}const _=gr([h[0]||"leftmost"],[],i),E=gr([h[1]||"rightmost"],[],i),C=l==="root";return ho(f,(B,W)=>{const Q=W.classes[0],Z=B.classes[0];Q==="mbin"&&gc.includes(Z)?W.classes[0]="mord":Z==="mbin"&&Dr.includes(Q)&&(B.classes[0]="mord")},{node:_},E,C),ho(f,(B,W)=>{const Q=fo(W),Z=fo(B),ie=Q&&Z?B.hasClass("mtight")?Ti[Q][Z]:pc[Q][Z]:null;if(ie)return X.makeGlue(ie,y)},{node:_},E,C),f},ho=function(a,i,l,h,f){h&&a.push(h);let y=0;for(;y<a.length;y++){const _=a[y],E=js(_);if(E){ho(E.children,i,l,null,f);continue}const C=!_.hasClass("mspace");if(C){const B=i(_,l.node);B&&(l.insertAfter?l.insertAfter(B):(a.unshift(B),y++))}C?l.node=_:f&&_.hasClass("newline")&&(l.node=gr(["leftmost"])),l.insertAfter=(B=>W=>{a.splice(B+1,0,W),y++})(y)}h&&a.pop()},js=function(a){return a instanceof Mr||a instanceof Zr||a instanceof Nr&&a.hasClass("enclosing")?a:null},hs=function(a,i){const l=js(a);if(l){const h=l.children;if(h.length){if(i==="right")return hs(h[h.length-1],"right");if(i==="left")return hs(h[0],"left")}}return a},fo=function(a,i){return a?(i&&(a=hs(a,i)),co[a.classes[0]]||null):null},ds=function(a,i){const l=["nulldelimiter"].concat(a.baseSizingClasses());return gr(i.concat(l))},ke=function(a,i,l){if(!a)return gr();if(ki[a.type]){let h=ki[a.type](a,i);if(l&&i.size!==l.size){h=gr(i.sizingClasses(l),[h],i);const f=i.sizeMultiplier/l.sizeMultiplier;h.height*=f,h.depth*=f}return h}else throw new o("Got group of unknown type: '"+a.type+"'")};function mo(a,i){const l=gr(["base"],a,i),h=gr(["strut"]);return h.style.height=fe(l.height+l.depth),l.depth&&(h.style.verticalAlign=fe(-l.depth)),l.children.unshift(h),l}function ya(a,i){let l=null;a.length===1&&a[0].type==="tag"&&(l=a[0].tag,a=a[0].body);const h=gt(a,i,"root");let f;h.length===2&&h[1].hasClass("tag")&&(f=h.pop());const y=[];let _=[];for(let B=0;B<h.length;B++)if(_.push(h[B]),h[B].hasClass("mbin")||h[B].hasClass("mrel")||h[B].hasClass("allowbreak")){let W=!1;for(;B<h.length-1&&h[B+1].hasClass("mspace")&&!h[B+1].hasClass("newline");)B++,_.push(h[B]),h[B].hasClass("nobreak")&&(W=!0);W||(y.push(mo(_,i)),_=[])}else h[B].hasClass("newline")&&(_.pop(),_.length>0&&(y.push(mo(_,i)),_=[]),y.push(h[B]));_.length>0&&y.push(mo(_,i));let E;l?(E=mo(gt(l,i,!0)),E.classes=["tag"],y.push(E)):f&&y.push(f);const C=gr(["katex-html"],y);if(C.setAttribute("aria-hidden","true"),E){const B=E.children[0];B.style.height=fe(C.height+C.depth),C.depth&&(B.style.verticalAlign=fe(-C.depth))}return C}function va(a){return new Mr(a)}class hn{constructor(i,l,h){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=i,this.attributes={},this.children=l||[],this.classes=h||[]}setAttribute(i,l){this.attributes[i]=l}getAttribute(i){return this.attributes[i]}toNode(){const i=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);this.classes.length>0&&(i.className=Bn(this.classes));for(let l=0;l<this.children.length;l++)if(this.children[l]instanceof Hn&&this.children[l+1]instanceof Hn){let h=this.children[l].toText()+this.children[++l].toText();for(;this.children[l+1]instanceof Hn;)h+=this.children[++l].toText();i.appendChild(new Hn(h).toNode())}else i.appendChild(this.children[l].toNode());return i}toMarkup(){let i="<"+this.type;for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(i+=" "+l+'="',i+=G.escape(this.attributes[l]),i+='"');this.classes.length>0&&(i+=' class ="'+G.escape(Bn(this.classes))+'"'),i+=">";for(let l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</"+this.type+">",i}toText(){return this.children.map(i=>i.toText()).join("")}}class Hn{constructor(i){this.text=void 0,this.text=i}toNode(){return document.createTextNode(this.text)}toMarkup(){return G.escape(this.toText())}toText(){return this.text}}class po{constructor(i){this.width=void 0,this.character=void 0,this.width=i,i>=.05555&&i<=.05556?this.character="":i>=.1666&&i<=.1667?this.character="":i>=.2222&&i<=.2223?this.character="":i>=.2777&&i<=.2778?this.character="":i>=-.05556&&i<=-.05555?this.character="":i>=-.1667&&i<=-.1666?this.character="":i>=-.2223&&i<=-.2222?this.character="":i>=-.2778&&i<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const i=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return i.setAttribute("width",fe(this.width)),i}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var le={MathNode:hn,TextNode:Hn,SpaceNode:po,newDocumentFragment:va};const It=function(a,i,l){return Fe[i][a]&&Fe[i][a].replace&&a.charCodeAt(0)!==55349&&!(Ei.hasOwnProperty(a)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(a=Fe[i][a].replace),new le.TextNode(a)},go=function(a){return a.length===1?a[0]:new le.MathNode("mrow",a)},wa=function(a,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";const l=i.font;if(!l||l==="mathnormal")return null;const h=a.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return a.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";let f=a.text;if(["\\imath","\\jmath"].includes(f))return null;Fe[h][f]&&Fe[h][f].replace&&(f=Fe[h][f].replace);const y=X.fontMap[l].fontName;return Xr(f,y,h)?X.fontMap[l].variant:null};function fs(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){const i=a.children[0];return i instanceof Hn&&i.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){const i=a.children[0];return i instanceof Hn&&i.text===","}else return!1}const tn=function(a,i,l){if(a.length===1){const y=Ke(a[0],i);return l&&y instanceof hn&&y.type==="mo"&&(y.setAttribute("lspace","0em"),y.setAttribute("rspace","0em")),[y]}const h=[];let f;for(let y=0;y<a.length;y++){const _=Ke(a[y],i);if(_ instanceof hn&&f instanceof hn){if(_.type==="mtext"&&f.type==="mtext"&&_.getAttribute("mathvariant")===f.getAttribute("mathvariant")){f.children.push(..._.children);continue}else if(_.type==="mn"&&f.type==="mn"){f.children.push(..._.children);continue}else if(fs(_)&&f.type==="mn"){f.children.push(..._.children);continue}else if(_.type==="mn"&&fs(f))_.children=[...f.children,..._.children],h.pop();else if((_.type==="msup"||_.type==="msub")&&_.children.length>=1&&(f.type==="mn"||fs(f))){const E=_.children[0];E instanceof hn&&E.type==="mn"&&(E.children=[...f.children,...E.children],h.pop())}else if(f.type==="mi"&&f.children.length===1){const E=f.children[0];if(E instanceof Hn&&E.text===""&&(_.type==="mo"||_.type==="mi"||_.type==="mn")){const C=_.children[0];C instanceof Hn&&C.text.length>0&&(C.text=C.text.slice(0,1)+""+C.text.slice(1),h.pop())}}}h.push(_),f=_}return h},tr=function(a,i,l){return go(tn(a,i,l))},Ke=function(a,i){if(!a)return new le.MathNode("mrow");if(Ai[a.type])return Ai[a.type](a,i);throw new o("Got group of unknown type: '"+a.type+"'")};function xa(a,i,l,h,f){const y=tn(a,l);let _;y.length===1&&y[0]instanceof hn&&["mrow","mtable"].includes(y[0].type)?_=y[0]:_=new le.MathNode("mrow",y);const E=new le.MathNode("annotation",[new le.TextNode(i)]);E.setAttribute("encoding","application/x-tex");const C=new le.MathNode("semantics",[_,E]),B=new le.MathNode("math",[C]);B.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),h&&B.setAttribute("display","block");const W=f?"katex":"katex-mathml";return X.makeSpan([W],[B])}const Ii=function(a){return new Ds({style:a.displayMode?he.DISPLAY:he.TEXT,maxSize:a.maxSize,minRuleThickness:a.minRuleThickness})},Jl=function(a,i){if(i.displayMode){const l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),a=X.makeSpan(l,[a])}return a},Zl=function(a,i,l){const h=Ii(l);let f;if(l.output==="mathml")return xa(a,i,h,l.displayMode,!0);if(l.output==="html"){const y=ya(a,h);f=X.makeSpan(["katex"],[y])}else{const y=xa(a,i,h,l.displayMode,!1),_=ya(a,h);f=X.makeSpan(["katex"],[y,_])}return Jl(f,l)},Ci=function(a,i,l){const h=Ii(l),f=ya(a,h),y=X.makeSpan(["katex"],[f]);return Jl(y,l)},e0={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},t0=function(a){const i=new le.MathNode("mo",[new le.TextNode(e0[a.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},_a={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ba=function(a){return a.type==="ordgroup"?a.body.length:1};var nr={encloseSpan:function(a,i,l,h,f){let y;const _=a.height+a.depth+l+h;if(/fbox|color|angl/.test(i)){if(y=X.makeSpan(["stretchy",i],[],f),i==="fbox"){const E=f.color&&f.getColor();E&&(y.style.borderColor=E)}}else{const E=[];/^[bx]cancel$/.test(i)&&E.push(new Rr({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&E.push(new Rr({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const C=new Ut(E,{width:"100%",height:fe(_)});y=X.makeSvgSpan([],[C],f)}return y.height=_,y.style.height=fe(_),y},mathMLnode:t0,svgSpan:function(a,i){function l(){let _=4e5;const E=a.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(E)){const B=ba(a.base);let W,Q,Z;if(B>5)E==="widehat"||E==="widecheck"?(W=420,_=2364,Z=.42,Q=E+"4"):(W=312,_=2340,Z=.34,Q="tilde4");else{const Ee=[1,1,2,2,3,3][B];E==="widehat"||E==="widecheck"?(_=[0,1062,2364,2364,2364][Ee],W=[0,239,300,360,420][Ee],Z=[0,.24,.3,.3,.36,.42][Ee],Q=E+Ee):(_=[0,600,1033,2339,2340][Ee],W=[0,260,286,306,312][Ee],Z=[0,.26,.286,.3,.306,.34][Ee],Q="tilde"+Ee)}const ie=new Un(Q),xe=new Ut([ie],{width:"100%",height:fe(Z),viewBox:"0 0 "+_+" "+W,preserveAspectRatio:"none"});return{span:X.makeSvgSpan([],[xe],i),minWidth:0,height:Z}}else{const C=[],B=_a[E],[W,Q,Z]=B,ie=Z/1e3,xe=W.length;let Ee,qe;if(xe===1){const Le=B[3];Ee=["hide-tail"],qe=[Le]}else if(xe===2)Ee=["halfarrow-left","halfarrow-right"],qe=["xMinYMin","xMaxYMin"];else if(xe===3)Ee=["brace-left","brace-center","brace-right"],qe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+xe+" children.");for(let Le=0;Le<xe;Le++){const He=new Un(W[Le]),Ze=new Ut([He],{width:"400em",height:fe(ie),viewBox:"0 0 "+_+" "+Z,preserveAspectRatio:qe[Le]+" slice"}),ct=X.makeSvgSpan([Ee[Le]],[Ze],i);if(xe===1)return{span:ct,minWidth:Q,height:ie};ct.style.height=fe(ie),C.push(ct)}return{span:X.makeSpan(["stretchy"],C,i),minWidth:Q,height:ie}}}const{span:h,minWidth:f,height:y}=l();return h.height=y,h.style.height=fe(y),f>0&&(h.style.minWidth=fe(f)),h}};function Pe(a,i){if(!a||a.type!==i)throw new Error("Expected node of type "+i+", but got "+(a?"node of type "+a.type:String(a)));return a}function yr(a){const i=Ni(a);if(!i)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return i}function Ni(a){return a&&(a.type==="atom"||et.hasOwnProperty(a.type))?a:null}const yo=(a,i)=>{let l,h,f;a&&a.type==="supsub"?(h=Pe(a.base,"accent"),l=h.base,a.base=l,f=ts(ke(a,i)),a.base=h):(h=Pe(a,"accent"),l=h.base);const y=ke(l,i.havingCrampedStyle()),_=h.isShifty&&G.isCharacterBox(l);let E=0;if(_){const Z=G.getBaseElem(l),ie=ke(Z,i.havingCrampedStyle());E=Si(ie).skew}const C=h.label==="\\c";let B=C?y.height+y.depth:Math.min(y.height,i.fontMetrics().xHeight),W;if(h.isStretchy)W=nr.svgSpan(h,i),W=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"elem",elem:W,wrapperClasses:["svg-align"],wrapperStyle:E>0?{width:"calc(100% - "+fe(2*E)+")",marginLeft:fe(2*E)}:void 0}]},i);else{let Z,ie;h.label==="\\vec"?(Z=X.staticSvg("vec",i),ie=X.svgData.vec[1]):(Z=X.makeOrd({mode:h.mode,text:h.label},i,"textord"),Z=Si(Z),Z.italic=0,ie=Z.width,C&&(B+=Z.depth)),W=X.makeSpan(["accent-body"],[Z]);const xe=h.label==="\\textcircled";xe&&(W.classes.push("accent-full"),B=y.height);let Ee=E;xe||(Ee-=ie/2),W.style.left=fe(Ee),h.label==="\\textcircled"&&(W.style.top=".2em"),W=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:-B},{type:"elem",elem:W}]},i)}const Q=X.makeSpan(["mord","accent"],[W],i);return f?(f.children[0]=Q,f.height=Math.max(Q.height,f.height),f.classes[0]="mord",f):Q},Ea=(a,i)=>{const l=a.isStretchy?nr.mathMLnode(a.label):new le.MathNode("mo",[It(a.label,a.mode)]),h=new le.MathNode("mover",[Ke(a.base,i),l]);return h.setAttribute("accent","true"),h},n0=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));ge({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,i)=>{const l=uo(i[0]),h=!n0.test(a.funcName),f=!h||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:h,isShifty:f,base:l}},htmlBuilder:yo,mathmlBuilder:Ea}),ge({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,i)=>{const l=i[0];let h=a.parser.mode;return h==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),h="text"),{type:"accent",mode:h,label:a.funcName,isStretchy:!1,isShifty:!0,base:l}},htmlBuilder:yo,mathmlBuilder:Ea}),ge({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"accentUnder",mode:l.mode,label:h,base:f}},htmlBuilder:(a,i)=>{const l=ke(a.base,i),h=nr.svgSpan(a,i),f=a.label==="\\utilde"?.12:0,y=X.makeVList({positionType:"top",positionData:l.height,children:[{type:"elem",elem:h,wrapperClasses:["svg-align"]},{type:"kern",size:f},{type:"elem",elem:l}]},i);return X.makeSpan(["mord","accentunder"],[y],i)},mathmlBuilder:(a,i)=>{const l=nr.mathMLnode(a.label),h=new le.MathNode("munder",[Ke(a.base,i),l]);return h.setAttribute("accentunder","true"),h}});const ms=a=>{const i=new le.MathNode("mpadded",a?[a]:[]);return i.setAttribute("width","+0.6em"),i.setAttribute("lspace","0.3em"),i};ge({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h,funcName:f}=a;return{type:"xArrow",mode:h.mode,label:f,body:i[0],below:l[0]}},htmlBuilder(a,i){const l=i.style;let h=i.havingStyle(l.sup());const f=X.wrapFragment(ke(a.body,h,i),i),y=a.label.slice(0,2)==="\\x"?"x":"cd";f.classes.push(y+"-arrow-pad");let _;a.below&&(h=i.havingStyle(l.sub()),_=X.wrapFragment(ke(a.below,h,i),i),_.classes.push(y+"-arrow-pad"));const E=nr.svgSpan(a,i),C=-i.fontMetrics().axisHeight+.5*E.height;let B=-i.fontMetrics().axisHeight-.5*E.height-.111;(f.depth>.25||a.label==="\\xleftequilibrium")&&(B-=f.depth);let W;if(_){const Q=-i.fontMetrics().axisHeight+_.height+.5*E.height+.111;W=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:E,shift:C},{type:"elem",elem:_,shift:Q}]},i)}else W=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:B},{type:"elem",elem:E,shift:C}]},i);return W.children[0].children[0].children[1].classes.push("svg-align"),X.makeSpan(["mrel","x-arrow"],[W],i)},mathmlBuilder(a,i){const l=nr.mathMLnode(a.label);l.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");let h;if(a.body){const f=ms(Ke(a.body,i));if(a.below){const y=ms(Ke(a.below,i));h=new le.MathNode("munderover",[l,y,f])}else h=new le.MathNode("mover",[l,f])}else if(a.below){const f=ms(Ke(a.below,i));h=new le.MathNode("munder",[l,f])}else h=ms(),h=new le.MathNode("mover",[l,h]);return h}});const bn=X.makeSpan;function Ta(a,i){const l=gt(a.body,i,!0);return bn([a.mclass],l,i)}function ka(a,i){let l;const h=tn(a.body,i);return a.mclass==="minner"?l=new le.MathNode("mpadded",h):a.mclass==="mord"?a.isCharacterBox?(l=h[0],l.type="mi"):l=new le.MathNode("mi",h):(a.isCharacterBox?(l=h[0],l.type="mo"):l=new le.MathNode("mo",h),a.mclass==="mbin"?(l.attributes.lspace="0.22em",l.attributes.rspace="0.22em"):a.mclass==="mpunct"?(l.attributes.lspace="0em",l.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(l.attributes.lspace="0em",l.attributes.rspace="0em"):a.mclass==="minner"&&(l.attributes.lspace="0.0556em",l.attributes.width="+0.1111em")),l}ge({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"mclass",mode:l.mode,mclass:"m"+h.slice(5),body:bt(f),isCharacterBox:G.isCharacterBox(f)}},htmlBuilder:Ta,mathmlBuilder:ka});const vr=a=>{const i=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return i.type==="atom"&&(i.family==="bin"||i.family==="rel")?"m"+i.family:"mord"};ge({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,i){let{parser:l}=a;return{type:"mclass",mode:l.mode,mclass:vr(i[0]),body:bt(i[1]),isCharacterBox:G.isCharacterBox(i[1])}}}),ge({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,i){let{parser:l,funcName:h}=a;const f=i[1],y=i[0];let _;h!=="\\stackrel"?_=vr(f):_="mrel";const E={type:"op",mode:f.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:h!=="\\stackrel",body:bt(f)},C={type:"supsub",mode:y.mode,base:E,sup:h==="\\underset"?null:y,sub:h==="\\underset"?y:null};return{type:"mclass",mode:l.mode,mclass:_,body:[C],isCharacterBox:G.isCharacterBox(C)}},htmlBuilder:Ta,mathmlBuilder:ka}),ge({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"pmb",mode:l.mode,mclass:vr(i[0]),body:bt(i[0])}},htmlBuilder(a,i){const l=gt(a.body,i,!0),h=X.makeSpan([a.mclass],l,i);return h.style.textShadow="0.02em 0.01em 0.04px",h},mathmlBuilder(a,i){const l=tn(a.body,i),h=new le.MathNode("mstyle",l);return h.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),h}});const u={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},g=()=>({type:"styling",body:[],mode:"math",style:"display"}),w=a=>a.type==="textord"&&a.text==="@",A=(a,i)=>(a.type==="mathord"||a.type==="atom")&&a.text===i;function K(a,i,l){const h=u[a];switch(h){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return l.callFunction(h,[i[0]],[i[1]]);case"\\uparrow":case"\\downarrow":{const f=l.callFunction("\\\\cdleft",[i[0]],[]),y={type:"atom",text:h,mode:"math",family:"rel"},_=l.callFunction("\\Big",[y],[]),E=l.callFunction("\\\\cdright",[i[1]],[]),C={type:"ordgroup",mode:"math",body:[f,_,E]};return l.callFunction("\\\\cdparent",[C],[])}case"\\\\cdlongequal":return l.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const f={type:"textord",text:"\\Vert",mode:"math"};return l.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ne(a){const i=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){i.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();const y=a.fetch().text;if(y==="&"||y==="\\\\")a.consume();else if(y==="\\end"){i[i.length-1].length===0&&i.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",a.nextToken)}let l=[];const h=[l];for(let y=0;y<i.length;y++){const _=i[y];let E=g();for(let C=0;C<_.length;C++)if(!w(_[C]))E.body.push(_[C]);else{l.push(E),C+=1;const B=yr(_[C]).text,W=new Array(2);if(W[0]={type:"ordgroup",mode:"math",body:[]},W[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(B)>-1))if("<>AV".indexOf(B)>-1)for(let ie=0;ie<2;ie++){let xe=!0;for(let Ee=C+1;Ee<_.length;Ee++){if(A(_[Ee],B)){xe=!1,C=Ee;break}if(w(_[Ee]))throw new o("Missing a "+B+" character to complete a CD arrow.",_[Ee]);W[ie].body.push(_[Ee])}if(xe)throw new o("Missing a "+B+" character to complete a CD arrow.",_[C])}else throw new o('Expected one of "<>AV=|." after @',_[C]);const Z={type:"styling",body:[K(B,W,a)],mode:"math",style:"display"};l.push(Z),E=g()}y%2===0?l.push(E):l.shift(),l=[],h.push(l)}a.gullet.endGroup(),a.gullet.endGroup();const f=new Array(h[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:h,arraystretch:1,addJot:!0,rowGaps:[null],cols:f,colSeparationType:"CD",hLinesBeforeRow:new Array(h.length+1).fill([])}}ge({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"cdlabel",mode:l.mode,side:h.slice(4),label:i[0]}},htmlBuilder(a,i){const l=i.havingStyle(i.style.sup()),h=X.wrapFragment(ke(a.label,l,i),i);return h.classes.push("cd-label-"+a.side),h.style.bottom=fe(.8-h.depth),h.height=0,h.depth=0,h},mathmlBuilder(a,i){let l=new le.MathNode("mrow",[Ke(a.label,i)]);return l=new le.MathNode("mpadded",[l]),l.setAttribute("width","0"),a.side==="left"&&l.setAttribute("lspace","-1width"),l.setAttribute("voffset","0.7em"),l=new le.MathNode("mstyle",[l]),l.setAttribute("displaystyle","false"),l.setAttribute("scriptlevel","1"),l}}),ge({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,i){let{parser:l}=a;return{type:"cdlabelparent",mode:l.mode,fragment:i[0]}},htmlBuilder(a,i){const l=X.wrapFragment(ke(a.fragment,i),i);return l.classes.push("cd-vert-arrow"),l},mathmlBuilder(a,i){return new le.MathNode("mrow",[Ke(a.fragment,i)])}}),ge({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;const f=Pe(i[0],"ordgroup").body;let y="";for(let C=0;C<f.length;C++){const B=Pe(f[C],"textord");y+=B.text}let _=parseInt(y),E;if(isNaN(_))throw new o("\\@char has non-numeric argument "+y);if(_<0||_>=1114111)throw new o("\\@char with invalid code point "+y);return _<=65535?E=String.fromCharCode(_):(_-=65536,E=String.fromCharCode((_>>10)+55296,(_&1023)+56320)),{type:"textord",mode:l.mode,text:E}}});const me=(a,i)=>{const l=gt(a.body,i.withColor(a.color),!1);return X.makeFragment(l)},tt=(a,i)=>{const l=tn(a.body,i.withColor(a.color)),h=new le.MathNode("mstyle",l);return h.setAttribute("mathcolor",a.color),h};ge({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,i){let{parser:l}=a;const h=Pe(i[0],"color-token").color,f=i[1];return{type:"color",mode:l.mode,color:h,body:bt(f)}},htmlBuilder:me,mathmlBuilder:tt}),ge({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,i){let{parser:l,breakOnTokenText:h}=a;const f=Pe(i[0],"color-token").color;l.gullet.macros.set("\\current@color",f);const y=l.parseExpression(!0,h);return{type:"color",mode:l.mode,color:f,body:y}},htmlBuilder:me,mathmlBuilder:tt}),ge({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,i,l){let{parser:h}=a;const f=h.gullet.future().text==="["?h.parseSizeGroup(!0):null,y=!h.settings.displayMode||!h.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:h.mode,newLine:y,size:f&&Pe(f,"size").value}},htmlBuilder(a,i){const l=X.makeSpan(["mspace"],[],i);return a.newLine&&(l.classes.push("newline"),a.size&&(l.style.marginTop=fe(Ye(a.size,i)))),l},mathmlBuilder(a,i){const l=new le.MathNode("mspace");return a.newLine&&(l.setAttribute("linebreak","newline"),a.size&&l.setAttribute("height",fe(Ye(a.size,i)))),l}});const Pt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ue=a=>{const i=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new o("Expected a control sequence",a);return i},Xt=a=>{let i=a.gullet.popToken();return i.text==="="&&(i=a.gullet.popToken(),i.text===" "&&(i=a.gullet.popToken())),i},qt=(a,i,l,h)=>{let f=a.gullet.macros.get(l.text);f==null&&(l.noexpand=!0,f={tokens:[l],numArgs:0,unexpandable:!a.gullet.isExpandable(l.text)}),a.gullet.macros.set(i,f,h)};ge({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){let{parser:i,funcName:l}=a;i.consumeSpaces();const h=i.fetch();if(Pt[h.text])return(l==="\\global"||l==="\\\\globallong")&&(h.text=Pt[h.text]),Pe(i.parseFunction(),"internal");throw new o("Invalid token after macro prefix",h)}}),ge({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a,h=i.gullet.popToken();const f=h.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new o("Expected a control sequence",h);let y=0,_;const E=[[]];for(;i.gullet.future().text!=="{";)if(h=i.gullet.popToken(),h.text==="#"){if(i.gullet.future().text==="{"){_=i.gullet.future(),E[y].push("{");break}if(h=i.gullet.popToken(),!/^[1-9]$/.test(h.text))throw new o('Invalid argument number "'+h.text+'"');if(parseInt(h.text)!==y+1)throw new o('Argument number "'+h.text+'" out of order');y++,E.push([])}else{if(h.text==="EOF")throw new o("Expected a macro definition");E[y].push(h.text)}let{tokens:C}=i.gullet.consumeArg();return _&&C.unshift(_),(l==="\\edef"||l==="\\xdef")&&(C=i.gullet.expandTokens(C),C.reverse()),i.gullet.macros.set(f,{tokens:C,numArgs:y,delimiters:E},l===Pt[l]),{type:"internal",mode:i.mode}}}),ge({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=Ue(i.gullet.popToken());i.gullet.consumeSpaces();const f=Xt(i);return qt(i,h,f,l==="\\\\globallet"),{type:"internal",mode:i.mode}}}),ge({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:i,funcName:l}=a;const h=Ue(i.gullet.popToken()),f=i.gullet.popToken(),y=i.gullet.popToken();return qt(i,h,y,l==="\\\\globalfuture"),i.gullet.pushToken(y),i.gullet.pushToken(f),{type:"internal",mode:i.mode}}});const rr=function(a,i,l){const h=Fe.math[a]&&Fe.math[a].replace,f=Xr(h||a,i,l);if(!f)throw new Error("Unsupported symbol "+a+" and font size "+i+".");return f},Sn=function(a,i,l,h){const f=l.havingBaseStyle(i),y=X.makeSpan(h.concat(f.sizingClasses(l)),[a],l),_=f.sizeMultiplier/l.sizeMultiplier;return y.height*=_,y.depth*=_,y.maxFontSize=f.sizeMultiplier,y},Ri=function(a,i,l){const h=i.havingBaseStyle(l),f=(1-i.sizeMultiplier/h.sizeMultiplier)*i.fontMetrics().axisHeight;a.classes.push("delimcenter"),a.style.top=fe(f),a.height-=f,a.depth+=f},Aa=function(a,i,l,h,f,y){const _=X.makeSymbol(a,"Main-Regular",f,h),E=Sn(_,i,h,y);return l&&Ri(E,h,i),E},Q3=function(a,i,l,h){return X.makeSymbol(a,"Size"+i+"-Regular",l,h)},Pm=function(a,i,l,h,f,y){const _=Q3(a,i,f,h),E=Sn(X.makeSpan(["delimsizing","size"+i],[_],h),he.TEXT,h,y);return l&&Ri(E,h,he.TEXT),E},wc=function(a,i,l){let h;return i==="Size1-Regular"?h="delim-size1":h="delim-size4",{type:"elem",elem:X.makeSpan(["delimsizinginner",h],[X.makeSpan([],[X.makeSymbol(a,i,l)])])}},xc=function(a,i,l){const h=Kt["Size4-Regular"][a.charCodeAt(0)]?Kt["Size4-Regular"][a.charCodeAt(0)][4]:Kt["Size1-Regular"][a.charCodeAt(0)][4],f=new Un("inner",xi(a,Math.round(1e3*i))),y=new Ut([f],{width:fe(h),height:fe(i),style:"width:"+fe(h),viewBox:"0 0 "+1e3*h+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),_=X.makeSvgSpan([],[y],l);return _.height=i,_.style.height=fe(i),_.style.width=fe(h),{type:"elem",elem:_}},_c=.008,r0={type:"kern",size:-1*_c},K3=["|","\\lvert","\\rvert","\\vert"],X3=["\\|","\\lVert","\\rVert","\\Vert"],Mm=function(a,i,l,h,f,y){let _,E,C,B,W="",Q=0;_=C=B=a,E=null;let Z="Size1-Regular";a==="\\uparrow"?C=B="":a==="\\Uparrow"?C=B="":a==="\\downarrow"?_=C="":a==="\\Downarrow"?_=C="":a==="\\updownarrow"?(_="\\uparrow",C="",B="\\downarrow"):a==="\\Updownarrow"?(_="\\Uparrow",C="",B="\\Downarrow"):K3.includes(a)?(C="",W="vert",Q=333):X3.includes(a)?(C="",W="doublevert",Q=556):a==="["||a==="\\lbrack"?(_="",C="",B="",Z="Size4-Regular",W="lbrack",Q=667):a==="]"||a==="\\rbrack"?(_="",C="",B="",Z="Size4-Regular",W="rbrack",Q=667):a==="\\lfloor"||a===""?(C=_="",B="",Z="Size4-Regular",W="lfloor",Q=667):a==="\\lceil"||a===""?(_="",C=B="",Z="Size4-Regular",W="lceil",Q=667):a==="\\rfloor"||a===""?(C=_="",B="",Z="Size4-Regular",W="rfloor",Q=667):a==="\\rceil"||a===""?(_="",C=B="",Z="Size4-Regular",W="rceil",Q=667):a==="("||a==="\\lparen"?(_="",C="",B="",Z="Size4-Regular",W="lparen",Q=875):a===")"||a==="\\rparen"?(_="",C="",B="",Z="Size4-Regular",W="rparen",Q=875):a==="\\{"||a==="\\lbrace"?(_="",E="",B="",C="",Z="Size4-Regular"):a==="\\}"||a==="\\rbrace"?(_="",E="",B="",C="",Z="Size4-Regular"):a==="\\lgroup"||a===""?(_="",B="",C="",Z="Size4-Regular"):a==="\\rgroup"||a===""?(_="",B="",C="",Z="Size4-Regular"):a==="\\lmoustache"||a===""?(_="",B="",C="",Z="Size4-Regular"):(a==="\\rmoustache"||a==="")&&(_="",B="",C="",Z="Size4-Regular");const ie=rr(_,Z,f),xe=ie.height+ie.depth,Ee=rr(C,Z,f),qe=Ee.height+Ee.depth,Le=rr(B,Z,f),He=Le.height+Le.depth;let Ze=0,ct=1;if(E!==null){const Ct=rr(E,Z,f);Ze=Ct.height+Ct.depth,ct=2}const En=xe+He+Ze,Ht=Math.max(0,Math.ceil((i-En)/(ct*qe))),sr=En+Ht*ct*qe;let wo=h.fontMetrics().axisHeight;l&&(wo*=h.sizeMultiplier);const We=sr/2-wo,st=[];if(W.length>0){const Ct=sr-xe-He,St=Math.round(sr*1e3),ir=Cr(W,Math.round(Ct*1e3)),b6=new Un(W,ir),S1=(Q/1e3).toFixed(3)+"em",E1=(St/1e3).toFixed(3)+"em",S6=new Ut([b6],{width:S1,height:E1,viewBox:"0 0 "+Q+" "+St}),l0=X.makeSvgSpan([],[S6],h);l0.height=St/1e3,l0.style.width=S1,l0.style.height=E1,st.push({type:"elem",elem:l0})}else{if(st.push(wc(B,Z,f)),st.push(r0),E===null){const Ct=sr-xe-He+2*_c;st.push(xc(C,Ct,h))}else{const Ct=(sr-xe-He-Ze)/2+2*_c;st.push(xc(C,Ct,h)),st.push(r0),st.push(wc(E,Z,f)),st.push(r0),st.push(xc(C,Ct,h))}st.push(r0),st.push(wc(_,Z,f))}const ft=h.havingBaseStyle(he.TEXT),yt=X.makeVList({positionType:"bottom",positionData:We,children:st},ft);return Sn(X.makeSpan(["delimsizing","mult"],[yt],ft),he.TEXT,h,y)},bc=80,Sc=.08,Ec=function(a,i,l,h,f){const y=Rs(a,h,l),_=new Un(a,y),E=new Ut([_],{width:"400em",height:fe(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return X.makeSvgSpan(["hide-tail"],[E],f)},Y3=function(a,i){const l=i.havingBaseSizing(),h=Lm("\\surd",a*l.sizeMultiplier,zm,l);let f=l.sizeMultiplier;const y=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness);let _,E=0,C=0,B=0,W;return h.type==="small"?(B=1e3+1e3*y+bc,a<1?f=1:a<1.4&&(f=.7),E=(1+y+Sc)/f,C=(1+y)/f,_=Ec("sqrtMain",E,B,y,i),_.style.minWidth="0.853em",W=.833/f):h.type==="large"?(B=(1e3+bc)*Ia[h.size],C=(Ia[h.size]+y)/f,E=(Ia[h.size]+y+Sc)/f,_=Ec("sqrtSize"+h.size,E,B,y,i),_.style.minWidth="1.02em",W=1/f):(E=a+y+Sc,C=a+y,B=Math.floor(1e3*a+y)+bc,_=Ec("sqrtTall",E,B,y,i),_.style.minWidth="0.742em",W=1.056),_.height=C,_.style.height=fe(E),{span:_,advanceWidth:W,ruleWidth:(i.fontMetrics().sqrtRuleThickness+y)*f}},Dm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],J3=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Vm=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ia=[0,1.2,1.8,2.4,3],Z3=function(a,i,l,h,f){if(a==="<"||a==="\\lt"||a===""?a="\\langle":(a===">"||a==="\\gt"||a==="")&&(a="\\rangle"),Dm.includes(a)||Vm.includes(a))return Pm(a,i,!1,l,h,f);if(J3.includes(a))return Mm(a,Ia[i],!1,l,h,f);throw new o("Illegal delimiter: '"+a+"'")},e6=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],t6=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"stack"}],zm=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],n6=function(a){if(a.type==="small")return"Main-Regular";if(a.type==="large")return"Size"+a.size+"-Regular";if(a.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+a.type+"' here.")},Lm=function(a,i,l,h){const f=Math.min(2,3-h.style.size);for(let y=f;y<l.length&&l[y].type!=="stack";y++){const _=rr(a,n6(l[y]),"math");let E=_.height+_.depth;if(l[y].type==="small"){const C=h.havingBaseStyle(l[y].style);E*=C.sizeMultiplier}if(E>i)return l[y]}return l[l.length-1]},Om=function(a,i,l,h,f,y){a==="<"||a==="\\lt"||a===""?a="\\langle":(a===">"||a==="\\gt"||a==="")&&(a="\\rangle");let _;Vm.includes(a)?_=e6:Dm.includes(a)?_=zm:_=t6;const E=Lm(a,i,_,h);return E.type==="small"?Aa(a,E.style,l,h,f,y):E.type==="large"?Pm(a,E.size,l,h,f,y):Mm(a,i,l,h,f,y)};var ps={sqrtImage:Y3,sizedDelim:Z3,sizeToMaxHeight:Ia,customSizedDelim:Om,leftRightDelim:function(a,i,l,h,f,y){const _=h.fontMetrics().axisHeight*h.sizeMultiplier,E=901,C=5/h.fontMetrics().ptPerEm,B=Math.max(i-_,l+_),W=Math.max(B/500*E,2*B-C);return Om(a,W,!0,h,f,y)}};const Fm={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},r6=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function s0(a,i){const l=Ni(a);if(l&&r6.includes(l.text))return l;throw l?new o("Invalid delimiter '"+l.text+"' after '"+i.funcName+"'",a):new o("Invalid delimiter type '"+a.type+"'",a)}ge({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,i)=>{const l=s0(i[0],a);return{type:"delimsizing",mode:a.parser.mode,size:Fm[a.funcName].size,mclass:Fm[a.funcName].mclass,delim:l.text}},htmlBuilder:(a,i)=>a.delim==="."?X.makeSpan([a.mclass]):ps.sizedDelim(a.delim,a.size,i,a.mode,[a.mclass]),mathmlBuilder:a=>{const i=[];a.delim!=="."&&i.push(It(a.delim,a.mode));const l=new le.MathNode("mo",i);a.mclass==="mopen"||a.mclass==="mclose"?l.setAttribute("fence","true"):l.setAttribute("fence","false"),l.setAttribute("stretchy","true");const h=fe(ps.sizeToMaxHeight[a.size]);return l.setAttribute("minsize",h),l.setAttribute("maxsize",h),l}});function Bm(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ge({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=a.parser.gullet.macros.get("\\current@color");if(l&&typeof l!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:s0(i[0],a).text,color:l}}}),ge({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=s0(i[0],a),h=a.parser;++h.leftrightDepth;const f=h.parseExpression(!1);--h.leftrightDepth,h.expect("\\right",!1);const y=Pe(h.parseFunction(),"leftright-right");return{type:"leftright",mode:h.mode,body:f,left:l.text,right:y.delim,rightColor:y.color}},htmlBuilder:(a,i)=>{Bm(a);const l=gt(a.body,i,!0,["mopen","mclose"]);let h=0,f=0,y=!1;for(let C=0;C<l.length;C++)l[C].isMiddle?y=!0:(h=Math.max(l[C].height,h),f=Math.max(l[C].depth,f));h*=i.sizeMultiplier,f*=i.sizeMultiplier;let _;if(a.left==="."?_=ds(i,["mopen"]):_=ps.leftRightDelim(a.left,h,f,i,a.mode,["mopen"]),l.unshift(_),y)for(let C=1;C<l.length;C++){const W=l[C].isMiddle;W&&(l[C]=ps.leftRightDelim(W.delim,h,f,W.options,a.mode,[]))}let E;if(a.right===".")E=ds(i,["mclose"]);else{const C=a.rightColor?i.withColor(a.rightColor):i;E=ps.leftRightDelim(a.right,h,f,C,a.mode,["mclose"])}return l.push(E),X.makeSpan(["minner"],l,i)},mathmlBuilder:(a,i)=>{Bm(a);const l=tn(a.body,i);if(a.left!=="."){const h=new le.MathNode("mo",[It(a.left,a.mode)]);h.setAttribute("fence","true"),l.unshift(h)}if(a.right!=="."){const h=new le.MathNode("mo",[It(a.right,a.mode)]);h.setAttribute("fence","true"),a.rightColor&&h.setAttribute("mathcolor",a.rightColor),l.push(h)}return go(l)}}),ge({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{const l=s0(i[0],a);if(!a.parser.leftrightDepth)throw new o("\\middle without preceding \\left",l);return{type:"middle",mode:a.parser.mode,delim:l.text}},htmlBuilder:(a,i)=>{let l;if(a.delim===".")l=ds(i,[]);else{l=ps.sizedDelim(a.delim,1,i,a.mode,[]);const h={delim:a.delim,options:i};l.isMiddle=h}return l},mathmlBuilder:(a,i)=>{const l=a.delim==="\\vert"||a.delim==="|"?It("|","text"):It(a.delim,a.mode),h=new le.MathNode("mo",[l]);return h.setAttribute("fence","true"),h.setAttribute("lspace","0.05em"),h.setAttribute("rspace","0.05em"),h}});const Tc=(a,i)=>{const l=X.wrapFragment(ke(a.body,i),i),h=a.label.slice(1);let f=i.sizeMultiplier,y,_=0;const E=G.isCharacterBox(a.body);if(h==="sout")y=X.makeSpan(["stretchy","sout"]),y.height=i.fontMetrics().defaultRuleThickness/f,_=-.5*i.fontMetrics().xHeight;else if(h==="phase"){const B=Ye({number:.6,unit:"pt"},i),W=Ye({number:.35,unit:"ex"},i),Q=i.havingBaseSizing();f=f/Q.sizeMultiplier;const Z=l.height+l.depth+B+W;l.style.paddingLeft=fe(Z/2+B);const ie=Math.floor(1e3*Z*f),xe=Kr(ie),Ee=new Ut([new Un("phase",xe)],{width:"400em",height:fe(ie/1e3),viewBox:"0 0 400000 "+ie,preserveAspectRatio:"xMinYMin slice"});y=X.makeSvgSpan(["hide-tail"],[Ee],i),y.style.height=fe(Z),_=l.depth+B+W}else{/cancel/.test(h)?E||l.classes.push("cancel-pad"):h==="angl"?l.classes.push("anglpad"):l.classes.push("boxpad");let B=0,W=0,Q=0;/box/.test(h)?(Q=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness),B=i.fontMetrics().fboxsep+(h==="colorbox"?0:Q),W=B):h==="angl"?(Q=Math.max(i.fontMetrics().defaultRuleThickness,i.minRuleThickness),B=4*Q,W=Math.max(0,.25-l.depth)):(B=E?.2:0,W=B),y=nr.encloseSpan(l,h,B,W,i),/fbox|boxed|fcolorbox/.test(h)?(y.style.borderStyle="solid",y.style.borderWidth=fe(Q)):h==="angl"&&Q!==.049&&(y.style.borderTopWidth=fe(Q),y.style.borderRightWidth=fe(Q)),_=l.depth+W,a.backgroundColor&&(y.style.backgroundColor=a.backgroundColor,a.borderColor&&(y.style.borderColor=a.borderColor))}let C;if(a.backgroundColor)C=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:_},{type:"elem",elem:l,shift:0}]},i);else{const B=/cancel|phase/.test(h)?["svg-align"]:[];C=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:y,shift:_,wrapperClasses:B}]},i)}return/cancel/.test(h)&&(C.height=l.height,C.depth=l.depth),/cancel/.test(h)&&!E?X.makeSpan(["mord","cancel-lap"],[C],i):X.makeSpan(["mord"],[C],i)},kc=(a,i)=>{let l=0;const h=new le.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ke(a.body,i)]);switch(a.label){case"\\cancel":h.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":h.setAttribute("notation","downdiagonalstrike");break;case"\\phase":h.setAttribute("notation","phasorangle");break;case"\\sout":h.setAttribute("notation","horizontalstrike");break;case"\\fbox":h.setAttribute("notation","box");break;case"\\angl":h.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(l=i.fontMetrics().fboxsep*i.fontMetrics().ptPerEm,h.setAttribute("width","+"+2*l+"pt"),h.setAttribute("height","+"+2*l+"pt"),h.setAttribute("lspace",l+"pt"),h.setAttribute("voffset",l+"pt"),a.label==="\\fcolorbox"){const f=Math.max(i.fontMetrics().fboxrule,i.minRuleThickness);h.setAttribute("style","border: "+f+"em solid "+String(a.borderColor))}break;case"\\xcancel":h.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&h.setAttribute("mathbackground",a.backgroundColor),h};ge({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Pe(i[0],"color-token").color,_=i[1];return{type:"enclose",mode:h.mode,label:f,backgroundColor:y,body:_}},htmlBuilder:Tc,mathmlBuilder:kc}),ge({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,i,l){let{parser:h,funcName:f}=a;const y=Pe(i[0],"color-token").color,_=Pe(i[1],"color-token").color,E=i[2];return{type:"enclose",mode:h.mode,label:f,backgroundColor:_,borderColor:y,body:E}},htmlBuilder:Tc,mathmlBuilder:kc}),ge({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\fbox",body:i[0]}}}),ge({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"enclose",mode:l.mode,label:h,body:f}},htmlBuilder:Tc,mathmlBuilder:kc}),ge({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\angl",body:i[0]}}});const jm={};function Vr(a){let{type:i,names:l,props:h,handler:f,htmlBuilder:y,mathmlBuilder:_}=a;const E={type:i,numArgs:h.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:f};for(let C=0;C<l.length;++C)jm[l[C]]=E;y&&(ki[i]=y),_&&(Ai[i]=_)}const Um={};function T(a,i){Um[a]=i}class Pn{constructor(i,l,h){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=i,this.start=l,this.end=h}static range(i,l){return l?!i||!i.loc||!l.loc||i.loc.lexer!==l.loc.lexer?null:new Pn(i.loc.lexer,i.loc.start,l.loc.end):i&&i.loc}}class $n{constructor(i,l){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=i,this.loc=l}range(i,l){return new $n(l,Pn.range(this,i))}}function qm(a){const i=[];a.consumeSpaces();let l=a.fetch().text;for(l==="\\relax"&&(a.consume(),a.consumeSpaces(),l=a.fetch().text);l==="\\hline"||l==="\\hdashline";)a.consume(),i.push(l==="\\hdashline"),a.consumeSpaces(),l=a.fetch().text;return i}const i0=a=>{if(!a.parser.settings.displayMode)throw new o("{"+a.envName+"} can be used only in display mode.")};function Ac(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function Us(a,i,l){let{hskipBeforeAndAfter:h,addJot:f,cols:y,arraystretch:_,colSeparationType:E,autoTag:C,singleRow:B,emptySingleRow:W,maxNumCols:Q,leqno:Z}=i;if(a.gullet.beginGroup(),B||a.gullet.macros.set("\\cr","\\\\\\relax"),!_){const ct=a.gullet.expandMacroAsText("\\arraystretch");if(ct==null)_=1;else if(_=parseFloat(ct),!_||_<0)throw new o("Invalid \\arraystretch: "+ct)}a.gullet.beginGroup();let ie=[];const xe=[ie],Ee=[],qe=[],Le=C!=null?[]:void 0;function He(){C&&a.gullet.macros.set("\\@eqnsw","1",!0)}function Ze(){Le&&(a.gullet.macros.get("\\df@tag")?(Le.push(a.subparse([new $n("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):Le.push(!!C&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(He(),qe.push(qm(a));;){let ct=a.parseExpression(!1,B?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),ct={type:"ordgroup",mode:a.mode,body:ct},l&&(ct={type:"styling",mode:a.mode,style:l,body:[ct]}),ie.push(ct);const En=a.fetch().text;if(En==="&"){if(Q&&ie.length===Q){if(B||E)throw new o("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(En==="\\end"){Ze(),ie.length===1&&ct.type==="styling"&&ct.body[0].body.length===0&&(xe.length>1||!W)&&xe.pop(),qe.length<xe.length+1&&qe.push([]);break}else if(En==="\\\\"){a.consume();let Ht;a.gullet.future().text!==" "&&(Ht=a.parseSizeGroup(!0)),Ee.push(Ht?Ht.value:null),Ze(),qe.push(qm(a)),ie=[],xe.push(ie),He()}else throw new o("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:f,arraystretch:_,body:xe,cols:y,rowGaps:Ee,hskipBeforeAndAfter:h,hLinesBeforeRow:qe,colSeparationType:E,tags:Le,leqno:Z}}function Ic(a){return a.slice(0,1)==="d"?"display":"text"}const zr=function(a,i){let l,h;const f=a.body.length,y=a.hLinesBeforeRow;let _=0,E=new Array(f);const C=[],B=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),W=1/i.fontMetrics().ptPerEm;let Q=5*W;a.colSeparationType&&a.colSeparationType==="small"&&(Q=.2778*(i.havingStyle(he.SCRIPT).sizeMultiplier/i.sizeMultiplier));const Z=a.colSeparationType==="CD"?Ye({number:3,unit:"ex"},i):12*W,ie=3*W,xe=a.arraystretch*Z,Ee=.7*xe,qe=.3*xe;let Le=0;function He(We){for(let st=0;st<We.length;++st)st>0&&(Le+=.25),C.push({pos:Le,isDashed:We[st]})}for(He(y[0]),l=0;l<a.body.length;++l){const We=a.body[l];let st=Ee,ft=qe;_<We.length&&(_=We.length);const yt=new Array(We.length);for(h=0;h<We.length;++h){const ir=ke(We[h],i);ft<ir.depth&&(ft=ir.depth),st<ir.height&&(st=ir.height),yt[h]=ir}const Ct=a.rowGaps[l];let St=0;Ct&&(St=Ye(Ct,i),St>0&&(St+=qe,ft<St&&(ft=St),St=0)),a.addJot&&(ft+=ie),yt.height=st,yt.depth=ft,Le+=st,yt.pos=Le,Le+=ft+St,E[l]=yt,He(y[l+1])}const Ze=Le/2+i.fontMetrics().axisHeight,ct=a.cols||[],En=[];let Ht,sr;const wo=[];if(a.tags&&a.tags.some(We=>We))for(l=0;l<f;++l){const We=E[l],st=We.pos-Ze,ft=a.tags[l];let yt;ft===!0?yt=X.makeSpan(["eqn-num"],[],i):ft===!1?yt=X.makeSpan([],[],i):yt=X.makeSpan([],gt(ft,i,!0),i),yt.depth=We.depth,yt.height=We.height,wo.push({type:"elem",elem:yt,shift:st})}for(h=0,sr=0;h<_||sr<ct.length;++h,++sr){let We=ct[sr]||{},st=!0;for(;We.type==="separator";){if(st||(Ht=X.makeSpan(["arraycolsep"],[]),Ht.style.width=fe(i.fontMetrics().doubleRuleSep),En.push(Ht)),We.separator==="|"||We.separator===":"){const Ct=We.separator==="|"?"solid":"dashed",St=X.makeSpan(["vertical-separator"],[],i);St.style.height=fe(Le),St.style.borderRightWidth=fe(B),St.style.borderRightStyle=Ct,St.style.margin="0 "+fe(-B/2);const ir=Le-Ze;ir&&(St.style.verticalAlign=fe(-ir)),En.push(St)}else throw new o("Invalid separator type: "+We.separator);sr++,We=ct[sr]||{},st=!1}if(h>=_)continue;let ft;(h>0||a.hskipBeforeAndAfter)&&(ft=G.deflt(We.pregap,Q),ft!==0&&(Ht=X.makeSpan(["arraycolsep"],[]),Ht.style.width=fe(ft),En.push(Ht)));let yt=[];for(l=0;l<f;++l){const Ct=E[l],St=Ct[h];if(!St)continue;const ir=Ct.pos-Ze;St.depth=Ct.depth,St.height=Ct.height,yt.push({type:"elem",elem:St,shift:ir})}yt=X.makeVList({positionType:"individualShift",children:yt},i),yt=X.makeSpan(["col-align-"+(We.align||"c")],[yt]),En.push(yt),(h<_-1||a.hskipBeforeAndAfter)&&(ft=G.deflt(We.postgap,Q),ft!==0&&(Ht=X.makeSpan(["arraycolsep"],[]),Ht.style.width=fe(ft),En.push(Ht)))}if(E=X.makeSpan(["mtable"],En),C.length>0){const We=X.makeLineSpan("hline",i,B),st=X.makeLineSpan("hdashline",i,B),ft=[{type:"elem",elem:E,shift:0}];for(;C.length>0;){const yt=C.pop(),Ct=yt.pos-Ze;yt.isDashed?ft.push({type:"elem",elem:st,shift:Ct}):ft.push({type:"elem",elem:We,shift:Ct})}E=X.makeVList({positionType:"individualShift",children:ft},i)}if(wo.length===0)return X.makeSpan(["mord"],[E],i);{let We=X.makeVList({positionType:"individualShift",children:wo},i);return We=X.makeSpan(["tag"],[We],i),X.makeFragment([E,We])}},s6={c:"center ",l:"left ",r:"right "},Lr=function(a,i){const l=[],h=new le.MathNode("mtd",[],["mtr-glue"]),f=new le.MathNode("mtd",[],["mml-eqn-num"]);for(let Q=0;Q<a.body.length;Q++){const Z=a.body[Q],ie=[];for(let xe=0;xe<Z.length;xe++)ie.push(new le.MathNode("mtd",[Ke(Z[xe],i)]));a.tags&&a.tags[Q]&&(ie.unshift(h),ie.push(h),a.leqno?ie.unshift(f):ie.push(f)),l.push(new le.MathNode("mtr",ie))}let y=new le.MathNode("mtable",l);const _=a.arraystretch===.5?.1:.16+a.arraystretch-1+(a.addJot?.09:0);y.setAttribute("rowspacing",fe(_));let E="",C="";if(a.cols&&a.cols.length>0){const Q=a.cols;let Z="",ie=!1,xe=0,Ee=Q.length;Q[0].type==="separator"&&(E+="top ",xe=1),Q[Q.length-1].type==="separator"&&(E+="bottom ",Ee-=1);for(let qe=xe;qe<Ee;qe++)Q[qe].type==="align"?(C+=s6[Q[qe].align],ie&&(Z+="none "),ie=!0):Q[qe].type==="separator"&&ie&&(Z+=Q[qe].separator==="|"?"solid ":"dashed ",ie=!1);y.setAttribute("columnalign",C.trim()),/[sd]/.test(Z)&&y.setAttribute("columnlines",Z.trim())}if(a.colSeparationType==="align"){const Q=a.cols||[];let Z="";for(let ie=1;ie<Q.length;ie++)Z+=ie%2?"0em ":"1em ";y.setAttribute("columnspacing",Z.trim())}else a.colSeparationType==="alignat"||a.colSeparationType==="gather"?y.setAttribute("columnspacing","0em"):a.colSeparationType==="small"?y.setAttribute("columnspacing","0.2778em"):a.colSeparationType==="CD"?y.setAttribute("columnspacing","0.5em"):y.setAttribute("columnspacing","1em");let B="";const W=a.hLinesBeforeRow;E+=W[0].length>0?"left ":"",E+=W[W.length-1].length>0?"right ":"";for(let Q=1;Q<W.length-1;Q++)B+=W[Q].length===0?"none ":W[Q][0]?"dashed ":"solid ";return/[sd]/.test(B)&&y.setAttribute("rowlines",B.trim()),E!==""&&(y=new le.MathNode("menclose",[y]),y.setAttribute("notation",E.trim())),a.arraystretch&&a.arraystretch<1&&(y=new le.MathNode("mstyle",[y]),y.setAttribute("scriptlevel","1")),y},Hm=function(a,i){a.envName.indexOf("ed")===-1&&i0(a);const l=[],h=a.envName.indexOf("at")>-1?"alignat":"align",f=a.envName==="split",y=Us(a.parser,{cols:l,addJot:!0,autoTag:f?void 0:Ac(a.envName),emptySingleRow:!0,colSeparationType:h,maxNumCols:f?2:void 0,leqno:a.parser.settings.leqno},"display");let _,E=0;const C={type:"ordgroup",mode:a.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){let W="";for(let Q=0;Q<i[0].body.length;Q++){const Z=Pe(i[0].body[Q],"textord");W+=Z.text}_=Number(W),E=_*2}const B=!E;y.body.forEach(function(W){for(let Q=1;Q<W.length;Q+=2){const Z=Pe(W[Q],"styling");Pe(Z.body[0],"ordgroup").body.unshift(C)}if(B)E<W.length&&(E=W.length);else{const Q=W.length/2;if(_<Q)throw new o("Too many math in a row: "+("expected "+_+", but got "+Q),W[0])}});for(let W=0;W<E;++W){let Q="r",Z=0;W%2===1?Q="l":W>0&&B&&(Z=1),l[W]={type:"align",align:Q,pregap:Z,postgap:0}}return y.colSeparationType=B?"align":"alignat",y};Vr({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,i){const f=(Ni(i[0])?[i[0]]:Pe(i[0],"ordgroup").body).map(function(_){const C=yr(_).text;if("lcr".indexOf(C)!==-1)return{type:"align",align:C};if(C==="|")return{type:"separator",separator:"|"};if(C===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+C,_)}),y={cols:f,hskipBeforeAndAfter:!0,maxNumCols:f.length};return Us(a.parser,y,Ic(a.envName))},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){const i={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")];let l="c";const h={hskipBeforeAndAfter:!1,cols:[{type:"align",align:l}]};if(a.envName.charAt(a.envName.length-1)==="*"){const _=a.parser;if(_.consumeSpaces(),_.fetch().text==="["){if(_.consume(),_.consumeSpaces(),l=_.fetch().text,"lcr".indexOf(l)===-1)throw new o("Expected l or c or r",_.nextToken);_.consume(),_.consumeSpaces(),_.expect("]"),_.consume(),h.cols=[{type:"align",align:l}]}}const f=Us(a.parser,h,Ic(a.envName)),y=Math.max(0,...f.body.map(_=>_.length));return f.cols=new Array(y).fill({type:"align",align:l}),i?{type:"leftright",mode:a.mode,body:[f],left:i[0],right:i[1],rightColor:void 0}:f},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){const i={arraystretch:.5},l=Us(a.parser,i,"script");return l.colSeparationType="small",l},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["subarray"],props:{numArgs:1},handler(a,i){const f=(Ni(i[0])?[i[0]]:Pe(i[0],"ordgroup").body).map(function(_){const C=yr(_).text;if("lc".indexOf(C)!==-1)return{type:"align",align:C};throw new o("Unknown column alignment: "+C,_)});if(f.length>1)throw new o("{subarray} can contain only one column");let y={cols:f,hskipBeforeAndAfter:!1,arraystretch:.5};if(y=Us(a.parser,y,"script"),y.body.length>0&&y.body[0].length>1)throw new o("{subarray} can contain only one column");return y},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){const i={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},l=Us(a.parser,i,Ic(a.envName));return{type:"leftright",mode:a.mode,body:[l],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Hm,htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){["gather","gather*"].includes(a.envName)&&i0(a);const i={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ac(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return Us(a.parser,i,"display")},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Hm,htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){i0(a);const i={autoTag:Ac(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return Us(a.parser,i,"display")},htmlBuilder:zr,mathmlBuilder:Lr}),Vr({type:"array",names:["CD"],props:{numArgs:0},handler(a){return i0(a),ne(a.parser)},htmlBuilder:zr,mathmlBuilder:Lr}),T("\\nonumber","\\gdef\\@eqnsw{0}"),T("\\notag","\\nonumber"),ge({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,i){throw new o(a.funcName+" valid only within array environment")}});var $m=jm;ge({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];if(f.type!=="ordgroup")throw new o("Invalid environment name",f);let y="";for(let _=0;_<f.body.length;++_)y+=Pe(f.body[_],"textord").text;if(h==="\\begin"){if(!$m.hasOwnProperty(y))throw new o("No such environment: "+y,f);const _=$m[y],{args:E,optArgs:C}=l.parseArguments("\\begin{"+y+"}",_),B={mode:l.mode,envName:y,parser:l},W=_.handler(B,E,C);l.expect("\\end",!1);const Q=l.nextToken,Z=Pe(l.parseFunction(),"environment");if(Z.name!==y)throw new o("Mismatch: \\begin{"+y+"} matched by \\end{"+Z.name+"}",Q);return W}return{type:"environment",mode:l.mode,name:y,nameGroup:f}}});const Wm=(a,i)=>{const l=a.font,h=i.withFont(l);return ke(a.body,h)},Gm=(a,i)=>{const l=a.font,h=i.withFont(l);return Ke(a.body,h)},Qm={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ge({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=uo(i[0]);let y=h;return y in Qm&&(y=Qm[y]),{type:"font",mode:l.mode,font:y.slice(1),body:f}},htmlBuilder:Wm,mathmlBuilder:Gm}),ge({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,i)=>{let{parser:l}=a;const h=i[0],f=G.isCharacterBox(h);return{type:"mclass",mode:l.mode,mclass:vr(h),body:[{type:"font",mode:l.mode,font:"boldsymbol",body:h}],isCharacterBox:f}}}),ge({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,breakOnTokenText:f}=a;const{mode:y}=l,_=l.parseExpression(!0,f),E="math"+h.slice(1);return{type:"font",mode:y,font:E,body:{type:"ordgroup",mode:l.mode,body:_}}},htmlBuilder:Wm,mathmlBuilder:Gm});const Km=(a,i)=>{let l=i;return a==="display"?l=l.id>=he.SCRIPT.id?l.text():he.DISPLAY:a==="text"&&l.size===he.DISPLAY.size?l=he.TEXT:a==="script"?l=he.SCRIPT:a==="scriptscript"&&(l=he.SCRIPTSCRIPT),l},Cc=(a,i)=>{const l=Km(a.size,i.style),h=l.fracNum(),f=l.fracDen();let y;y=i.havingStyle(h);const _=ke(a.numer,y,i);if(a.continued){const He=8.5/i.fontMetrics().ptPerEm,Ze=3.5/i.fontMetrics().ptPerEm;_.height=_.height<He?He:_.height,_.depth=_.depth<Ze?Ze:_.depth}y=i.havingStyle(f);const E=ke(a.denom,y,i);let C,B,W;a.hasBarLine?(a.barSize?(B=Ye(a.barSize,i),C=X.makeLineSpan("frac-line",i,B)):C=X.makeLineSpan("frac-line",i),B=C.height,W=C.height):(C=null,B=0,W=i.fontMetrics().defaultRuleThickness);let Q,Z,ie;l.size===he.DISPLAY.size||a.size==="display"?(Q=i.fontMetrics().num1,B>0?Z=3*W:Z=7*W,ie=i.fontMetrics().denom1):(B>0?(Q=i.fontMetrics().num2,Z=W):(Q=i.fontMetrics().num3,Z=3*W),ie=i.fontMetrics().denom2);let xe;if(C){const He=i.fontMetrics().axisHeight;Q-_.depth-(He+.5*B)<Z&&(Q+=Z-(Q-_.depth-(He+.5*B))),He-.5*B-(E.height-ie)<Z&&(ie+=Z-(He-.5*B-(E.height-ie)));const Ze=-(He-.5*B);xe=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ie},{type:"elem",elem:C,shift:Ze},{type:"elem",elem:_,shift:-Q}]},i)}else{const He=Q-_.depth-(E.height-ie);He<Z&&(Q+=.5*(Z-He),ie+=.5*(Z-He)),xe=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ie},{type:"elem",elem:_,shift:-Q}]},i)}y=i.havingStyle(l),xe.height*=y.sizeMultiplier/i.sizeMultiplier,xe.depth*=y.sizeMultiplier/i.sizeMultiplier;let Ee;l.size===he.DISPLAY.size?Ee=i.fontMetrics().delim1:l.size===he.SCRIPTSCRIPT.size?Ee=i.havingStyle(he.SCRIPT).fontMetrics().delim2:Ee=i.fontMetrics().delim2;let qe,Le;return a.leftDelim==null?qe=ds(i,["mopen"]):qe=ps.customSizedDelim(a.leftDelim,Ee,!0,i.havingStyle(l),a.mode,["mopen"]),a.continued?Le=X.makeSpan([]):a.rightDelim==null?Le=ds(i,["mclose"]):Le=ps.customSizedDelim(a.rightDelim,Ee,!0,i.havingStyle(l),a.mode,["mclose"]),X.makeSpan(["mord"].concat(y.sizingClasses(i)),[qe,X.makeSpan(["mfrac"],[xe]),Le],i)},Nc=(a,i)=>{let l=new le.MathNode("mfrac",[Ke(a.numer,i),Ke(a.denom,i)]);if(!a.hasBarLine)l.setAttribute("linethickness","0px");else if(a.barSize){const f=Ye(a.barSize,i);l.setAttribute("linethickness",fe(f))}const h=Km(a.size,i.style);if(h.size!==i.style.size){l=new le.MathNode("mstyle",[l]);const f=h.size===he.DISPLAY.size?"true":"false";l.setAttribute("displaystyle",f),l.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){const f=[];if(a.leftDelim!=null){const y=new le.MathNode("mo",[new le.TextNode(a.leftDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}if(f.push(l),a.rightDelim!=null){const y=new le.MathNode("mo",[new le.TextNode(a.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}return go(f)}return l};ge({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];let _,E=null,C=null,B="auto";switch(h){case"\\dfrac":case"\\frac":case"\\tfrac":_=!0;break;case"\\\\atopfrac":_=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":_=!1,E="(",C=")";break;case"\\\\bracefrac":_=!1,E="\\{",C="\\}";break;case"\\\\brackfrac":_=!1,E="[",C="]";break;default:throw new Error("Unrecognized genfrac command")}switch(h){case"\\dfrac":case"\\dbinom":B="display";break;case"\\tfrac":case"\\tbinom":B="text";break}return{type:"genfrac",mode:l.mode,continued:!1,numer:f,denom:y,hasBarLine:_,leftDelim:E,rightDelim:C,size:B,barSize:null}},htmlBuilder:Cc,mathmlBuilder:Nc}),ge({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=i[1];return{type:"genfrac",mode:l.mode,continued:!0,numer:f,denom:y,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),ge({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){let{parser:i,funcName:l,token:h}=a,f;switch(l){case"\\over":f="\\frac";break;case"\\choose":f="\\binom";break;case"\\atop":f="\\\\atopfrac";break;case"\\brace":f="\\\\bracefrac";break;case"\\brack":f="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:i.mode,replaceWith:f,token:h}}});const Xm=["display","text","script","scriptscript"],Ym=function(a){let i=null;return a.length>0&&(i=a,i=i==="."?null:i),i};ge({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,i){let{parser:l}=a;const h=i[4],f=i[5],y=uo(i[0]),_=y.type==="atom"&&y.family==="open"?Ym(y.text):null,E=uo(i[1]),C=E.type==="atom"&&E.family==="close"?Ym(E.text):null,B=Pe(i[2],"size");let W,Q=null;B.isBlank?W=!0:(Q=B.value,W=Q.number>0);let Z="auto",ie=i[3];if(ie.type==="ordgroup"){if(ie.body.length>0){const xe=Pe(ie.body[0],"textord");Z=Xm[Number(xe.text)]}}else ie=Pe(ie,"textord"),Z=Xm[Number(ie.text)];return{type:"genfrac",mode:l.mode,numer:h,denom:f,continued:!1,hasBarLine:W,barSize:Q,leftDelim:_,rightDelim:C,size:Z}},htmlBuilder:Cc,mathmlBuilder:Nc}),ge({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,i){let{parser:l,funcName:h,token:f}=a;return{type:"infix",mode:l.mode,replaceWith:"\\\\abovefrac",size:Pe(i[0],"size").value,token:f}}}),ge({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0],y=Y(Pe(i[1],"infix").size),_=i[2],E=y.number>0;return{type:"genfrac",mode:l.mode,numer:f,denom:_,continued:!1,hasBarLine:E,barSize:y,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Cc,mathmlBuilder:Nc});const Jm=(a,i)=>{const l=i.style;let h,f;a.type==="supsub"?(h=a.sup?ke(a.sup,i.havingStyle(l.sup()),i):ke(a.sub,i.havingStyle(l.sub()),i),f=Pe(a.base,"horizBrace")):f=Pe(a,"horizBrace");const y=ke(f.base,i.havingBaseStyle(he.DISPLAY)),_=nr.svgSpan(f,i);let E;if(f.isOver?(E=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.1},{type:"elem",elem:_}]},i),E.children[0].children[0].children[1].classes.push("svg-align")):(E=X.makeVList({positionType:"bottom",positionData:y.depth+.1+_.height,children:[{type:"elem",elem:_},{type:"kern",size:.1},{type:"elem",elem:y}]},i),E.children[0].children[0].children[0].classes.push("svg-align")),h){const C=X.makeSpan(["mord",f.isOver?"mover":"munder"],[E],i);f.isOver?E=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C},{type:"kern",size:.2},{type:"elem",elem:h}]},i):E=X.makeVList({positionType:"bottom",positionData:C.depth+.2+h.height+h.depth,children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:C}]},i)}return X.makeSpan(["mord",f.isOver?"mover":"munder"],[E],i)};ge({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,i){let{parser:l,funcName:h}=a;return{type:"horizBrace",mode:l.mode,label:h,isOver:/^\\over/.test(h),base:i[0]}},htmlBuilder:Jm,mathmlBuilder:(a,i)=>{const l=nr.mathMLnode(a.label);return new le.MathNode(a.isOver?"mover":"munder",[Ke(a.base,i),l])}}),ge({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[1],f=Pe(i[0],"url").url;return l.settings.isTrusted({command:"\\href",url:f})?{type:"href",mode:l.mode,href:f,body:bt(h)}:l.formatUnsupportedCmd("\\href")},htmlBuilder:(a,i)=>{const l=gt(a.body,i,!1);return X.makeAnchor(a.href,[],l,i)},mathmlBuilder:(a,i)=>{let l=tr(a.body,i);return l instanceof hn||(l=new hn("mrow",[l])),l.setAttribute("href",a.href),l}}),ge({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=Pe(i[0],"url").url;if(!l.settings.isTrusted({command:"\\url",url:h}))return l.formatUnsupportedCmd("\\url");const f=[];for(let _=0;_<h.length;_++){let E=h[_];E==="~"&&(E="\\textasciitilde"),f.push({type:"textord",mode:"text",text:E})}const y={type:"text",mode:l.mode,font:"\\texttt",body:f};return{type:"href",mode:l.mode,href:h,body:bt(y)}}}),ge({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,i){let{parser:l}=a;return{type:"hbox",mode:l.mode,body:bt(i[0])}},htmlBuilder(a,i){const l=gt(a.body,i,!1);return X.makeFragment(l)},mathmlBuilder(a,i){return new le.MathNode("mrow",tn(a.body,i))}}),ge({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h,token:f}=a;const y=Pe(i[0],"raw").string,_=i[1];l.settings.strict&&l.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let E;const C={};switch(h){case"\\htmlClass":C.class=y,E={command:"\\htmlClass",class:y};break;case"\\htmlId":C.id=y,E={command:"\\htmlId",id:y};break;case"\\htmlStyle":C.style=y,E={command:"\\htmlStyle",style:y};break;case"\\htmlData":{const B=y.split(",");for(let W=0;W<B.length;W++){const Q=B[W].split("=");if(Q.length!==2)throw new o("Error parsing key-value for \\htmlData");C["data-"+Q[0].trim()]=Q[1].trim()}E={command:"\\htmlData",attributes:C};break}default:throw new Error("Unrecognized html command")}return l.settings.isTrusted(E)?{type:"html",mode:l.mode,attributes:C,body:bt(_)}:l.formatUnsupportedCmd(h)},htmlBuilder:(a,i)=>{const l=gt(a.body,i,!1),h=["enclosing"];a.attributes.class&&h.push(...a.attributes.class.trim().split(/\s+/));const f=X.makeSpan(h,l,i);for(const y in a.attributes)y!=="class"&&a.attributes.hasOwnProperty(y)&&f.setAttribute(y,a.attributes[y]);return f},mathmlBuilder:(a,i)=>tr(a.body,i)}),ge({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"htmlmathml",mode:l.mode,html:bt(i[0]),mathml:bt(i[1])}},htmlBuilder:(a,i)=>{const l=gt(a.html,i,!1);return X.makeFragment(l)},mathmlBuilder:(a,i)=>tr(a.mathml,i)});const Rc=function(a){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(a))return{number:+a,unit:"bp"};{const i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a);if(!i)throw new o("Invalid size: '"+a+"' in \\includegraphics");const l={number:+(i[1]+i[2]),unit:i[3]};if(!ro(l))throw new o("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l}};ge({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,i,l)=>{let{parser:h}=a,f={number:0,unit:"em"},y={number:.9,unit:"em"},_={number:0,unit:"em"},E="";if(l[0]){const W=Pe(l[0],"raw").string.split(",");for(let Q=0;Q<W.length;Q++){const Z=W[Q].split("=");if(Z.length===2){const ie=Z[1].trim();switch(Z[0].trim()){case"alt":E=ie;break;case"width":f=Rc(ie);break;case"height":y=Rc(ie);break;case"totalheight":_=Rc(ie);break;default:throw new o("Invalid key: '"+Z[0]+"' in \\includegraphics.")}}}}const C=Pe(i[0],"url").url;return E===""&&(E=C,E=E.replace(/^.*[\\/]/,""),E=E.substring(0,E.lastIndexOf("."))),h.settings.isTrusted({command:"\\includegraphics",url:C})?{type:"includegraphics",mode:h.mode,alt:E,width:f,height:y,totalheight:_,src:C}:h.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,i)=>{const l=Ye(a.height,i);let h=0;a.totalheight.number>0&&(h=Ye(a.totalheight,i)-l);let f=0;a.width.number>0&&(f=Ye(a.width,i));const y={height:fe(l+h)};f>0&&(y.width=fe(f)),h>0&&(y.verticalAlign=fe(-h));const _=new jn(a.src,a.alt,y);return _.height=l,_.depth=h,_},mathmlBuilder:(a,i)=>{const l=new le.MathNode("mglyph",[]);l.setAttribute("alt",a.alt);const h=Ye(a.height,i);let f=0;if(a.totalheight.number>0&&(f=Ye(a.totalheight,i)-h,l.setAttribute("valign",fe(-f))),l.setAttribute("height",fe(h+f)),a.width.number>0){const y=Ye(a.width,i);l.setAttribute("width",fe(y))}return l.setAttribute("src",a.src),l}}),ge({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=Pe(i[0],"size");if(l.settings.strict){const y=h[1]==="m",_=f.value.unit==="mu";y?(_||l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" supports only mu units, "+("not "+f.value.unit+" units")),l.mode!=="math"&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" works only in math mode")):_&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+h+" doesn't support mu units")}return{type:"kern",mode:l.mode,dimension:f.value}},htmlBuilder(a,i){return X.makeGlue(a.dimension,i)},mathmlBuilder(a,i){const l=Ye(a.dimension,i);return new le.SpaceNode(l)}}),ge({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"lap",mode:l.mode,alignment:h.slice(5),body:f}},htmlBuilder:(a,i)=>{let l;a.alignment==="clap"?(l=X.makeSpan([],[ke(a.body,i)]),l=X.makeSpan(["inner"],[l],i)):l=X.makeSpan(["inner"],[ke(a.body,i)]);const h=X.makeSpan(["fix"],[]);let f=X.makeSpan([a.alignment],[l,h],i);const y=X.makeSpan(["strut"]);return y.style.height=fe(f.height+f.depth),f.depth&&(y.style.verticalAlign=fe(-f.depth)),f.children.unshift(y),f=X.makeSpan(["thinbox"],[f],i),X.makeSpan(["mord","vbox"],[f],i)},mathmlBuilder:(a,i)=>{const l=new le.MathNode("mpadded",[Ke(a.body,i)]);if(a.alignment!=="rlap"){const h=a.alignment==="llap"?"-1":"-0.5";l.setAttribute("lspace",h+"width")}return l.setAttribute("width","0px"),l}}),ge({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){let{funcName:l,parser:h}=a;const f=h.mode;h.switchMode("math");const y=l==="\\("?"\\)":"$",_=h.parseExpression(!1,y);return h.expect(y),h.switchMode(f),{type:"styling",mode:h.mode,style:"text",body:_}}}),ge({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,i){throw new o("Mismatched "+a.funcName)}});const Zm=(a,i)=>{switch(i.style.size){case he.DISPLAY.size:return a.display;case he.TEXT.size:return a.text;case he.SCRIPT.size:return a.script;case he.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};ge({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,i)=>{let{parser:l}=a;return{type:"mathchoice",mode:l.mode,display:bt(i[0]),text:bt(i[1]),script:bt(i[2]),scriptscript:bt(i[3])}},htmlBuilder:(a,i)=>{const l=Zm(a,i),h=gt(l,i,!1);return X.makeFragment(h)},mathmlBuilder:(a,i)=>{const l=Zm(a,i);return tr(l,i)}});const e1=(a,i,l,h,f,y,_)=>{a=X.makeSpan([],[a]);const E=l&&G.isCharacterBox(l);let C,B;if(i){const Z=ke(i,h.havingStyle(f.sup()),h);B={elem:Z,kern:Math.max(h.fontMetrics().bigOpSpacing1,h.fontMetrics().bigOpSpacing3-Z.depth)}}if(l){const Z=ke(l,h.havingStyle(f.sub()),h);C={elem:Z,kern:Math.max(h.fontMetrics().bigOpSpacing2,h.fontMetrics().bigOpSpacing4-Z.height)}}let W;if(B&&C){const Z=h.fontMetrics().bigOpSpacing5+C.elem.height+C.elem.depth+C.kern+a.depth+_;W=X.makeVList({positionType:"bottom",positionData:Z,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:C.elem,marginLeft:fe(-y)},{type:"kern",size:C.kern},{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:fe(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else if(C){const Z=a.height-_;W=X.makeVList({positionType:"top",positionData:Z,children:[{type:"kern",size:h.fontMetrics().bigOpSpacing5},{type:"elem",elem:C.elem,marginLeft:fe(-y)},{type:"kern",size:C.kern},{type:"elem",elem:a}]},h)}else if(B){const Z=a.depth+_;W=X.makeVList({positionType:"bottom",positionData:Z,children:[{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:fe(y)},{type:"kern",size:h.fontMetrics().bigOpSpacing5}]},h)}else return a;const Q=[W];if(C&&y!==0&&!E){const Z=X.makeSpan(["mspace"],[],h);Z.style.marginRight=fe(y),Q.unshift(Z)}return X.makeSpan(["mop","op-limits"],Q,h)},t1=["\\smallint"],vo=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Pe(a.base,"op"),f=!0):y=Pe(a,"op");const _=i.style;let E=!1;_.size===he.DISPLAY.size&&y.symbol&&!t1.includes(y.name)&&(E=!0);let C;if(y.symbol){const Q=E?"Size2-Regular":"Size1-Regular";let Z="";if((y.name==="\\oiint"||y.name==="\\oiiint")&&(Z=y.name.slice(1),y.name=Z==="oiint"?"\\iint":"\\iiint"),C=X.makeSymbol(y.name,Q,"math",i,["mop","op-symbol",E?"large-op":"small-op"]),Z.length>0){const ie=C.italic,xe=X.staticSvg(Z+"Size"+(E?"2":"1"),i);C=X.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:0},{type:"elem",elem:xe,shift:E?.08:0}]},i),y.name="\\"+Z,C.classes.unshift("mop"),C.italic=ie}}else if(y.body){const Q=gt(y.body,i,!0);Q.length===1&&Q[0]instanceof _t?(C=Q[0],C.classes[0]="mop"):C=X.makeSpan(["mop"],Q,i)}else{const Q=[];for(let Z=1;Z<y.name.length;Z++)Q.push(X.mathsym(y.name[Z],y.mode,i));C=X.makeSpan(["mop"],Q,i)}let B=0,W=0;return(C instanceof _t||y.name==="\\oiint"||y.name==="\\oiiint")&&!y.suppressBaseShift&&(B=(C.height-C.depth)/2-i.fontMetrics().axisHeight,W=C.italic),f?e1(C,l,h,i,_,W,B):(B&&(C.style.position="relative",C.style.top=fe(B)),C)},Ca=(a,i)=>{let l;if(a.symbol)l=new hn("mo",[It(a.name,a.mode)]),t1.includes(a.name)&&l.setAttribute("largeop","false");else if(a.body)l=new hn("mo",tn(a.body,i));else{l=new hn("mi",[new Hn(a.name.slice(1))]);const h=new hn("mo",[It("","text")]);a.parentIsSupSub?l=new hn("mrow",[l,h]):l=va([l,h])}return l},i6={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ge({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(a,i)=>{let{parser:l,funcName:h}=a,f=h;return f.length===1&&(f=i6[f]),{type:"op",mode:l.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:f}},htmlBuilder:vo,mathmlBuilder:Ca}),ge({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"op",mode:l.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:bt(h)}},htmlBuilder:vo,mathmlBuilder:Ca});const o6={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ge({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:vo,mathmlBuilder:Ca}),ge({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a;return{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:vo,mathmlBuilder:Ca}),ge({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(a){let{parser:i,funcName:l}=a,h=l;return h.length===1&&(h=o6[h]),{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:h}},htmlBuilder:vo,mathmlBuilder:Ca});const n1=(a,i)=>{let l,h,f=!1,y;a.type==="supsub"?(l=a.sup,h=a.sub,y=Pe(a.base,"operatorname"),f=!0):y=Pe(a,"operatorname");let _;if(y.body.length>0){const E=y.body.map(B=>{const W=B.text;return typeof W=="string"?{type:"textord",mode:B.mode,text:W}:B}),C=gt(E,i.withFont("mathrm"),!0);for(let B=0;B<C.length;B++){const W=C[B];W instanceof _t&&(W.text=W.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}_=X.makeSpan(["mop"],C,i)}else _=X.makeSpan(["mop"],[],i);return f?e1(_,l,h,i,i.style,0,0):_};ge({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,i)=>{let{parser:l,funcName:h}=a;const f=i[0];return{type:"operatorname",mode:l.mode,body:bt(f),alwaysHandleSupSub:h==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:n1,mathmlBuilder:(a,i)=>{let l=tn(a.body,i.withFont("mathrm")),h=!0;for(let _=0;_<l.length;_++){const E=l[_];if(!(E instanceof le.SpaceNode))if(E instanceof le.MathNode)switch(E.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const C=E.children[0];E.children.length===1&&C instanceof le.TextNode?C.text=C.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):h=!1;break}default:h=!1}else h=!1}if(h){const _=l.map(E=>E.toText()).join("");l=[new le.TextNode(_)]}const f=new le.MathNode("mi",l);f.setAttribute("mathvariant","normal");const y=new le.MathNode("mo",[It("","text")]);return a.parentIsSupSub?new le.MathNode("mrow",[f,y]):le.newDocumentFragment([f,y])}}),T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Rn({type:"ordgroup",htmlBuilder(a,i){return a.semisimple?X.makeFragment(gt(a.body,i,!1)):X.makeSpan(["mord"],gt(a.body,i,!0),i)},mathmlBuilder(a,i){return tr(a.body,i,!0)}}),ge({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,i){let{parser:l}=a;const h=i[0];return{type:"overline",mode:l.mode,body:h}},htmlBuilder(a,i){const l=ke(a.body,i.havingCrampedStyle()),h=X.makeLineSpan("overline-line",i),f=i.fontMetrics().defaultRuleThickness,y=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:3*f},{type:"elem",elem:h},{type:"kern",size:f}]},i);return X.makeSpan(["mord","overline"],[y],i)},mathmlBuilder(a,i){const l=new le.MathNode("mo",[new le.TextNode("")]);l.setAttribute("stretchy","true");const h=new le.MathNode("mover",[Ke(a.body,i),l]);return h.setAttribute("accent","true"),h}}),ge({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"phantom",mode:l.mode,body:bt(h)}},htmlBuilder:(a,i)=>{const l=gt(a.body,i.withPhantom(),!1);return X.makeFragment(l)},mathmlBuilder:(a,i)=>{const l=tn(a.body,i);return new le.MathNode("mphantom",l)}}),ge({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"hphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{let l=X.makeSpan([],[ke(a.body,i.withPhantom())]);if(l.height=0,l.depth=0,l.children)for(let h=0;h<l.children.length;h++)l.children[h].height=0,l.children[h].depth=0;return l=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i),X.makeSpan(["mord"],[l],i)},mathmlBuilder:(a,i)=>{const l=tn(bt(a.body),i),h=new le.MathNode("mphantom",l),f=new le.MathNode("mpadded",[h]);return f.setAttribute("height","0px"),f.setAttribute("depth","0px"),f}}),ge({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,i)=>{let{parser:l}=a;const h=i[0];return{type:"vphantom",mode:l.mode,body:h}},htmlBuilder:(a,i)=>{const l=X.makeSpan(["inner"],[ke(a.body,i.withPhantom())]),h=X.makeSpan(["fix"],[]);return X.makeSpan(["mord","rlap"],[l,h],i)},mathmlBuilder:(a,i)=>{const l=tn(bt(a.body),i),h=new le.MathNode("mphantom",l),f=new le.MathNode("mpadded",[h]);return f.setAttribute("width","0px"),f}}),ge({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,i){let{parser:l}=a;const h=Pe(i[0],"size").value,f=i[1];return{type:"raisebox",mode:l.mode,dy:h,body:f}},htmlBuilder(a,i){const l=ke(a.body,i),h=Ye(a.dy,i);return X.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){const l=new le.MathNode("mpadded",[Ke(a.body,i)]),h=a.dy.number+a.dy.unit;return l.setAttribute("voffset",h),l}}),ge({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){let{parser:i}=a;return{type:"internal",mode:i.mode}}}),ge({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,i,l){let{parser:h}=a;const f=l[0],y=Pe(i[0],"size"),_=Pe(i[1],"size");return{type:"rule",mode:h.mode,shift:f&&Pe(f,"size").value,width:y.value,height:_.value}},htmlBuilder(a,i){const l=X.makeSpan(["mord","rule"],[],i),h=Ye(a.width,i),f=Ye(a.height,i),y=a.shift?Ye(a.shift,i):0;return l.style.borderRightWidth=fe(h),l.style.borderTopWidth=fe(f),l.style.bottom=fe(y),l.width=h,l.height=f+y,l.depth=-y,l.maxFontSize=f*1.125*i.sizeMultiplier,l},mathmlBuilder(a,i){const l=Ye(a.width,i),h=Ye(a.height,i),f=a.shift?Ye(a.shift,i):0,y=i.color&&i.getColor()||"black",_=new le.MathNode("mspace");_.setAttribute("mathbackground",y),_.setAttribute("width",fe(l)),_.setAttribute("height",fe(h));const E=new le.MathNode("mpadded",[_]);return f>=0?E.setAttribute("height",fe(f)):(E.setAttribute("height",fe(f)),E.setAttribute("depth",fe(-f))),E.setAttribute("voffset",fe(f)),E}});function r1(a,i,l){const h=gt(a,i,!1),f=i.sizeMultiplier/l.sizeMultiplier;for(let y=0;y<h.length;y++){const _=h[y].classes.indexOf("sizing");_<0?Array.prototype.push.apply(h[y].classes,i.sizingClasses(l)):h[y].classes[_+1]==="reset-size"+i.size&&(h[y].classes[_+1]="reset-size"+l.size),h[y].height*=f,h[y].depth*=f}return X.makeFragment(h)}const s1=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];ge({type:"sizing",names:s1,props:{numArgs:0,allowedInText:!0},handler:(a,i)=>{let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!1,l);return{type:"sizing",mode:f.mode,size:s1.indexOf(h)+1,body:y}},htmlBuilder:(a,i)=>{const l=i.havingSize(a.size);return r1(a.body,l,i)},mathmlBuilder:(a,i)=>{const l=i.havingSize(a.size),h=tn(a.body,l),f=new le.MathNode("mstyle",h);return f.setAttribute("mathsize",fe(l.sizeMultiplier)),f}}),ge({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,i,l)=>{let{parser:h}=a,f=!1,y=!1;const _=l[0]&&Pe(l[0],"ordgroup");if(_){let C="";for(let B=0;B<_.body.length;++B)if(C=_.body[B].text,C==="t")f=!0;else if(C==="b")y=!0;else{f=!1,y=!1;break}}else f=!0,y=!0;const E=i[0];return{type:"smash",mode:h.mode,body:E,smashHeight:f,smashDepth:y}},htmlBuilder:(a,i)=>{const l=X.makeSpan([],[ke(a.body,i)]);if(!a.smashHeight&&!a.smashDepth)return l;if(a.smashHeight&&(l.height=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].height=0;if(a.smashDepth&&(l.depth=0,l.children))for(let f=0;f<l.children.length;f++)l.children[f].depth=0;const h=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},i);return X.makeSpan(["mord"],[h],i)},mathmlBuilder:(a,i)=>{const l=new le.MathNode("mpadded",[Ke(a.body,i)]);return a.smashHeight&&l.setAttribute("height","0px"),a.smashDepth&&l.setAttribute("depth","0px"),l}}),ge({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,i,l){let{parser:h}=a;const f=l[0],y=i[0];return{type:"sqrt",mode:h.mode,body:y,index:f}},htmlBuilder(a,i){let l=ke(a.body,i.havingCrampedStyle());l.height===0&&(l.height=i.fontMetrics().xHeight),l=X.wrapFragment(l,i);const f=i.fontMetrics().defaultRuleThickness;let y=f;i.style.id<he.TEXT.id&&(y=i.fontMetrics().xHeight);let _=f+y/4;const E=l.height+l.depth+_+f,{span:C,ruleWidth:B,advanceWidth:W}=ps.sqrtImage(E,i),Q=C.height-B;Q>l.height+l.depth+_&&(_=(_+Q-l.height-l.depth)/2);const Z=C.height-l.height-_-B;l.style.paddingLeft=fe(W);const ie=X.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:-(l.height+Z)},{type:"elem",elem:C},{type:"kern",size:B}]},i);if(a.index){const xe=i.havingStyle(he.SCRIPTSCRIPT),Ee=ke(a.index,xe,i),qe=.6*(ie.height-ie.depth),Le=X.makeVList({positionType:"shift",positionData:-qe,children:[{type:"elem",elem:Ee}]},i),He=X.makeSpan(["root"],[Le]);return X.makeSpan(["mord","sqrt"],[He,ie],i)}else return X.makeSpan(["mord","sqrt"],[ie],i)},mathmlBuilder(a,i){const{body:l,index:h}=a;return h?new le.MathNode("mroot",[Ke(l,i),Ke(h,i)]):new le.MathNode("msqrt",[Ke(l,i)])}});const i1={display:he.DISPLAY,text:he.TEXT,script:he.SCRIPT,scriptscript:he.SCRIPTSCRIPT};ge({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,i){let{breakOnTokenText:l,funcName:h,parser:f}=a;const y=f.parseExpression(!0,l),_=h.slice(1,h.length-5);return{type:"styling",mode:f.mode,style:_,body:y}},htmlBuilder(a,i){const l=i1[a.style],h=i.havingStyle(l).withFont("");return r1(a.body,h,i)},mathmlBuilder(a,i){const l=i1[a.style],h=i.havingStyle(l),f=tn(a.body,h),y=new le.MathNode("mstyle",f),E={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[a.style];return y.setAttribute("scriptlevel",E[0]),y.setAttribute("displaystyle",E[1]),y}});const a6=function(a,i){const l=a.base;return l?l.type==="op"?l.limits&&(i.style.size===he.DISPLAY.size||l.alwaysHandleSupSub)?vo:null:l.type==="operatorname"?l.alwaysHandleSupSub&&(i.style.size===he.DISPLAY.size||l.limits)?n1:null:l.type==="accent"?G.isCharacterBox(l.base)?yo:null:l.type==="horizBrace"&&!a.sub===l.isOver?Jm:null:null};Rn({type:"supsub",htmlBuilder(a,i){const l=a6(a,i);if(l)return l(a,i);const{base:h,sup:f,sub:y}=a,_=ke(h,i);let E,C;const B=i.fontMetrics();let W=0,Q=0;const Z=h&&G.isCharacterBox(h);if(f){const Ze=i.havingStyle(i.style.sup());E=ke(f,Ze,i),Z||(W=_.height-Ze.fontMetrics().supDrop*Ze.sizeMultiplier/i.sizeMultiplier)}if(y){const Ze=i.havingStyle(i.style.sub());C=ke(y,Ze,i),Z||(Q=_.depth+Ze.fontMetrics().subDrop*Ze.sizeMultiplier/i.sizeMultiplier)}let ie;i.style===he.DISPLAY?ie=B.sup1:i.style.cramped?ie=B.sup3:ie=B.sup2;const xe=i.sizeMultiplier,Ee=fe(.5/B.ptPerEm/xe);let qe=null;if(C){const Ze=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(_ instanceof _t||Ze)&&(qe=fe(-_.italic))}let Le;if(E&&C){W=Math.max(W,ie,E.depth+.25*B.xHeight),Q=Math.max(Q,B.sub2);const ct=4*B.defaultRuleThickness;if(W-E.depth-(C.height-Q)<ct){Q=ct-(W-E.depth)+C.height;const Ht=.8*B.xHeight-(W-E.depth);Ht>0&&(W+=Ht,Q-=Ht)}const En=[{type:"elem",elem:C,shift:Q,marginRight:Ee,marginLeft:qe},{type:"elem",elem:E,shift:-W,marginRight:Ee}];Le=X.makeVList({positionType:"individualShift",children:En},i)}else if(C){Q=Math.max(Q,B.sub1,C.height-.8*B.xHeight);const Ze=[{type:"elem",elem:C,marginLeft:qe,marginRight:Ee}];Le=X.makeVList({positionType:"shift",positionData:Q,children:Ze},i)}else if(E)W=Math.max(W,ie,E.depth+.25*B.xHeight),Le=X.makeVList({positionType:"shift",positionData:-W,children:[{type:"elem",elem:E,marginRight:Ee}]},i);else throw new Error("supsub must have either sup or sub.");const He=fo(_,"right")||"mord";return X.makeSpan([He],[_,X.makeSpan(["msupsub"],[Le])],i)},mathmlBuilder(a,i){let l=!1,h,f;a.base&&a.base.type==="horizBrace"&&(f=!!a.sup,f===a.base.isOver&&(l=!0,h=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);const y=[Ke(a.base,i)];a.sub&&y.push(Ke(a.sub,i)),a.sup&&y.push(Ke(a.sup,i));let _;if(l)_=h?"mover":"munder";else if(a.sub)if(a.sup){const E=a.base;E&&E.type==="op"&&E.limits&&i.style===he.DISPLAY||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(i.style===he.DISPLAY||E.limits)?_="munderover":_="msubsup"}else{const E=a.base;E&&E.type==="op"&&E.limits&&(i.style===he.DISPLAY||E.alwaysHandleSupSub)||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(E.limits||i.style===he.DISPLAY)?_="munder":_="msub"}else{const E=a.base;E&&E.type==="op"&&E.limits&&(i.style===he.DISPLAY||E.alwaysHandleSupSub)||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(E.limits||i.style===he.DISPLAY)?_="mover":_="msup"}return new le.MathNode(_,y)}}),Rn({type:"atom",htmlBuilder(a,i){return X.mathsym(a.text,a.mode,i,["m"+a.family])},mathmlBuilder(a,i){const l=new le.MathNode("mo",[It(a.text,a.mode)]);if(a.family==="bin"){const h=wa(a,i);h==="bold-italic"&&l.setAttribute("mathvariant",h)}else a.family==="punct"?l.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&l.setAttribute("stretchy","false");return l}});const o1={mi:"italic",mn:"normal",mtext:"normal"};Rn({type:"mathord",htmlBuilder(a,i){return X.makeOrd(a,i,"mathord")},mathmlBuilder(a,i){const l=new le.MathNode("mi",[It(a.text,a.mode,i)]),h=wa(a,i)||"italic";return h!==o1[l.type]&&l.setAttribute("mathvariant",h),l}}),Rn({type:"textord",htmlBuilder(a,i){return X.makeOrd(a,i,"textord")},mathmlBuilder(a,i){const l=It(a.text,a.mode,i),h=wa(a,i)||"normal";let f;return a.mode==="text"?f=new le.MathNode("mtext",[l]):/[0-9]/.test(a.text)?f=new le.MathNode("mn",[l]):a.text==="\\prime"?f=new le.MathNode("mo",[l]):f=new le.MathNode("mi",[l]),h!==o1[f.type]&&f.setAttribute("mathvariant",h),f}});const Pc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Mc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Rn({type:"spacing",htmlBuilder(a,i){if(Mc.hasOwnProperty(a.text)){const l=Mc[a.text].className||"";if(a.mode==="text"){const h=X.makeOrd(a,i,"textord");return h.classes.push(l),h}else return X.makeSpan(["mspace",l],[X.mathsym(a.text,a.mode,i)],i)}else{if(Pc.hasOwnProperty(a.text))return X.makeSpan(["mspace",Pc[a.text]],[],i);throw new o('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,i){let l;if(Mc.hasOwnProperty(a.text))l=new le.MathNode("mtext",[new le.TextNode("")]);else{if(Pc.hasOwnProperty(a.text))return new le.MathNode("mspace");throw new o('Unknown type of space "'+a.text+'"')}return l}});const a1=()=>{const a=new le.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};Rn({type:"tag",mathmlBuilder(a,i){const l=new le.MathNode("mtable",[new le.MathNode("mtr",[a1(),new le.MathNode("mtd",[tr(a.body,i)]),a1(),new le.MathNode("mtd",[tr(a.tag,i)])])]);return l.setAttribute("width","100%"),l}});const l1={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},u1={"\\textbf":"textbf","\\textmd":"textmd"},l6={"\\textit":"textit","\\textup":"textup"},c1=(a,i)=>{const l=a.font;if(l){if(l1[l])return i.withTextFontFamily(l1[l]);if(u1[l])return i.withTextFontWeight(u1[l]);if(l==="\\emph")return i.fontShape==="textit"?i.withTextFontShape("textup"):i.withTextFontShape("textit")}else return i;return i.withTextFontShape(l6[l])};ge({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,i){let{parser:l,funcName:h}=a;const f=i[0];return{type:"text",mode:l.mode,body:bt(f),font:h}},htmlBuilder(a,i){const l=c1(a,i),h=gt(a.body,l,!0);return X.makeSpan(["mord","text"],h,l)},mathmlBuilder(a,i){const l=c1(a,i);return tr(a.body,l)}}),ge({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,i){let{parser:l}=a;return{type:"underline",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=ke(a.body,i),h=X.makeLineSpan("underline-line",i),f=i.fontMetrics().defaultRuleThickness,y=X.makeVList({positionType:"top",positionData:l.height,children:[{type:"kern",size:f},{type:"elem",elem:h},{type:"kern",size:3*f},{type:"elem",elem:l}]},i);return X.makeSpan(["mord","underline"],[y],i)},mathmlBuilder(a,i){const l=new le.MathNode("mo",[new le.TextNode("")]);l.setAttribute("stretchy","true");const h=new le.MathNode("munder",[Ke(a.body,i),l]);return h.setAttribute("accentunder","true"),h}}),ge({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,i){let{parser:l}=a;return{type:"vcenter",mode:l.mode,body:i[0]}},htmlBuilder(a,i){const l=ke(a.body,i),h=i.fontMetrics().axisHeight,f=.5*(l.height-h-(l.depth+h));return X.makeVList({positionType:"shift",positionData:f,children:[{type:"elem",elem:l}]},i)},mathmlBuilder(a,i){return new le.MathNode("mpadded",[Ke(a.body,i)],["vcenter"])}}),ge({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,i,l){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,i){const l=h1(a),h=[],f=i.havingStyle(i.style.text());for(let y=0;y<l.length;y++){let _=l[y];_==="~"&&(_="\\textasciitilde"),h.push(X.makeSymbol(_,"Typewriter-Regular",a.mode,f,["mord","texttt"]))}return X.makeSpan(["mord","text"].concat(f.sizingClasses(i)),X.tryCombineChars(h),f)},mathmlBuilder(a,i){const l=new le.TextNode(h1(a)),h=new le.MathNode("mtext",[l]);return h.setAttribute("mathvariant","monospace"),h}});const h1=a=>a.body.replace(/ /g,a.star?"":"");var qs=pr;const d1=`[ \r
	]`,u6="\\\\[a-zA-Z@]+",c6="\\\\[^\uD800-\uDFFF]",h6="("+u6+")"+d1+"*",d6=`\\\\(
|[ \r	]+
?)[ \r	]*`,Dc="[-]",f6=new RegExp(Dc+"+$"),m6="("+d1+"+)|"+(d6+"|")+"([!-\\[\\]---]"+(Dc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Dc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+h6)+("|"+c6+")");class f1{constructor(i,l){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=i,this.settings=l,this.tokenRegex=new RegExp(m6,"g"),this.catcodes={"%":14,"~":13}}setCatcode(i,l){this.catcodes[i]=l}lex(){const i=this.input,l=this.tokenRegex.lastIndex;if(l===i.length)return new $n("EOF",new Pn(this,l,l));const h=this.tokenRegex.exec(i);if(h===null||h.index!==l)throw new o("Unexpected character: '"+i[l]+"'",new $n(i[l],new Pn(this,l,l+1)));const f=h[6]||h[3]||(h[2]?"\\ ":" ");if(this.catcodes[f]===14){const y=i.indexOf(`
`,this.tokenRegex.lastIndex);return y===-1?(this.tokenRegex.lastIndex=i.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=y+1,this.lex()}return new $n(f,new Pn(this,l,this.tokenRegex.lastIndex))}}class p6{constructor(i,l){i===void 0&&(i={}),l===void 0&&(l={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=l,this.builtins=i,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const i=this.undefStack.pop();for(const l in i)i.hasOwnProperty(l)&&(i[l]==null?delete this.current[l]:this.current[l]=i[l])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(i){return this.current.hasOwnProperty(i)||this.builtins.hasOwnProperty(i)}get(i){return this.current.hasOwnProperty(i)?this.current[i]:this.builtins[i]}set(i,l,h){if(h===void 0&&(h=!1),h){for(let f=0;f<this.undefStack.length;f++)delete this.undefStack[f][i];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][i]=l)}else{const f=this.undefStack[this.undefStack.length-1];f&&!f.hasOwnProperty(i)&&(f[i]=this.current[i])}l==null?delete this.current[i]:this.current[i]=l}}var g6=Um;T("\\noexpand",function(a){const i=a.popToken();return a.isExpandable(i.text)&&(i.noexpand=!0,i.treatAsRelax=!0),{tokens:[i],numArgs:0}}),T("\\expandafter",function(a){const i=a.popToken();return a.expandOnce(!0),{tokens:[i],numArgs:0}}),T("\\@firstoftwo",function(a){return{tokens:a.consumeArgs(2)[0],numArgs:0}}),T("\\@secondoftwo",function(a){return{tokens:a.consumeArgs(2)[1],numArgs:0}}),T("\\@ifnextchar",function(a){const i=a.consumeArgs(3);a.consumeSpaces();const l=a.future();return i[0].length===1&&i[0][0].text===l.text?{tokens:i[1],numArgs:0}:{tokens:i[2],numArgs:0}}),T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),T("\\TextOrMath",function(a){const i=a.consumeArgs(2);return a.mode==="text"?{tokens:i[0],numArgs:0}:{tokens:i[1],numArgs:0}});const m1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(a){let i=a.popToken(),l,h="";if(i.text==="'")l=8,i=a.popToken();else if(i.text==='"')l=16,i=a.popToken();else if(i.text==="`")if(i=a.popToken(),i.text[0]==="\\")h=i.text.charCodeAt(1);else{if(i.text==="EOF")throw new o("\\char` missing argument");h=i.text.charCodeAt(0)}else l=10;if(l){if(h=m1[i.text],h==null||h>=l)throw new o("Invalid base-"+l+" digit "+i.text);let f;for(;(f=m1[a.future().text])!=null&&f<l;)h*=l,h+=f,a.popToken()}return"\\@char{"+h+"}"});const Vc=(a,i,l,h)=>{let f=a.consumeArg().tokens;if(f.length!==1)throw new o("\\newcommand's first argument must be a macro name");const y=f[0].text,_=a.isDefined(y);if(_&&!i)throw new o("\\newcommand{"+y+"} attempting to redefine "+(y+"; use \\renewcommand"));if(!_&&!l)throw new o("\\renewcommand{"+y+"} when command "+y+" does not yet exist; use \\newcommand");let E=0;if(f=a.consumeArg().tokens,f.length===1&&f[0].text==="["){let C="",B=a.expandNextToken();for(;B.text!=="]"&&B.text!=="EOF";)C+=B.text,B=a.expandNextToken();if(!C.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+C);E=parseInt(C),f=a.consumeArg().tokens}return _&&h||a.macros.set(y,{tokens:f,numArgs:E}),""};T("\\newcommand",a=>Vc(a,!1,!0,!1)),T("\\renewcommand",a=>Vc(a,!0,!1,!1)),T("\\providecommand",a=>Vc(a,!0,!0,!0)),T("\\message",a=>{const i=a.consumeArgs(1)[0];return console.log(i.reverse().map(l=>l.text).join("")),""}),T("\\errmessage",a=>{const i=a.consumeArgs(1)[0];return console.error(i.reverse().map(l=>l.text).join("")),""}),T("\\show",a=>{const i=a.popToken(),l=i.text;return console.log(i,a.macros.get(l),qs[l],Fe.math[l],Fe.text[l]),""}),T("\\bgroup","{"),T("\\egroup","}"),T("~","\\nobreakspace"),T("\\lq","`"),T("\\rq","'"),T("\\aa","\\r a"),T("\\AA","\\r A"),T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),T("","\\mathscr{B}"),T("","\\mathscr{E}"),T("","\\mathscr{F}"),T("","\\mathscr{H}"),T("","\\mathscr{I}"),T("","\\mathscr{L}"),T("","\\mathscr{M}"),T("","\\mathscr{R}"),T("","\\mathfrak{C}"),T("","\\mathfrak{H}"),T("","\\mathfrak{Z}"),T("\\Bbbk","\\Bbb{k}"),T("","\\cdotp"),T("\\llap","\\mathllap{\\textrm{#1}}"),T("\\rlap","\\mathrlap{\\textrm{#1}}"),T("\\clap","\\mathclap{\\textrm{#1}}"),T("\\mathstrut","\\vphantom{(}"),T("\\underbar","\\underline{\\text{#1}}"),T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),T("\\ne","\\neq"),T("","\\neq"),T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),T("","\\notin"),T("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),T("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),T("","\\perp"),T("","\\mathclose{!\\mkern-0.8mu!}"),T("","\\notni"),T("","\\ulcorner"),T("","\\urcorner"),T("","\\llcorner"),T("","\\lrcorner"),T("","\\copyright"),T("","\\textregistered"),T("","\\textregistered"),T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),T("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),T("","\\vdots"),T("\\varGamma","\\mathit{\\Gamma}"),T("\\varDelta","\\mathit{\\Delta}"),T("\\varTheta","\\mathit{\\Theta}"),T("\\varLambda","\\mathit{\\Lambda}"),T("\\varXi","\\mathit{\\Xi}"),T("\\varPi","\\mathit{\\Pi}"),T("\\varSigma","\\mathit{\\Sigma}"),T("\\varUpsilon","\\mathit{\\Upsilon}"),T("\\varPhi","\\mathit{\\Phi}"),T("\\varPsi","\\mathit{\\Psi}"),T("\\varOmega","\\mathit{\\Omega}"),T("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),T("\\boxed","\\fbox{$\\displaystyle{#1}$}"),T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),T("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),T("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),T("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const p1={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(a){let i="\\dotso";const l=a.expandAfterFuture().text;return l in p1?i=p1[l]:(l.slice(0,4)==="\\not"||l in Fe.math&&["bin","rel"].includes(Fe.math[l].group))&&(i="\\dotsb"),i});const zc={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(a){return a.future().text in zc?"\\ldots\\,":"\\ldots"}),T("\\dotsc",function(a){const i=a.future().text;return i in zc&&i!==","?"\\ldots\\,":"\\ldots"}),T("\\cdots",function(a){return a.future().text in zc?"\\@cdots\\,":"\\@cdots"}),T("\\dotsb","\\cdots"),T("\\dotsm","\\cdots"),T("\\dotsi","\\!\\cdots"),T("\\dotsx","\\ldots\\,"),T("\\DOTSI","\\relax"),T("\\DOTSB","\\relax"),T("\\DOTSX","\\relax"),T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),T("\\,","\\tmspace+{3mu}{.1667em}"),T("\\thinspace","\\,"),T("\\>","\\mskip{4mu}"),T("\\:","\\tmspace+{4mu}{.2222em}"),T("\\medspace","\\:"),T("\\;","\\tmspace+{5mu}{.2777em}"),T("\\thickspace","\\;"),T("\\!","\\tmspace-{3mu}{.1667em}"),T("\\negthinspace","\\!"),T("\\negmedspace","\\tmspace-{4mu}{.2222em}"),T("\\negthickspace","\\tmspace-{5mu}{.277em}"),T("\\enspace","\\kern.5em "),T("\\enskip","\\hskip.5em\\relax"),T("\\quad","\\hskip1em\\relax"),T("\\qquad","\\hskip2em\\relax"),T("\\tag","\\@ifstar\\tag@literal\\tag@paren"),T("\\tag@paren","\\tag@literal{({#1})}"),T("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),T("\\newline","\\\\\\relax"),T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const g1=fe(Kt["Main-Regular"][84][1]-.7*Kt["Main-Regular"][65][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+g1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+g1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),T("\\hspace","\\@ifstar\\@hspacer\\@hspace"),T("\\@hspace","\\hskip #1\\relax"),T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),T("\\ordinarycolon",":"),T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),T("","\\dblcolon"),T("","\\eqcolon"),T("","\\coloneqq"),T("","\\eqqcolon"),T("","\\Coloneqq"),T("\\ratio","\\vcentcolon"),T("\\coloncolon","\\dblcolon"),T("\\colonequals","\\coloneqq"),T("\\coloncolonequals","\\Coloneqq"),T("\\equalscolon","\\eqqcolon"),T("\\equalscoloncolon","\\Eqqcolon"),T("\\colonminus","\\coloneq"),T("\\coloncolonminus","\\Coloneq"),T("\\minuscolon","\\eqcolon"),T("\\minuscoloncolon","\\Eqcolon"),T("\\coloncolonapprox","\\Colonapprox"),T("\\coloncolonsim","\\Colonsim"),T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),T("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),T("\\nleqq","\\html@mathml{\\@nleqq}{}"),T("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),T("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),T("\\imath","\\html@mathml{\\@imath}{}"),T("\\jmath","\\html@mathml{\\@jmath}{}"),T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),T("","\\llbracket"),T("","\\rrbracket"),T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),T("","\\lBrace"),T("","\\rBrace"),T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),T("","\\minuso"),T("\\darr","\\downarrow"),T("\\dArr","\\Downarrow"),T("\\Darr","\\Downarrow"),T("\\lang","\\langle"),T("\\rang","\\rangle"),T("\\uarr","\\uparrow"),T("\\uArr","\\Uparrow"),T("\\Uarr","\\Uparrow"),T("\\N","\\mathbb{N}"),T("\\R","\\mathbb{R}"),T("\\Z","\\mathbb{Z}"),T("\\alef","\\aleph"),T("\\alefsym","\\aleph"),T("\\Alpha","\\mathrm{A}"),T("\\Beta","\\mathrm{B}"),T("\\bull","\\bullet"),T("\\Chi","\\mathrm{X}"),T("\\clubs","\\clubsuit"),T("\\cnums","\\mathbb{C}"),T("\\Complex","\\mathbb{C}"),T("\\Dagger","\\ddagger"),T("\\diamonds","\\diamondsuit"),T("\\empty","\\emptyset"),T("\\Epsilon","\\mathrm{E}"),T("\\Eta","\\mathrm{H}"),T("\\exist","\\exists"),T("\\harr","\\leftrightarrow"),T("\\hArr","\\Leftrightarrow"),T("\\Harr","\\Leftrightarrow"),T("\\hearts","\\heartsuit"),T("\\image","\\Im"),T("\\infin","\\infty"),T("\\Iota","\\mathrm{I}"),T("\\isin","\\in"),T("\\Kappa","\\mathrm{K}"),T("\\larr","\\leftarrow"),T("\\lArr","\\Leftarrow"),T("\\Larr","\\Leftarrow"),T("\\lrarr","\\leftrightarrow"),T("\\lrArr","\\Leftrightarrow"),T("\\Lrarr","\\Leftrightarrow"),T("\\Mu","\\mathrm{M}"),T("\\natnums","\\mathbb{N}"),T("\\Nu","\\mathrm{N}"),T("\\Omicron","\\mathrm{O}"),T("\\plusmn","\\pm"),T("\\rarr","\\rightarrow"),T("\\rArr","\\Rightarrow"),T("\\Rarr","\\Rightarrow"),T("\\real","\\Re"),T("\\reals","\\mathbb{R}"),T("\\Reals","\\mathbb{R}"),T("\\Rho","\\mathrm{P}"),T("\\sdot","\\cdot"),T("\\sect","\\S"),T("\\spades","\\spadesuit"),T("\\sub","\\subset"),T("\\sube","\\subseteq"),T("\\supe","\\supseteq"),T("\\Tau","\\mathrm{T}"),T("\\thetasym","\\vartheta"),T("\\weierp","\\wp"),T("\\Zeta","\\mathrm{Z}"),T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),T("\\bra","\\mathinner{\\langle{#1}|}"),T("\\ket","\\mathinner{|{#1}\\rangle}"),T("\\braket","\\mathinner{\\langle{#1}\\rangle}"),T("\\Bra","\\left\\langle#1\\right|"),T("\\Ket","\\left|#1\\right\\rangle");const y1=a=>i=>{const l=i.consumeArg().tokens,h=i.consumeArg().tokens,f=i.consumeArg().tokens,y=i.consumeArg().tokens,_=i.macros.get("|"),E=i.macros.get("\\|");i.macros.beginGroup();const C=Q=>Z=>{a&&(Z.macros.set("|",_),f.length&&Z.macros.set("\\|",E));let ie=Q;return!Q&&f.length&&Z.future().text==="|"&&(Z.popToken(),ie=!0),{tokens:ie?f:h,numArgs:0}};i.macros.set("|",C(!1)),f.length&&i.macros.set("\\|",C(!0));const B=i.consumeArg().tokens,W=i.expandTokens([...y,...B,...l]);return i.macros.endGroup(),{tokens:W.reverse(),numArgs:0}};T("\\bra@ket",y1(!1)),T("\\bra@set",y1(!0)),T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),T("\\angln","{\\angl n}"),T("\\blue","\\textcolor{##6495ed}{#1}"),T("\\orange","\\textcolor{##ffa500}{#1}"),T("\\pink","\\textcolor{##ff00af}{#1}"),T("\\red","\\textcolor{##df0030}{#1}"),T("\\green","\\textcolor{##28ae7b}{#1}"),T("\\gray","\\textcolor{gray}{#1}"),T("\\purple","\\textcolor{##9d38bd}{#1}"),T("\\blueA","\\textcolor{##ccfaff}{#1}"),T("\\blueB","\\textcolor{##80f6ff}{#1}"),T("\\blueC","\\textcolor{##63d9ea}{#1}"),T("\\blueD","\\textcolor{##11accd}{#1}"),T("\\blueE","\\textcolor{##0c7f99}{#1}"),T("\\tealA","\\textcolor{##94fff5}{#1}"),T("\\tealB","\\textcolor{##26edd5}{#1}"),T("\\tealC","\\textcolor{##01d1c1}{#1}"),T("\\tealD","\\textcolor{##01a995}{#1}"),T("\\tealE","\\textcolor{##208170}{#1}"),T("\\greenA","\\textcolor{##b6ffb0}{#1}"),T("\\greenB","\\textcolor{##8af281}{#1}"),T("\\greenC","\\textcolor{##74cf70}{#1}"),T("\\greenD","\\textcolor{##1fab54}{#1}"),T("\\greenE","\\textcolor{##0d923f}{#1}"),T("\\goldA","\\textcolor{##ffd0a9}{#1}"),T("\\goldB","\\textcolor{##ffbb71}{#1}"),T("\\goldC","\\textcolor{##ff9c39}{#1}"),T("\\goldD","\\textcolor{##e07d10}{#1}"),T("\\goldE","\\textcolor{##a75a05}{#1}"),T("\\redA","\\textcolor{##fca9a9}{#1}"),T("\\redB","\\textcolor{##ff8482}{#1}"),T("\\redC","\\textcolor{##f9685d}{#1}"),T("\\redD","\\textcolor{##e84d39}{#1}"),T("\\redE","\\textcolor{##bc2612}{#1}"),T("\\maroonA","\\textcolor{##ffbde0}{#1}"),T("\\maroonB","\\textcolor{##ff92c6}{#1}"),T("\\maroonC","\\textcolor{##ed5fa6}{#1}"),T("\\maroonD","\\textcolor{##ca337c}{#1}"),T("\\maroonE","\\textcolor{##9e034e}{#1}"),T("\\purpleA","\\textcolor{##ddd7ff}{#1}"),T("\\purpleB","\\textcolor{##c6b9fc}{#1}"),T("\\purpleC","\\textcolor{##aa87ff}{#1}"),T("\\purpleD","\\textcolor{##7854ab}{#1}"),T("\\purpleE","\\textcolor{##543b78}{#1}"),T("\\mintA","\\textcolor{##f5f9e8}{#1}"),T("\\mintB","\\textcolor{##edf2df}{#1}"),T("\\mintC","\\textcolor{##e0e5cc}{#1}"),T("\\grayA","\\textcolor{##f6f7f7}{#1}"),T("\\grayB","\\textcolor{##f0f1f2}{#1}"),T("\\grayC","\\textcolor{##e3e5e6}{#1}"),T("\\grayD","\\textcolor{##d6d8da}{#1}"),T("\\grayE","\\textcolor{##babec2}{#1}"),T("\\grayF","\\textcolor{##888d93}{#1}"),T("\\grayG","\\textcolor{##626569}{#1}"),T("\\grayH","\\textcolor{##3b3e40}{#1}"),T("\\grayI","\\textcolor{##21242c}{#1}"),T("\\kaBlue","\\textcolor{##314453}{#1}"),T("\\kaGreen","\\textcolor{##71B307}{#1}");const v1={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class y6{constructor(i,l,h){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=l,this.expansionCount=0,this.feed(i),this.macros=new p6(g6,l.macros),this.mode=h,this.stack=[]}feed(i){this.lexer=new f1(i,this.settings)}switchMode(i){this.mode=i}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(i){this.stack.push(i)}pushTokens(i){this.stack.push(...i)}scanArgument(i){let l,h,f;if(i){if(this.consumeSpaces(),this.future().text!=="[")return null;l=this.popToken(),{tokens:f,end:h}=this.consumeArg(["]"])}else({tokens:f,start:l,end:h}=this.consumeArg());return this.pushToken(new $n("EOF",h.loc)),this.pushTokens(f),new $n("",Pn.range(l,h))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(i){const l=[],h=i&&i.length>0;h||this.consumeSpaces();const f=this.future();let y,_=0,E=0;do{if(y=this.popToken(),l.push(y),y.text==="{")++_;else if(y.text==="}"){if(--_,_===-1)throw new o("Extra }",y)}else if(y.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(i&&h?i[E]:"}")+"'",y);if(i&&h)if((_===0||_===1&&i[E]==="{")&&y.text===i[E]){if(++E,E===i.length){l.splice(-E,E);break}}else E=0}while(_!==0||h);return f.text==="{"&&l[l.length-1].text==="}"&&(l.pop(),l.shift()),l.reverse(),{tokens:l,start:f,end:y}}consumeArgs(i,l){if(l){if(l.length!==i+1)throw new o("The length of delimiters doesn't match the number of args!");const f=l[0];for(let y=0;y<f.length;y++){const _=this.popToken();if(f[y]!==_.text)throw new o("Use of the macro doesn't match its definition",_)}}const h=[];for(let f=0;f<i;f++)h.push(this.consumeArg(l&&l[f+1]).tokens);return h}countExpansion(i){if(this.expansionCount+=i,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(i){const l=this.popToken(),h=l.text,f=l.noexpand?null:this._getExpansion(h);if(f==null||i&&f.unexpandable){if(i&&f==null&&h[0]==="\\"&&!this.isDefined(h))throw new o("Undefined control sequence: "+h);return this.pushToken(l),!1}this.countExpansion(1);let y=f.tokens;const _=this.consumeArgs(f.numArgs,f.delimiters);if(f.numArgs){y=y.slice();for(let E=y.length-1;E>=0;--E){let C=y[E];if(C.text==="#"){if(E===0)throw new o("Incomplete placeholder at end of macro body",C);if(C=y[--E],C.text==="#")y.splice(E+1,1);else if(/^[1-9]$/.test(C.text))y.splice(E,2,..._[+C.text-1]);else throw new o("Not a valid argument number",C)}}}return this.pushTokens(y),y.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const i=this.stack.pop();return i.treatAsRelax&&(i.text="\\relax"),i}throw new Error}expandMacro(i){return this.macros.has(i)?this.expandTokens([new $n(i)]):void 0}expandTokens(i){const l=[],h=this.stack.length;for(this.pushTokens(i);this.stack.length>h;)if(this.expandOnce(!0)===!1){const f=this.stack.pop();f.treatAsRelax&&(f.noexpand=!1,f.treatAsRelax=!1),l.push(f)}return this.countExpansion(l.length),l}expandMacroAsText(i){const l=this.expandMacro(i);return l&&l.map(h=>h.text).join("")}_getExpansion(i){const l=this.macros.get(i);if(l==null)return l;if(i.length===1){const f=this.lexer.catcodes[i];if(f!=null&&f!==13)return}const h=typeof l=="function"?l(this):l;if(typeof h=="string"){let f=0;if(h.indexOf("#")!==-1){const B=h.replace(/##/g,"");for(;B.indexOf("#"+(f+1))!==-1;)++f}const y=new f1(h,this.settings),_=[];let E=y.lex();for(;E.text!=="EOF";)_.push(E),E=y.lex();return _.reverse(),{tokens:_,numArgs:f}}return h}isDefined(i){return this.macros.has(i)||qs.hasOwnProperty(i)||Fe.math.hasOwnProperty(i)||Fe.text.hasOwnProperty(i)||v1.hasOwnProperty(i)}isExpandable(i){const l=this.macros.get(i);return l!=null?typeof l=="string"||typeof l=="function"||!l.unexpandable:qs.hasOwnProperty(i)&&!qs[i].primitive}}const w1=/^[]/,o0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Lc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},x1={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class a0{constructor(i,l){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new y6(i,l,this.mode),this.settings=l,this.leftrightDepth=0}expect(i,l){if(l===void 0&&(l=!0),this.fetch().text!==i)throw new o("Expected '"+i+"', got '"+this.fetch().text+"'",this.fetch());l&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(i){this.mode=i,this.gullet.switchMode(i)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const i=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),i}finally{this.gullet.endGroups()}}subparse(i){const l=this.nextToken;this.consume(),this.gullet.pushToken(new $n("}")),this.gullet.pushTokens(i);const h=this.parseExpression(!1);return this.expect("}"),this.nextToken=l,h}parseExpression(i,l){const h=[];for(;;){this.mode==="math"&&this.consumeSpaces();const f=this.fetch();if(a0.endOfExpression.indexOf(f.text)!==-1||l&&f.text===l||i&&qs[f.text]&&qs[f.text].infix)break;const y=this.parseAtom(l);if(y){if(y.type==="internal")continue}else break;h.push(y)}return this.mode==="text"&&this.formLigatures(h),this.handleInfixNodes(h)}handleInfixNodes(i){let l=-1,h;for(let f=0;f<i.length;f++)if(i[f].type==="infix"){if(l!==-1)throw new o("only one infix operator per group",i[f].token);l=f,h=i[f].replaceWith}if(l!==-1&&h){let f,y;const _=i.slice(0,l),E=i.slice(l+1);_.length===1&&_[0].type==="ordgroup"?f=_[0]:f={type:"ordgroup",mode:this.mode,body:_},E.length===1&&E[0].type==="ordgroup"?y=E[0]:y={type:"ordgroup",mode:this.mode,body:E};let C;return h==="\\\\abovefrac"?C=this.callFunction(h,[f,i[l],y],[]):C=this.callFunction(h,[f,y],[]),[C]}else return i}handleSupSubscript(i){const l=this.fetch(),h=l.text;this.consume(),this.consumeSpaces();let f;do{var y;f=this.parseGroup(i)}while(((y=f)==null?void 0:y.type)==="internal");if(!f)throw new o("Expected group after '"+h+"'",l);return f}formatUnsupportedCmd(i){const l=[];for(let y=0;y<i.length;y++)l.push({type:"textord",mode:"text",text:i[y]});const h={type:"text",mode:this.mode,body:l};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[h]}}parseAtom(i){const l=this.parseGroup("atom",i);if((l==null?void 0:l.type)==="internal"||this.mode==="text")return l;let h,f;for(;;){this.consumeSpaces();const y=this.fetch();if(y.text==="\\limits"||y.text==="\\nolimits"){if(l&&l.type==="op"){const _=y.text==="\\limits";l.limits=_,l.alwaysHandleSupSub=!0}else if(l&&l.type==="operatorname")l.alwaysHandleSupSub&&(l.limits=y.text==="\\limits");else throw new o("Limit controls must follow a math operator",y);this.consume()}else if(y.text==="^"){if(h)throw new o("Double superscript",y);h=this.handleSupSubscript("superscript")}else if(y.text==="_"){if(f)throw new o("Double subscript",y);f=this.handleSupSubscript("subscript")}else if(y.text==="'"){if(h)throw new o("Double superscript",y);const _={type:"textord",mode:this.mode,text:"\\prime"},E=[_];for(this.consume();this.fetch().text==="'";)E.push(_),this.consume();this.fetch().text==="^"&&E.push(this.handleSupSubscript("superscript")),h={type:"ordgroup",mode:this.mode,body:E}}else if(o0[y.text]){const _=w1.test(y.text),E=[];for(E.push(new $n(o0[y.text])),this.consume();;){const B=this.fetch().text;if(!o0[B]||w1.test(B)!==_)break;E.unshift(new $n(o0[B])),this.consume()}const C=this.subparse(E);_?f={type:"ordgroup",mode:"math",body:C}:h={type:"ordgroup",mode:"math",body:C}}else break}return h||f?{type:"supsub",mode:this.mode,base:l,sup:h,sub:f}:l}parseFunction(i,l){const h=this.fetch(),f=h.text,y=qs[f];if(!y)return null;if(this.consume(),l&&l!=="atom"&&!y.allowedInArgument)throw new o("Got function '"+f+"' with no arguments"+(l?" as "+l:""),h);if(this.mode==="text"&&!y.allowedInText)throw new o("Can't use function '"+f+"' in text mode",h);if(this.mode==="math"&&y.allowedInMath===!1)throw new o("Can't use function '"+f+"' in math mode",h);const{args:_,optArgs:E}=this.parseArguments(f,y);return this.callFunction(f,_,E,h,i)}callFunction(i,l,h,f,y){const _={funcName:i,parser:this,token:f,breakOnTokenText:y},E=qs[i];if(E&&E.handler)return E.handler(_,l,h);throw new o("No function handler for "+i)}parseArguments(i,l){const h=l.numArgs+l.numOptionalArgs;if(h===0)return{args:[],optArgs:[]};const f=[],y=[];for(let _=0;_<h;_++){let E=l.argTypes&&l.argTypes[_];const C=_<l.numOptionalArgs;(l.primitive&&E==null||l.type==="sqrt"&&_===1&&y[0]==null)&&(E="primitive");const B=this.parseGroupOfType("argument to '"+i+"'",E,C);if(C)y.push(B);else if(B!=null)f.push(B);else throw new o("Null argument, please report this as a bug")}return{args:f,optArgs:y}}parseGroupOfType(i,l,h){switch(l){case"color":return this.parseColorGroup(h);case"size":return this.parseSizeGroup(h);case"url":return this.parseUrlGroup(h);case"math":case"text":return this.parseArgumentGroup(h,l);case"hbox":{const f=this.parseArgumentGroup(h,"text");return f!=null?{type:"styling",mode:f.mode,body:[f],style:"text"}:null}case"raw":{const f=this.parseStringGroup("raw",h);return f!=null?{type:"raw",mode:"text",string:f.text}:null}case"primitive":{if(h)throw new o("A primitive argument cannot be optional");const f=this.parseGroup(i);if(f==null)throw new o("Expected group as "+i,this.fetch());return f}case"original":case null:case void 0:return this.parseArgumentGroup(h);default:throw new o("Unknown group type as "+i,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(i,l){const h=this.gullet.scanArgument(l);if(h==null)return null;let f="",y;for(;(y=this.fetch()).text!=="EOF";)f+=y.text,this.consume();return this.consume(),h.text=f,h}parseRegexGroup(i,l){const h=this.fetch();let f=h,y="",_;for(;(_=this.fetch()).text!=="EOF"&&i.test(y+_.text);)f=_,y+=f.text,this.consume();if(y==="")throw new o("Invalid "+l+": '"+h.text+"'",h);return h.range(f,y)}parseColorGroup(i){const l=this.parseStringGroup("color",i);if(l==null)return null;const h=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(l.text);if(!h)throw new o("Invalid color: '"+l.text+"'",l);let f=h[0];return/^[0-9a-f]{6}$/i.test(f)&&(f="#"+f),{type:"color-token",mode:this.mode,color:f}}parseSizeGroup(i){let l,h=!1;if(this.gullet.consumeSpaces(),!i&&this.gullet.future().text!=="{"?l=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):l=this.parseStringGroup("size",i),!l)return null;!i&&l.text.length===0&&(l.text="0pt",h=!0);const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l.text);if(!f)throw new o("Invalid size: '"+l.text+"'",l);const y={number:+(f[1]+f[2]),unit:f[3]};if(!ro(y))throw new o("Invalid unit: '"+y.unit+"'",l);return{type:"size",mode:this.mode,value:y,isBlank:h}}parseUrlGroup(i){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const l=this.parseStringGroup("url",i);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),l==null)return null;const h=l.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:h}}parseArgumentGroup(i,l){const h=this.gullet.scanArgument(i);if(h==null)return null;const f=this.mode;l&&this.switchMode(l),this.gullet.beginGroup();const y=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const _={type:"ordgroup",mode:this.mode,loc:h.loc,body:y};return l&&this.switchMode(f),_}parseGroup(i,l){const h=this.fetch(),f=h.text;let y;if(f==="{"||f==="\\begingroup"){this.consume();const _=f==="{"?"}":"\\endgroup";this.gullet.beginGroup();const E=this.parseExpression(!1,_),C=this.fetch();this.expect(_),this.gullet.endGroup(),y={type:"ordgroup",mode:this.mode,loc:Pn.range(h,C),body:E,semisimple:f==="\\begingroup"||void 0}}else if(y=this.parseFunction(l,i)||this.parseSymbol(),y==null&&f[0]==="\\"&&!v1.hasOwnProperty(f)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+f,h);y=this.formatUnsupportedCmd(f),this.consume()}return y}formLigatures(i){let l=i.length-1;for(let h=0;h<l;++h){const f=i[h],y=f.text;y==="-"&&i[h+1].text==="-"&&(h+1<l&&i[h+2].text==="-"?(i.splice(h,3,{type:"textord",mode:"text",loc:Pn.range(f,i[h+2]),text:"---"}),l-=2):(i.splice(h,2,{type:"textord",mode:"text",loc:Pn.range(f,i[h+1]),text:"--"}),l-=1)),(y==="'"||y==="`")&&i[h+1].text===y&&(i.splice(h,2,{type:"textord",mode:"text",loc:Pn.range(f,i[h+1]),text:y+y}),l-=1)}}parseSymbol(){const i=this.fetch();let l=i.text;if(/^\\verb[^a-zA-Z]/.test(l)){this.consume();let y=l.slice(5);const _=y.charAt(0)==="*";if(_&&(y=y.slice(1)),y.length<2||y.charAt(0)!==y.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return y=y.slice(1,-1),{type:"verb",mode:"text",body:y,star:_}}x1.hasOwnProperty(l[0])&&!Fe[this.mode][l[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+l[0]+'" used in math mode',i),l=x1[l[0]]+l.slice(1));const h=f6.exec(l);h&&(l=l.substring(0,h.index),l==="i"?l="":l==="j"&&(l=""));let f;if(Fe[this.mode][l]){this.settings.strict&&this.mode==="math"&&qn.indexOf(l)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+l[0]+'" used in math mode',i);const y=Fe[this.mode][l].group,_=Pn.range(i);let E;if(io.hasOwnProperty(y)){const C=y;E={type:"atom",mode:this.mode,family:C,loc:_,text:l}}else E={type:y,mode:this.mode,loc:_,text:l};f=E}else if(l.charCodeAt(0)>=128)this.settings.strict&&(xn(l.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+l[0]+'" used in math mode',i):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+l[0]+'"'+(" ("+l.charCodeAt(0)+")"),i)),f={type:"textord",mode:"text",loc:Pn.range(i),text:l};else return null;if(this.consume(),h)for(let y=0;y<h[0].length;y++){const _=h[0][y];if(!Lc[_])throw new o("Unknown accent ' "+_+"'",i);const E=Lc[_][this.mode]||Lc[_].text;if(!E)throw new o("Accent "+_+" unsupported in "+this.mode+" mode",i);f={type:"accent",mode:this.mode,loc:Pn.range(i),label:E,isStretchy:!1,isShifty:!0,base:f}}return f}}a0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Oc=function(a,i){if(!(typeof a=="string"||a instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const l=new a0(a,i);delete l.gullet.macros.current["\\df@tag"];let h=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new o("\\tag works only in display equations");h=[{type:"tag",mode:"text",body:h,tag:l.subparse([new $n("\\df@tag")])}]}return h};let _1=function(a,i,l){i.textContent="";const h=Fc(a,l).toNode();i.appendChild(h)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),_1=function(){throw new o("KaTeX doesn't work in quirks mode.")});const v6=function(a,i){return Fc(a,i).toMarkup()},w6=function(a,i){const l=new j(i);return Oc(a,l)},b1=function(a,i,l){if(l.throwOnError||!(a instanceof o))throw a;const h=X.makeSpan(["katex-error"],[new _t(i)]);return h.setAttribute("title",a.toString()),h.setAttribute("style","color:"+l.errorColor),h},Fc=function(a,i){const l=new j(i);try{const h=Oc(a,l);return Zl(h,a,l)}catch(h){return b1(h,a,l)}};var x6={version:"0.16.25",render:_1,renderToString:v6,ParseError:o,SETTINGS_SCHEMA:F,__parse:w6,__renderToDomTree:Fc,__renderToHTMLTree:function(a,i){const l=new j(i);try{const h=Oc(a,l);return Ci(h,a,l)}catch(h){return b1(h,a,l)}},__setFontMetrics:_i,__defineSymbol:m,__defineFunction:ge,__defineMacro:T,__domTree:{Span:Nr,Anchor:Zr,SymbolNode:_t,SvgNode:Ut,PathNode:Un,LineNode:Rr}},_6=x6;return r=r.default,r}()})}(ph)),ph.exports}(function(t,e){(function(n,r){r(e,ve,t8(),n8())})($4,function(n,r,s,o){Object.defineProperty(n,"__esModule",{value:!0});function c(G,F){for(var M in F)Object.defineProperty(G,M,{enumerable:!0,get:F[M]})}c(n,{BlockMath:()=>Y,InlineMath:()=>ee}),r=x(r),s=d(s),o=d(o);function d(G){return G&&G.__esModule?G:{default:G}}function p(G){if(typeof WeakMap!="function")return null;var F=new WeakMap,M=new WeakMap;return(p=function(j){return j?M:F})(G)}function x(G,F){if(G&&G.__esModule)return G;if(G===null||typeof G!="object"&&typeof G!="function")return{default:G};var M=p(F);if(M&&M.has(G))return M.get(G);var j={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var oe in G)if(oe!=="default"&&Object.prototype.hasOwnProperty.call(G,oe)){var se=J?Object.getOwnPropertyDescriptor(G,oe):null;se&&(se.get||se.set)?Object.defineProperty(j,oe,se):j[oe]=G[oe]}return j.default=G,M&&M.set(G,j),j}const k=(G,{displayMode:F})=>{const M=({children:j,errorColor:J,math:oe,renderError:se})=>{const L=oe??j,{html:S,error:D}=(0,r.useMemo)(()=>{try{return{html:o.default.renderToString(L,{displayMode:F,errorColor:J,throwOnError:!!se}),error:void 0}}catch(P){if(P instanceof o.default.ParseError||P instanceof TypeError)return{error:P};throw P}},[L,J,se]);return D?se?se(D):r.default.createElement(G,{html:`${D.message}`}):r.default.createElement(G,{html:S})};return M.propTypes={children:s.default.string,errorColor:s.default.string,math:s.default.string,renderError:s.default.func},M},N={html:s.default.string.isRequired},R=({html:G})=>r.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:G}});R.propTypes=N;const H=({html:G})=>r.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:G}});H.propTypes=N;const Y=k(R,{displayMode:!0}),ee=k(H,{displayMode:!1})})})(bd,bd.exports);var Op=bd.exports;const r8=[/\$\$[\s\S]+?\$\$/,/\\\([^)]+\\\)/,/\\\[[^\]]+\\\]/,/\\(?:frac|sum|int|lim|sqrt|theta|alpha|beta|gamma|pi|times|cdot|pm|Sigma|Delta|nabla)\b/,/(?:^|\s)(?:[0-9A-Za-z]+)\s*(?:\^|_)\s*(?:[0-9A-Za-z]+)/],s8=t=>t?r8.some(e=>e.test(t)):!1,i8=t=>{if(!t)return[];const e=[],n=/\$\$([\s\S]+?)\$\$|\\\(([\s\S]+?)\\\)|\\\[([\s\S]+?)\\\]/g;let r=0,s;for(;(s=n.exec(t))!==null;){s.index>r&&e.push({type:"text",value:t.slice(r,s.index)});const[,o,c,d]=s;o?e.push({type:"math",value:o.trim(),mode:"block"}):c?e.push({type:"math",value:c.trim(),mode:"inline"}):d&&e.push({type:"math",value:d.trim(),mode:"block"}),r=s.index+s[0].length}return r<t.length&&e.push({type:"text",value:t.slice(r)}),e},Fp=t=>{const e=t.split(`
`);return e.map((n,r)=>I.jsxs(ve.Fragment,{children:[n,r<e.length-1?I.jsx("br",{}):null]},`line-${r}`))},Tl=({text:t,className:e,displayMode:n="block"})=>{const r=ve.useMemo(()=>i8(t),[t]),s=r.some(p=>p.type==="math"),o=s||s8(t),c=n==="inline"?"span":"div";if(!o)return I.jsx(c,{className:e,children:Fp(t)});const d=s?r:[{type:"math",value:t.trim(),mode:n}];return I.jsx(c,{className:e,children:d.map((p,x)=>p.type==="math"?(p.mode??n)==="inline"?I.jsx(Op.InlineMath,{children:p.value},`math-${x}`):I.jsx(Op.BlockMath,{children:p.value},`math-${x}`):I.jsx(ve.Fragment,{children:Fp(p.value)},`text-${x}`))})},o8=({option:t,isSelected:e,isCorrectChoice:n,showStatus:r,disabled:s,onSelect:o})=>{const c=r&&e&&n?"border-mint-600 bg-mint-50 text-cocoa-500 shadow-inner":r&&e&&!n?"border-rose-400 bg-blush-200/70 text-rose-500":r&&!e&&n?"border-mint-400 bg-mint-50 text-cocoa-500":!r&&e?"border-cocoa-300 bg-cream-50":"border-[rgba(118,90,72,0.18)] bg-white hover:border-cocoa-300";return I.jsx("button",{type:"button","aria-label":`Option ${t.label}`,disabled:s,className:`flex w-full items-stretch justify-between rounded-2xl border px-5 py-3 text-left font-medium text-cocoa-500 transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${c} ${s?"cursor-not-allowed opacity-90":""}`,onClick:o,children:I.jsxs("div",{className:"flex w-full items-start gap-3",children:[I.jsxs("span",{className:"text-lg font-semibold text-rose-400",children:[t.label,"."]}),I.jsx(Tl,{text:t.text,displayMode:"inline",className:"flex-1 text-base leading-relaxed text-current sm:text-lg"})]})})},a8=({prompt:t,value:e,onChange:n,onSubmit:r,disabled:s=!1,isLocked:o})=>{const c=d=>{d.preventDefault(),!o&&!s&&r()};return I.jsxs("form",{className:"mt-6 flex flex-col gap-3 rounded-2xl border border-cream-100 bg-cream-50/70 p-4",onSubmit:c,children:[I.jsx("label",{className:"text-sm font-semibold text-cocoa-500",children:"Type your answer below"}),I.jsx("textarea",{"aria-label":`Fill in the blank for ${t}`,rows:3,className:"w-full rounded-2xl border border-cream-200 bg-white px-4 py-3 text-base font-medium text-cocoa-600 transition focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200 disabled:cursor-not-allowed disabled:opacity-70",value:e,onChange:d=>n(d.target.value),disabled:s||o,placeholder:"Type the correct word or phrase"}),I.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm text-cocoa-400",children:[I.jsx(Tl,{text:"Answers ignore case and extra spaces.",displayMode:"inline",className:"text-xs text-cocoa-400"}),I.jsx("button",{type:"submit",className:"rounded-2xl bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500 disabled:cursor-not-allowed disabled:opacity-60",disabled:o||s||!e.trim(),children:o?"Answer locked":"Check answer"})]})]})},vu=t=>t.kind==="fill",wu=t=>!t.kind||t.kind==="choice",l8=({selection:t,question:e})=>{if(!t)return null;const n=t.isCorrect;if(vu(e))return I.jsxs("div",{role:"status","aria-live":"polite",className:`mt-8 flex flex-col gap-1 rounded-2xl px-5 py-4 text-base font-semibold ${n?"bg-mint-50 text-mint-600":"bg-cream-100/60 text-rose-500"}`,children:[I.jsx("span",{className:"text-2xl","aria-hidden":!0,children:n?"":":("}),n?I.jsx("span",{children:"Perfect! You nailed the blank."}):I.jsxs("div",{className:"flex flex-col gap-1 text-sm font-medium text-cocoa-500",children:[I.jsx("span",{className:"text-rose-500",children:"Not quite right."}),I.jsxs("span",{className:"text-cocoa-400",children:['Your answer: "',t.kind==="fill"?t.response:"",'"']}),I.jsxs("span",{className:"text-cocoa-500",children:["Correct answer:",I.jsx(Tl,{text:e.correctAnswer,displayMode:"inline",className:"inline text-inherit"})]})]})]});const r=e.options[e.correctIndex];return I.jsxs("div",{role:"status","aria-live":"polite",className:`mt-8 flex items-center gap-3 rounded-2xl px-5 py-4 text-base font-semibold ${n?"bg-mint-50 text-mint-600":"bg-cream-100/60 text-rose-500"}`,children:[I.jsx("span",{className:"text-2xl","aria-hidden":!0,children:n?"":":("}),n?I.jsx("span",{children:"Correct!"}):I.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[I.jsxs("span",{children:["Nope. Right answer: ",r.label,"."]}),I.jsx(Tl,{text:r.text,displayMode:"inline",className:"inline text-inherit"})]})]})},u8=({hasPrev:t,hasNext:e,canProceed:n,onPrev:r,onNext:s,onFinish:o})=>{const c=!e,d=c?o:s,p=c?!n:!n||!e,x=c?"Finish exam":"Next";return I.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[I.jsx("button",{type:"button",disabled:!t,onClick:r,className:`rounded-2xl border border-transparent px-5 py-3 text-lg font-semibold transition-all ${t?"bg-cream-100 text-cocoa-500 hover:border-cocoa-200 hover:bg-white":"bg-cream-100 text-cocoa-300 opacity-60"}`,children:"Previous"}),I.jsx("button",{type:"button",disabled:p,onClick:d,className:`rounded-2xl px-5 py-3 text-lg font-semibold text-white transition-all ${p?"bg-cocoa-300 opacity-60":"bg-rose-400 hover:bg-rose-500"}`,children:x})]})},c8=({exams:t,activeExamId:e,isOpen:n,onSelect:r,onToggle:s,onDelete:o})=>I.jsxs("aside",{className:`fixed bottom-0 right-0 top-0 z-30 w-72 border-l border-cream-100 bg-white px-5 py-6 shadow-2xl transition-all duration-200 md:static md:mt-0 md:h-auto md:border-none md:shadow-none ${n?"translate-x-0 opacity-100 md:block":"pointer-events-none translate-x-full opacity-0 md:hidden"}`,"aria-label":"Exam list",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h2",{className:"font-display text-xl font-semibold text-rose-500",children:"Stored Exams"}),I.jsx("button",{type:"button",className:"rounded-full bg-cream-100 px-3 py-1 text-xs font-semibold text-cocoa-500 md:hidden",onClick:s,children:n?"Hide":"Show"})]}),I.jsx("p",{className:"mt-2 text-sm text-cocoa-300",children:"Tap an exam to load it. Import as many as you like (up to 1000 questions each)."}),I.jsxs("ul",{className:"mt-4 space-y-2",children:[t.map(c=>{const d=c.id===e;return I.jsxs("li",{className:"relative",children:[I.jsxs("button",{type:"button",className:`w-full rounded-2xl border px-4 py-3 text-left text-sm font-semibold transition ${d?"border-rose-400 bg-blush-200/60 text-rose-500":"border-transparent bg-cream-50 text-cocoa-500 hover:border-cocoa-100"}`,onClick:()=>r(c.id),children:[I.jsx("span",{className:"block text-base",children:c.title}),I.jsxs("span",{className:"text-xs font-medium text-cocoa-300",children:[c.questions.length," questions"]})]}),I.jsx("button",{type:"button","aria-label":`Delete ${c.title}`,className:"absolute right-3 top-3 rounded-full border border-transparent bg-white/80 px-3 py-1 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:p=>{p.stopPropagation(),o(c.id)},children:"Delete"})]},c.id)}),t.length===0&&I.jsx("li",{className:"rounded-2xl border border-dashed border-cream-100 bg-cream-50/60 px-4 py-3 text-sm text-cocoa-300",children:"No exams stored yet."})]})]}),h8=({title:t,score:e,total:n,onRetake:r,onExit:s})=>{const o=n>0?Math.round(e/n*100):0,c=Math.max(n-e,0);return I.jsxs("section",{"aria-label":"Exam summary",className:"flex flex-col items-center gap-8 text-center",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-rose-400",children:"Exam complete"}),I.jsx("h2",{className:"mt-3 font-display text-3xl font-semibold text-cocoa-600",children:t})]}),I.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-cream-100 bg-cream-50 px-8 py-6 shadow-inner",children:[I.jsx("p",{className:"text-sm font-medium text-cocoa-400",children:"Your score"}),I.jsxs("p",{className:"mt-3 text-5xl font-semibold text-rose-500",children:[e,"/",n]}),I.jsxs("p",{className:"mt-2 text-sm text-cocoa-400",children:[o,"% correct "," ",c===0?"Perfect run!":`${c} ${c===1?"missed question":"missed questions"}`]})]}),I.jsxs("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row",children:[I.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-6 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:r,children:"Retake exam"}),I.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-6 py-3 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:s,children:"Back to exam hub"})]})]})},d8={success:"bg-mint-50 text-mint-600",error:"bg-blush-200 text-rose-500",info:"bg-cream-100 text-cocoa-500"},f8={success:"",error:"!",info:"i"},m8=({text:t,type:e="info",icon:n,onDismiss:r})=>I.jsxs("div",{className:`mt-6 flex items-center justify-between gap-4 rounded-2xl px-4 py-3 text-sm font-semibold ${d8[e]}`,children:[I.jsxs("span",{className:"flex items-center gap-3",children:[I.jsx("span",{"aria-hidden":!0,children:n??f8[e]}),I.jsx("span",{children:t})]}),r&&I.jsx("button",{type:"button","aria-label":"Dismiss message",className:"rounded-full border border-transparent px-3 py-1 text-xs font-semibold text-cocoa-500 transition hover:border-cocoa-200",onClick:r,children:"Close"})]}),p8=({isOpen:t,onClose:e,users:n,isLoadingUsers:r,usersError:s,onRefreshUsers:o,onSelectUser:c,selectedUser:d,selectedUserExams:p,isLoadingExams:x,examsError:k,onDeleteExam:N,onDeleteAllExams:R,onDeleteUser:H,currentUserId:Y,sessionLogs:ee,examAttemptLogs:G,isLoadingActivity:F,activityError:M,onRefreshActivity:j})=>{if(!t)return null;const J=S=>!S||Number.isNaN(S)?"":new Date(S).toLocaleString(),oe=S=>{if(!S||S<=0)return"";const D=Math.round(S/1e3),P=Math.floor(D/60),U=D%60;return P===0?`${U}s`:`${P}m ${U.toString().padStart(2,"0")}s`},se=ee.slice(0,6),L=G.slice(0,6);return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[rgba(31,23,18,0.55)] px-4 py-8",children:I.jsxs("div",{className:"relative flex w-full max-w-6xl flex-col gap-6 rounded-[36px] bg-white p-8 shadow-2xl",children:[I.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-rose-300",children:"Admin console"}),I.jsx("h2",{className:"mt-2 font-display text-3xl font-semibold text-cocoa-600",children:"Manage users and exams"}),I.jsx("p",{className:"mt-2 text-sm text-cocoa-400",children:"View and tidy up stored accounts and exam libraries across Omni Exam Studio."})]}),I.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[I.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:o,disabled:r,children:r?"Refreshing...":"Refresh users"}),I.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:j,disabled:F,children:F?"Loading logs...":"Refresh logs"}),I.jsx("button",{type:"button",className:"rounded-2xl border border-transparent bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:e,children:"Close"})]})]}),I.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,2fr)]",children:[I.jsxs("section",{className:"flex flex-col gap-4 rounded-3xl border border-cream-100 bg-cream-50/60 p-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h3",{className:"font-display text-xl font-semibold text-cocoa-600",children:"Accounts"}),I.jsxs("span",{className:"text-sm font-medium text-cocoa-400",children:[n.length," ",n.length===1?"user":"users"]})]}),s&&I.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:s}),I.jsx("div",{className:"flex-1 overflow-y-auto rounded-2xl bg-white/80",children:r?I.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading users..."}):n.length===0?I.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"No users found."}):I.jsx("ul",{className:"divide-y divide-cream-100",children:n.map(S=>{const D=(d==null?void 0:d.id)===S.id,P=S.role==="admin",U=new Date(S.createdAt);return I.jsx("li",{children:I.jsxs("button",{type:"button",className:`flex w-full items-start justify-between gap-3 px-4 py-4 text-left transition ${D?"bg-rose-50 text-rose-600":"hover:bg-cream-50 text-cocoa-500"}`,onClick:()=>c(S.id),children:[I.jsxs("div",{children:[I.jsxs("p",{className:"font-display text-lg font-semibold",children:[S.displayName,S.id===Y?I.jsx("span",{className:"ml-2 rounded-full bg-rose-100 px-2 py-[2px] text-xs font-semibold uppercase tracking-wide text-rose-500",children:"You"}):null,P?I.jsx("span",{className:"ml-2 rounded-full bg-cocoa-100 px-2 py-[2px] text-xs font-semibold uppercase tracking-wide text-cocoa-500",children:"Admin"}):null]}),I.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[S.login,"  Joined"," ",Number.isFinite(S.createdAt)?U.toLocaleDateString():"recently"]})]}),!P&&S.id!==Y&&I.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-500 transition hover:bg-rose-50",onClick:$=>{$.stopPropagation(),H(S.id)},children:"Delete user"})]})},S.id)})})})]}),I.jsxs("section",{className:"flex flex-col gap-4 rounded-3xl border border-cream-100 bg-cream-50/60 p-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"font-display text-xl font-semibold text-cocoa-600",children:["Exams for ",d?d.displayName:"Select a user"]}),I.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[p.length," ",p.length===1?"exam":"exams"," loaded"]})]}),d&&p.length>0&&I.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.15em] text-rose-500 transition hover:bg-rose-50 disabled:cursor-not-allowed disabled:opacity-60",onClick:()=>R(d.id),disabled:x,children:"Delete all exams"})]}),k&&I.jsx("p",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:k}),I.jsx("div",{className:"flex-1 overflow-y-auto rounded-2xl bg-white/80",children:d?x?I.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading exams..."}):p.length===0?I.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"No exams stored for this user."}):I.jsx("ul",{className:"divide-y divide-cream-100",children:p.map(S=>I.jsxs("li",{className:"flex items-start justify-between gap-4 px-5 py-4",children:[I.jsxs("div",{children:[I.jsx("p",{className:"font-display text-lg font-semibold text-cocoa-600",children:S.title}),I.jsxs("p",{className:"text-xs font-medium text-cocoa-400",children:[S.questions.length," ",S.questions.length===1?"question":"questions"]})]}),I.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-500 transition hover:bg-rose-50",onClick:()=>N(d.id,S.id),children:"Delete"})]},S.id))}):I.jsx("div",{className:"flex h-40 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Select a user to inspect their exams."})})]})]}),I.jsxs("section",{className:"rounded-3xl border border-cream-100 bg-cream-50/60 p-6",children:[I.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-display text-xl font-semibold text-cocoa-600",children:"Activity timeline"}),I.jsx("p",{className:"text-xs font-medium text-cocoa-400",children:"Track logins, time spent, and scored attempts across the workspace."})]}),I.jsxs("span",{className:"text-xs font-medium uppercase tracking-[0.2em] text-rose-400",children:[ee.length+G.length," events captured"]})]}),M&&I.jsx("p",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:M}),I.jsxs("div",{className:"mt-4 grid gap-4 lg:grid-cols-2",children:[I.jsxs("div",{className:"rounded-2xl bg-white/80 p-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h4",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-cocoa-400",children:"Sessions"}),I.jsxs("span",{className:"text-xs font-medium text-cocoa-300",children:["Showing recent ",se.length]})]}),F?I.jsx("div",{className:"mt-4 flex h-32 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading session data..."}):se.length===0?I.jsx("p",{className:"mt-4 text-sm font-medium text-cocoa-400",children:"No one has signed in yet."}):I.jsx("ul",{className:"mt-4 space-y-3",children:se.map(S=>I.jsxs("li",{className:"rounded-2xl border border-cream-100 bg-cream-50/50 px-4 py-3 text-sm",children:[I.jsxs("p",{className:"font-display text-base font-semibold text-cocoa-600",children:[S.userName," ",I.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-cocoa-300",children:S.userLogin})]}),I.jsxs("p",{className:"text-xs text-cocoa-400",children:["Login: ",J(S.loginAt)]}),I.jsxs("p",{className:"text-xs text-cocoa-400",children:["Logout:"," ",S.logoutAt?J(S.logoutAt):"Still active"]}),I.jsxs("p",{className:"text-xs font-semibold text-cocoa-500",children:["Duration: ",oe(S.durationMs)]})]},S.id))})]}),I.jsxs("div",{className:"rounded-2xl bg-white/80 p-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h4",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-cocoa-400",children:"Exam attempts"}),I.jsxs("span",{className:"text-xs font-medium text-cocoa-300",children:["Showing recent ",L.length]})]}),F?I.jsx("div",{className:"mt-4 flex h-32 items-center justify-center text-sm font-semibold text-cocoa-400",children:"Loading attempts..."}):L.length===0?I.jsx("p",{className:"mt-4 text-sm font-medium text-cocoa-400",children:"No exams have been finished yet."}):I.jsx("ul",{className:"mt-4 space-y-3",children:L.map(S=>I.jsxs("li",{className:"rounded-2xl border border-cream-100 bg-cream-50/50 px-4 py-3 text-sm",children:[I.jsx("p",{className:"font-display text-base font-semibold text-cocoa-600",children:S.examTitle}),I.jsxs("p",{className:"text-xs text-cocoa-400",children:[S.userName,"  ",S.userLogin]}),I.jsxs("p",{className:"text-xs text-cocoa-400",children:["Finished: ",J(S.finishedAt)]}),I.jsxs("p",{className:"text-xs font-semibold text-cocoa-500",children:["Score: ",S.score,"/",S.total," (",oe(S.durationMs),")"]})]},S.id))})]})]})]})]})})},Sd={id:"latin-default",title:"Latin Vocabulary Exam",questions:[{kind:"choice",entry:"grammatica, grammaticae, f.",options:[{label:"a",text:"example"},{label:"b",text:"chapter"},{label:"c",text:"letter"},{label:"d",text:"grammar"}],correctIndex:3},{kind:"choice",entry:"discipula, discipulae, f.",options:[{label:"a",text:"teacher"},{label:"b",text:"friend"},{label:"c",text:"scribe"},{label:"d",text:"student"}],correctIndex:3},{kind:"choice",entry:"poeta, poetae, m.",options:[{label:"a",text:"sailor"},{label:"b",text:"soldier"},{label:"c",text:"farmer"},{label:"d",text:"poet"}],correctIndex:3},{kind:"choice",entry:"patria, patriae, f.",options:[{label:"a",text:"daughter"},{label:"b",text:"market"},{label:"c",text:"forest"},{label:"d",text:"homeland"}],correctIndex:3},{kind:"choice",entry:"puella, puellae, f.",options:[{label:"a",text:"maid"},{label:"b",text:"boy"},{label:"c",text:"child"},{label:"d",text:"girl"}],correctIndex:3},{kind:"choice",entry:"insula, insulae, f.",options:[{label:"a",text:"street"},{label:"b",text:"temple"},{label:"c",text:"palace"},{label:"d",text:"island"}],correctIndex:3},{kind:"choice",entry:"fabula, fabulae, f.",options:[{label:"a",text:"spear"},{label:"b",text:"statue"},{label:"c",text:"feast"},{label:"d",text:"story"}],correctIndex:3},{kind:"choice",entry:"agricola, agricolae, m.",options:[{label:"a",text:"general"},{label:"b",text:"hunter"},{label:"c",text:"painter"},{label:"d",text:"farmer"}],correctIndex:3},{kind:"fill",entry:'Fill in the blank: "Roma in Italia est" translates to ____.',correctAnswer:"Rome is in Italy"}]},Bp=[Sd],g8=768,y8=(t=g8)=>{const[e,n]=ve.useState(()=>typeof window>"u"?!1:window.innerWidth<t);return ve.useEffect(()=>{if(typeof window>"u")return;const r=()=>n(window.innerWidth<t);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},v8=/^([a-z])[).:\-]\s*(.+)$/i,w8=/^question(?:\s+\d+)?\s*[:\-]\s*(.+)$/i,x8=/^title\s*[:\-]\s*(.+)$/i,jp=/^answer\s*[:\-]\s*([a-z])/i,_8=/^answer\s*[:\-]\s*(.+)$/i,b8=/^type\s*[:\-]\s*(choice|fill)/i,S8=1e3,E8=t=>t.replace(/\r\n/g,`
`).split(`
`),T8=t=>{var p;if(!t.trim())return{success:!1,message:"The uploaded file is empty."};const n=E8(t);let r=0,s="";const o=[],c=()=>{for(;r<n.length&&!n[r].trim();)r+=1};if(c(),r>=n.length)return{success:!1,message:"File content is missing a Title line."};const d=n[r].trim().match(x8);if(!d)return{success:!1,message:'Start your file with "Title: <Name of exam>".'};for(s=d[1].trim(),r+=1;r<n.length&&(c(),!(r>=n.length));){const k=n[r].trim().match(w8);if(!k)return{success:!1,message:`Expected a "Question:" line near line ${r+1}.`};const N=k[1].trim();if(!N)return{success:!1,message:`Missing text for the question near line ${r+1}.`};r+=1;let R="choice";const H=(p=n[r])==null?void 0:p.trim();if(H){const J=H.match(b8);J&&(R=J[1].toLowerCase(),r+=1)}const Y=()=>{for(;r<n.length&&!n[r].trim();)r+=1};if(R==="fill"){if(Y(),r>=n.length)return{success:!1,message:`Missing "Answer:" line for the fill-in question that begins with "${N}".`};const oe=n[r].trim().match(_8);if(!oe||!oe[1].trim())return{success:!1,message:`Fill-in answers should look like "Answer: your text" near line ${r+1}.`};const se=oe[1].trim();o.push({kind:"fill",entry:N,correctAnswer:se}),r+=1;continue}const ee=[];for(;r<n.length;){const J=n[r].trim();if(!J){r+=1;continue}if(jp.test(J))break;const oe=J.match(v8);if(!oe)return{success:!1,message:`Option lines should start with "a. text". Issue near line ${r+1}.`};ee.push({label:oe[1].toLowerCase(),text:oe[2].trim()}),r+=1}if(ee.length<2)return{success:!1,message:`Each question needs at least two options (question near line ${r+1}).`};if(r>=n.length)return{success:!1,message:`Missing "Answer:" line for the question that begins with "${N}".`};const F=n[r].trim().match(jp);if(!F)return{success:!1,message:`Answer line malformed near line ${r+1}. Use "Answer: a".`};const M=F[1].toLowerCase(),j=ee.findIndex(J=>J.label===M);if(j===-1)return{success:!1,message:`The answer letter "${M}" must match one of the listed options.`};if(r+=1,o.push({entry:N,options:ee,correctIndex:j}),o.length>S8)return{success:!1,message:"Please limit exams to 1000 questions or fewer."}}return o.length===0?{success:!1,message:"No questions were detected. Please follow the provided template."}:{success:!0,data:{title:s,questions:o}}},k8=t=>{const e=[];return e.push(`Title: ${t.title}`),e.push(""),t.questions.forEach((n,r)=>{if(e.push(`Question ${r+1}: ${n.entry}`),vu(n))e.push("Type: fill"),e.push(`Answer: ${n.correctAnswer}`);else{const s=n;s.options.forEach(d=>{e.push(`${d.label}. ${d.text}`)});const o=s.options[s.correctIndex],c=o?o.label:"";e.push(`Answer: ${c}`)}e.push("")}),e.join(`
`).trim()+`
`};var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},A8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},i5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,p=s+2<t.length,x=p?t[s+2]:0,k=o>>2,N=(o&3)<<4|d>>4;let R=(d&15)<<2|x>>6,H=x&63;p||(H=64,c||(R=64)),r.push(n[k],n[N],n[R],n[H])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const x=s<t.length?n[t.charAt(s)]:64;++s;const N=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||x==null||N==null)throw new I8;const R=o<<2|d>>4;if(r.push(R),x!==64){const H=d<<4&240|x>>2;if(r.push(H),N!==64){const Y=x<<6&192|N;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C8=function(t){const e=s5(t);return i5.encodeByteArray(e,!0)},xu=function(t){return C8(t).replace(/\./g,"")},N8=function(t){try{return i5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=()=>R8().__FIREBASE_DEFAULTS__,M8=()=>{if(typeof process>"u"||typeof Up>"u")return;const t=Up.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N8(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return P8()||M8()||D8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V8=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z8=t=>{const e=V8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o5=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xu(JSON.stringify(n)),xu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B8(){var t;const e=(t=Ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j8(){return!B8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U8(){try{return typeof indexedDB=="object"}catch{return!1}}function q8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H8,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a5.prototype.create)}}class a5{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?$8(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ca(s,d,r)}}function $8(t,e){return t.replace(W8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const W8=/\{\$([^}]+)}/g;function Ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(qp(o)&&qp(c)){if(!Ed(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K8(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q8(t){return t===Di?void 0:t}function K8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const Y8={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},J8=Ge.INFO,Z8={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},e9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Z8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l5{constructor(e){this.name=e,this._logLevel=J8,this._logHandler=e9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const t9=(t,e)=>e.some(n=>t instanceof n);let Hp,$p;function n9(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r9(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u5=new WeakMap,Td=new WeakMap,c5=new WeakMap,gh=new WeakMap,Bf=new WeakMap;function s9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ai(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&u5.set(n,t)}).catch(()=>{}),Bf.set(e,t),e}function i9(t){if(Td.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Td.set(t,e)}let kd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Td.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o9(t){kd=t(kd)}function a9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yh(this),e,...n);return c5.set(r,e.sort?e.sort():[e]),ai(r)}:r9().includes(t)?function(...e){return t.apply(yh(this),e),ai(u5.get(this))}:function(...e){return ai(t.apply(yh(this),e))}}function l9(t){return typeof t=="function"?a9(t):(t instanceof IDBTransaction&&i9(t),t9(t,n9())?new Proxy(t,kd):t)}function ai(t){if(t instanceof IDBRequest)return s9(t);if(gh.has(t))return gh.get(t);const e=l9(t);return e!==t&&(gh.set(t,e),Bf.set(e,t)),e}const yh=t=>Bf.get(t);function u9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=ai(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ai(c.result),p.oldVersion,p.newVersion,ai(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",x=>s(x.oldVersion,x.newVersion,x))}).catch(()=>{}),d}const c9=["get","getKey","getAll","getAllKeys","count"],h9=["put","add","delete","clear"],vh=new Map;function Wp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=h9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c9.includes(n)))return;const o=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let x=p.store;return r&&(x=x.index(d.shift())),(await Promise.all([x[n](...d),s&&p.done]))[0]};return vh.set(e,o),o}o9(t=>({...t,get:(e,n,r)=>Wp(e,n)||t.get(e,n,r),has:(e,n)=>!!Wp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ad="@firebase/app",Gp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new l5("@firebase/app"),m9="@firebase/app-compat",p9="@firebase/analytics-compat",g9="@firebase/analytics",y9="@firebase/app-check-compat",v9="@firebase/app-check",w9="@firebase/auth",x9="@firebase/auth-compat",_9="@firebase/database",b9="@firebase/data-connect",S9="@firebase/database-compat",E9="@firebase/functions",T9="@firebase/functions-compat",k9="@firebase/installations",A9="@firebase/installations-compat",I9="@firebase/messaging",C9="@firebase/messaging-compat",N9="@firebase/performance",R9="@firebase/performance-compat",P9="@firebase/remote-config",M9="@firebase/remote-config-compat",D9="@firebase/storage",V9="@firebase/storage-compat",z9="@firebase/firestore",L9="@firebase/vertexai-preview",O9="@firebase/firestore-compat",F9="firebase",B9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",j9={[Ad]:"fire-core",[m9]:"fire-core-compat",[g9]:"fire-analytics",[p9]:"fire-analytics-compat",[v9]:"fire-app-check",[y9]:"fire-app-check-compat",[w9]:"fire-auth",[x9]:"fire-auth-compat",[_9]:"fire-rtdb",[b9]:"fire-data-connect",[S9]:"fire-rtdb-compat",[E9]:"fire-fn",[T9]:"fire-fn-compat",[k9]:"fire-iid",[A9]:"fire-iid-compat",[I9]:"fire-fcm",[C9]:"fire-fcm-compat",[N9]:"fire-perf",[R9]:"fire-perf-compat",[P9]:"fire-rc",[M9]:"fire-rc-compat",[D9]:"fire-gcs",[V9]:"fire-gcs-compat",[z9]:"fire-fst",[O9]:"fire-fst-compat",[L9]:"fire-vertex","fire-js":"fire-js",[F9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,U9=new Map,Cd=new Map;function Qp(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bu(t){const e=t.name;if(Cd.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,t);for(const n of _u.values())Qp(n,t);for(const n of U9.values())Qp(n,t);return!0}function q9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new a5("app","Firebase",H9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=B9;function h5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Id,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=o5()),!n)throw li.create("no-options");const o=_u.get(s);if(o){if(Ed(n,o.options)&&Ed(r,o.config))return o;throw li.create("duplicate-app",{appName:s})}const c=new X8(s);for(const p of Cd.values())c.addComponent(p);const d=new $9(n,r,c);return _u.set(s,d),d}function G9(t=Id){const e=_u.get(t);if(!e&&t===Id&&o5())return h5();if(!e)throw li.create("no-app",{appName:t});return e}function Uo(t,e,n){var r;let s=(r=j9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}bu(new kl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="firebase-heartbeat-database",K9=1,Al="firebase-heartbeat-store";let wh=null;function d5(){return wh||(wh=u9(Q9,K9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),wh}async function X9(t){try{const n=(await d5()).transaction(Al),r=await n.objectStore(Al).get(f5(t));return await n.done,r}catch(e){if(e instanceof ca)As.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(n.message)}}}async function Kp(t,e){try{const r=(await d5()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,f5(t)),await r.done}catch(n){if(n instanceof ca)As.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});As.warn(r.message)}}}function f5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=1024,J9=30*24*60*60*1e3;class Z9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=J9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xp(),{heartbeatsToSend:r,unsentEntries:s}=ev(this._heartbeatsCache.heartbeats),o=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return As.warn(n),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function ev(t,e=Y9){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Yp(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U8()?q8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yp(t){return xu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){bu(new kl("platform-logger",e=>new d9(e),"PRIVATE")),bu(new kl("heartbeat",e=>new Z9(e),"PRIVATE")),Uo(Ad,Gp,t),Uo(Ad,Gp,"esm2017"),Uo("fire-js","")}nv("");var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,m5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,S){function D(){}D.prototype=S.prototype,L.D=S.prototype,L.prototype=new D,L.prototype.constructor=L,L.C=function(P,U,$){for(var z=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)z[Vt-2]=arguments[Vt];return S.prototype[U].apply(P,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,S,D){D||(D=0);var P=Array(16);if(typeof S=="string")for(var U=0;16>U;++U)P[U]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(U=0;16>U;++U)P[U]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=L.g[0],D=L.g[1],U=L.g[2];var $=L.g[3],z=S+($^D&(U^$))+P[0]+3614090360&4294967295;S=D+(z<<7&4294967295|z>>>25),z=$+(U^S&(D^U))+P[1]+3905402710&4294967295,$=S+(z<<12&4294967295|z>>>20),z=U+(D^$&(S^D))+P[2]+606105819&4294967295,U=$+(z<<17&4294967295|z>>>15),z=D+(S^U&($^S))+P[3]+3250441966&4294967295,D=U+(z<<22&4294967295|z>>>10),z=S+($^D&(U^$))+P[4]+4118548399&4294967295,S=D+(z<<7&4294967295|z>>>25),z=$+(U^S&(D^U))+P[5]+1200080426&4294967295,$=S+(z<<12&4294967295|z>>>20),z=U+(D^$&(S^D))+P[6]+2821735955&4294967295,U=$+(z<<17&4294967295|z>>>15),z=D+(S^U&($^S))+P[7]+4249261313&4294967295,D=U+(z<<22&4294967295|z>>>10),z=S+($^D&(U^$))+P[8]+1770035416&4294967295,S=D+(z<<7&4294967295|z>>>25),z=$+(U^S&(D^U))+P[9]+2336552879&4294967295,$=S+(z<<12&4294967295|z>>>20),z=U+(D^$&(S^D))+P[10]+4294925233&4294967295,U=$+(z<<17&4294967295|z>>>15),z=D+(S^U&($^S))+P[11]+2304563134&4294967295,D=U+(z<<22&4294967295|z>>>10),z=S+($^D&(U^$))+P[12]+1804603682&4294967295,S=D+(z<<7&4294967295|z>>>25),z=$+(U^S&(D^U))+P[13]+4254626195&4294967295,$=S+(z<<12&4294967295|z>>>20),z=U+(D^$&(S^D))+P[14]+2792965006&4294967295,U=$+(z<<17&4294967295|z>>>15),z=D+(S^U&($^S))+P[15]+1236535329&4294967295,D=U+(z<<22&4294967295|z>>>10),z=S+(U^$&(D^U))+P[1]+4129170786&4294967295,S=D+(z<<5&4294967295|z>>>27),z=$+(D^U&(S^D))+P[6]+3225465664&4294967295,$=S+(z<<9&4294967295|z>>>23),z=U+(S^D&($^S))+P[11]+643717713&4294967295,U=$+(z<<14&4294967295|z>>>18),z=D+($^S&(U^$))+P[0]+3921069994&4294967295,D=U+(z<<20&4294967295|z>>>12),z=S+(U^$&(D^U))+P[5]+3593408605&4294967295,S=D+(z<<5&4294967295|z>>>27),z=$+(D^U&(S^D))+P[10]+38016083&4294967295,$=S+(z<<9&4294967295|z>>>23),z=U+(S^D&($^S))+P[15]+3634488961&4294967295,U=$+(z<<14&4294967295|z>>>18),z=D+($^S&(U^$))+P[4]+3889429448&4294967295,D=U+(z<<20&4294967295|z>>>12),z=S+(U^$&(D^U))+P[9]+568446438&4294967295,S=D+(z<<5&4294967295|z>>>27),z=$+(D^U&(S^D))+P[14]+3275163606&4294967295,$=S+(z<<9&4294967295|z>>>23),z=U+(S^D&($^S))+P[3]+4107603335&4294967295,U=$+(z<<14&4294967295|z>>>18),z=D+($^S&(U^$))+P[8]+1163531501&4294967295,D=U+(z<<20&4294967295|z>>>12),z=S+(U^$&(D^U))+P[13]+2850285829&4294967295,S=D+(z<<5&4294967295|z>>>27),z=$+(D^U&(S^D))+P[2]+4243563512&4294967295,$=S+(z<<9&4294967295|z>>>23),z=U+(S^D&($^S))+P[7]+1735328473&4294967295,U=$+(z<<14&4294967295|z>>>18),z=D+($^S&(U^$))+P[12]+2368359562&4294967295,D=U+(z<<20&4294967295|z>>>12),z=S+(D^U^$)+P[5]+4294588738&4294967295,S=D+(z<<4&4294967295|z>>>28),z=$+(S^D^U)+P[8]+2272392833&4294967295,$=S+(z<<11&4294967295|z>>>21),z=U+($^S^D)+P[11]+1839030562&4294967295,U=$+(z<<16&4294967295|z>>>16),z=D+(U^$^S)+P[14]+4259657740&4294967295,D=U+(z<<23&4294967295|z>>>9),z=S+(D^U^$)+P[1]+2763975236&4294967295,S=D+(z<<4&4294967295|z>>>28),z=$+(S^D^U)+P[4]+1272893353&4294967295,$=S+(z<<11&4294967295|z>>>21),z=U+($^S^D)+P[7]+4139469664&4294967295,U=$+(z<<16&4294967295|z>>>16),z=D+(U^$^S)+P[10]+3200236656&4294967295,D=U+(z<<23&4294967295|z>>>9),z=S+(D^U^$)+P[13]+681279174&4294967295,S=D+(z<<4&4294967295|z>>>28),z=$+(S^D^U)+P[0]+3936430074&4294967295,$=S+(z<<11&4294967295|z>>>21),z=U+($^S^D)+P[3]+3572445317&4294967295,U=$+(z<<16&4294967295|z>>>16),z=D+(U^$^S)+P[6]+76029189&4294967295,D=U+(z<<23&4294967295|z>>>9),z=S+(D^U^$)+P[9]+3654602809&4294967295,S=D+(z<<4&4294967295|z>>>28),z=$+(S^D^U)+P[12]+3873151461&4294967295,$=S+(z<<11&4294967295|z>>>21),z=U+($^S^D)+P[15]+530742520&4294967295,U=$+(z<<16&4294967295|z>>>16),z=D+(U^$^S)+P[2]+3299628645&4294967295,D=U+(z<<23&4294967295|z>>>9),z=S+(U^(D|~$))+P[0]+4096336452&4294967295,S=D+(z<<6&4294967295|z>>>26),z=$+(D^(S|~U))+P[7]+1126891415&4294967295,$=S+(z<<10&4294967295|z>>>22),z=U+(S^($|~D))+P[14]+2878612391&4294967295,U=$+(z<<15&4294967295|z>>>17),z=D+($^(U|~S))+P[5]+4237533241&4294967295,D=U+(z<<21&4294967295|z>>>11),z=S+(U^(D|~$))+P[12]+1700485571&4294967295,S=D+(z<<6&4294967295|z>>>26),z=$+(D^(S|~U))+P[3]+2399980690&4294967295,$=S+(z<<10&4294967295|z>>>22),z=U+(S^($|~D))+P[10]+4293915773&4294967295,U=$+(z<<15&4294967295|z>>>17),z=D+($^(U|~S))+P[1]+2240044497&4294967295,D=U+(z<<21&4294967295|z>>>11),z=S+(U^(D|~$))+P[8]+1873313359&4294967295,S=D+(z<<6&4294967295|z>>>26),z=$+(D^(S|~U))+P[15]+4264355552&4294967295,$=S+(z<<10&4294967295|z>>>22),z=U+(S^($|~D))+P[6]+2734768916&4294967295,U=$+(z<<15&4294967295|z>>>17),z=D+($^(U|~S))+P[13]+1309151649&4294967295,D=U+(z<<21&4294967295|z>>>11),z=S+(U^(D|~$))+P[4]+4149444226&4294967295,S=D+(z<<6&4294967295|z>>>26),z=$+(D^(S|~U))+P[11]+3174756917&4294967295,$=S+(z<<10&4294967295|z>>>22),z=U+(S^($|~D))+P[2]+718787259&4294967295,U=$+(z<<15&4294967295|z>>>17),z=D+($^(U|~S))+P[9]+3951481745&4294967295,L.g[0]=L.g[0]+S&4294967295,L.g[1]=L.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,L.g[2]=L.g[2]+U&4294967295,L.g[3]=L.g[3]+$&4294967295}r.prototype.u=function(L,S){S===void 0&&(S=L.length);for(var D=S-this.blockSize,P=this.B,U=this.h,$=0;$<S;){if(U==0)for(;$<=D;)s(this,L,$),$+=this.blockSize;if(typeof L=="string"){for(;$<S;)if(P[U++]=L.charCodeAt($++),U==this.blockSize){s(this,P),U=0;break}}else for(;$<S;)if(P[U++]=L[$++],U==this.blockSize){s(this,P),U=0;break}}this.h=U,this.o+=S},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var S=1;S<L.length-8;++S)L[S]=0;var D=8*this.o;for(S=L.length-8;S<L.length;++S)L[S]=D&255,D/=256;for(this.u(L),L=Array(16),S=D=0;4>S;++S)for(var P=0;32>P;P+=8)L[D++]=this.g[S]>>>P&255;return L};function o(L,S){var D=d;return Object.prototype.hasOwnProperty.call(D,L)?D[L]:D[L]=S(L)}function c(L,S){this.h=S;for(var D=[],P=!0,U=L.length-1;0<=U;U--){var $=L[U]|0;P&&$==S||(D[U]=$,P=!1)}this.g=D}var d={};function p(L){return-128<=L&&128>L?o(L,function(S){return new c([S|0],0>S?-1:0)}):new c([L|0],0>L?-1:0)}function x(L){if(isNaN(L)||!isFinite(L))return N;if(0>L)return G(x(-L));for(var S=[],D=1,P=0;L>=D;P++)S[P]=L/D|0,D*=4294967296;return new c(S,0)}function k(L,S){if(L.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L.charAt(0)=="-")return G(k(L.substring(1),S));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=x(Math.pow(S,8)),P=N,U=0;U<L.length;U+=8){var $=Math.min(8,L.length-U),z=parseInt(L.substring(U,U+$),S);8>$?($=x(Math.pow(S,$)),P=P.j($).add(x(z))):(P=P.j(D),P=P.add(x(z)))}return P}var N=p(0),R=p(1),H=p(16777216);t=c.prototype,t.m=function(){if(ee(this))return-G(this).m();for(var L=0,S=1,D=0;D<this.g.length;D++){var P=this.i(D);L+=(0<=P?P:4294967296+P)*S,S*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(Y(this))return"0";if(ee(this))return"-"+G(this).toString(L);for(var S=x(Math.pow(L,6)),D=this,P="";;){var U=J(D,S).g;D=F(D,U.j(S));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(L);if(D=U,Y(D))return $+P;for(;6>$.length;)$="0"+$;P=$+P}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function Y(L){if(L.h!=0)return!1;for(var S=0;S<L.g.length;S++)if(L.g[S]!=0)return!1;return!0}function ee(L){return L.h==-1}t.l=function(L){return L=F(this,L),ee(L)?-1:Y(L)?0:1};function G(L){for(var S=L.g.length,D=[],P=0;P<S;P++)D[P]=~L.g[P];return new c(D,~L.h).add(R)}t.abs=function(){return ee(this)?G(this):this},t.add=function(L){for(var S=Math.max(this.g.length,L.g.length),D=[],P=0,U=0;U<=S;U++){var $=P+(this.i(U)&65535)+(L.i(U)&65535),z=($>>>16)+(this.i(U)>>>16)+(L.i(U)>>>16);P=z>>>16,$&=65535,z&=65535,D[U]=z<<16|$}return new c(D,D[D.length-1]&-2147483648?-1:0)};function F(L,S){return L.add(G(S))}t.j=function(L){if(Y(this)||Y(L))return N;if(ee(this))return ee(L)?G(this).j(G(L)):G(G(this).j(L));if(ee(L))return G(this.j(G(L)));if(0>this.l(H)&&0>L.l(H))return x(this.m()*L.m());for(var S=this.g.length+L.g.length,D=[],P=0;P<2*S;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<L.g.length;U++){var $=this.i(P)>>>16,z=this.i(P)&65535,Vt=L.i(U)>>>16,Ve=L.i(U)&65535;D[2*P+2*U]+=z*Ve,M(D,2*P+2*U),D[2*P+2*U+1]+=$*Ve,M(D,2*P+2*U+1),D[2*P+2*U+1]+=z*Vt,M(D,2*P+2*U+1),D[2*P+2*U+2]+=$*Vt,M(D,2*P+2*U+2)}for(P=0;P<S;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=S;P<2*S;P++)D[P]=0;return new c(D,0)};function M(L,S){for(;(L[S]&65535)!=L[S];)L[S+1]+=L[S]>>>16,L[S]&=65535,S++}function j(L,S){this.g=L,this.h=S}function J(L,S){if(Y(S))throw Error("division by zero");if(Y(L))return new j(N,N);if(ee(L))return S=J(G(L),S),new j(G(S.g),G(S.h));if(ee(S))return S=J(L,G(S)),new j(G(S.g),S.h);if(30<L.g.length){if(ee(L)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var D=R,P=S;0>=P.l(L);)D=oe(D),P=oe(P);var U=se(D,1),$=se(P,1);for(P=se(P,2),D=se(D,2);!Y(P);){var z=$.add(P);0>=z.l(L)&&(U=U.add(D),$=z),P=se(P,1),D=se(D,1)}return S=F(L,U.j(S)),new j(U,S)}for(U=N;0<=L.l(S);){for(D=Math.max(1,Math.floor(L.m()/S.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),$=x(D),z=$.j(S);ee(z)||0<z.l(L);)D-=P,$=x(D),z=$.j(S);Y($)&&($=R),U=U.add($),L=F(L,z)}return new j(U,L)}t.A=function(L){return J(this,L).h},t.and=function(L){for(var S=Math.max(this.g.length,L.g.length),D=[],P=0;P<S;P++)D[P]=this.i(P)&L.i(P);return new c(D,this.h&L.h)},t.or=function(L){for(var S=Math.max(this.g.length,L.g.length),D=[],P=0;P<S;P++)D[P]=this.i(P)|L.i(P);return new c(D,this.h|L.h)},t.xor=function(L){for(var S=Math.max(this.g.length,L.g.length),D=[],P=0;P<S;P++)D[P]=this.i(P)^L.i(P);return new c(D,this.h^L.h)};function oe(L){for(var S=L.g.length+1,D=[],P=0;P<S;P++)D[P]=L.i(P)<<1|L.i(P-1)>>>31;return new c(D,L.h)}function se(L,S){var D=S>>5;S%=32;for(var P=L.g.length-D,U=[],$=0;$<P;$++)U[$]=0<S?L.i($+D)>>>S|L.i($+D+1)<<32-S:L.i($+D);return new c(U,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=x,c.fromString=k,Ui=c}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p5,qa,g5,q0,Nd,y5,v5,w5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof k0=="object"&&k0];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var w=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var K=u[A];if(!(K in w))break e;w=w[K]}u=u[u.length-1],A=w[u],g=g(A),g!=A&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function o(u,g){u instanceof String&&(u+="");var w=0,A=!1,K={next:function(){if(!A&&w<u.length){var ne=w++;return{value:g(ne,u[ne]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(u){return u||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function x(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function k(u,g,w){return u.call.apply(u.bind,arguments)}function N(u,g,w){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),u.apply(g,K)}}return function(){return u.apply(g,arguments)}}function R(u,g,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:N,R.apply(null,arguments)}function H(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(A,K,ne){for(var me=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)me[tt-2]=arguments[tt];return g.prototype[K].apply(A,me)}}function ee(u){const g=u.length;if(0<g){const w=Array(g);for(let A=0;A<g;A++)w[A]=u[A];return w}return[]}function G(u,g){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(p(A)){const K=u.length||0,ne=A.length||0;u.length=K+ne;for(let me=0;me<ne;me++)u[K+me]=A[me]}else u.push(A)}}class F{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(u){return/^[\s\xa0]*$/.test(u)}function j(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var oe=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function se(u,g,w){for(const A in u)g.call(w,u[A],A,u)}function L(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function S(u){const g={};for(const w in u)g[w]=u[w];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,g){let w,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(w in A)u[w]=A[w];for(let ne=0;ne<D.length;ne++)w=D[ne],Object.prototype.hasOwnProperty.call(A,w)&&(u[w]=A[w])}}function U(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function $(u){d.setTimeout(()=>{throw u},0)}function z(){var u=Ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,w){const A=Ve.get();A.set(g,w),this.h?this.h.next=A:this.g=A,this.h=A}}var Ve=new F(()=>new Fn,u=>u.reset());class Fn{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let wn,ye=!1,Ne=new Vt,he=()=>{const u=d.Promise.resolve(void 0);wn=()=>{u.then(je)}};var je=()=>{for(var u;u=z();){try{u.h.call(u.g)}catch(w){$(w)}var g=Ve;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ye=!1};function ze(){this.s=this.s,this.C=this.C}ze.prototype.s=!1,ze.prototype.ma=function(){this.s||(this.s=!0,this.N())},ze.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var xn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return u}();function zt(u,g){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(oe){e:{try{J(g.nodeName);var K=!0;break e}catch{}K=!1}K||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:cn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&zt.aa.h.call(this)}}Y(zt,nt);var cn={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),pa=0;function vi(u,g,w,A,K){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!A,this.ha=K,this.key=++pa,this.da=this.fa=!1}function Jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kr(u){this.src=u,this.g={},this.h=0}Kr.prototype.add=function(u,g,w,A,K){var ne=u.toString();u=this.g[ne],u||(u=this.g[ne]=[],this.h++);var me=Rs(u,g,A,K);return-1<me?(g=u[me],w||(g.fa=!1)):(g=new vi(g,this.src,ne,!!A,K),g.fa=w,u.push(g)),g};function wi(u,g){var w=g.type;if(w in u.g){var A=u.g[w],K=Array.prototype.indexOf.call(A,g,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(A,K,1),ne&&(Jn(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Rs(u,g,w,A){for(var K=0;K<u.length;++K){var ne=u[K];if(!ne.da&&ne.listener==g&&ne.capture==!!w&&ne.ha==A)return K}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Ir={};function Cr(u,g,w,A,K){if(Array.isArray(g)){for(var ne=0;ne<g.length;ne++)Cr(u,g[ne],w,A,K);return null}return w=Yr(w),u&&u[jt]?u.K(g,w,x(A)?!!A.capture:!1,K):Kt(u,g,w,!1,A,K)}function Kt(u,g,w,A,K,ne){if(!g)throw Error("Invalid event type");var me=x(K)?!!K.capture:!!K,tt=fr(u);if(tt||(u[xi]=tt=new Kr(u)),w=tt.add(g,w,A,me,ne),w.proxy)return w;if(A=Ps(),w.proxy=A,A.src=u,A.listener=w,u.addEventListener)xn||(K=me),K===void 0&&(K=!1),u.addEventListener(g.toString(),A,K);else if(u.attachEvent)u.attachEvent(Xr(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ps(){function u(w){return g.call(u.src,u.listener,w)}const g=bi;return u}function Zn(u,g,w,A,K){if(Array.isArray(g))for(var ne=0;ne<g.length;ne++)Zn(u,g[ne],w,A,K);else A=x(A)?!!A.capture:!!A,w=Yr(w),u&&u[jt]?(u=u.i,g=String(g).toString(),g in u.g&&(ne=u.g[g],w=Rs(ne,w,A,K),-1<w&&(Jn(ne[w]),Array.prototype.splice.call(ne,w,1),ne.length==0&&(delete u.g[g],u.h--)))):u&&(u=fr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Rs(g,w,A,K)),(w=-1<u?g[u]:null)&&_i(w))}function _i(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[jt])wi(g.i,u);else{var w=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(w,A,u.capture):g.detachEvent?g.detachEvent(Xr(w),A):g.addListener&&g.removeListener&&g.removeListener(A),(w=fr(g))?(wi(w,u),w.h==0&&(w.src=null,g[xi]=null)):Jn(u)}}}function Xr(u){return u in Ir?Ir[u]:Ir[u]="on"+u}function bi(u,g){if(u.da)u=!0;else{g=new zt(g,this);var w=u.listener,A=u.ha||u.src;u.fa&&_i(u),u=w.call(A,g)}return u}function fr(u){return u=u[xi],u instanceof Kr?u:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(g){return u.handleEvent(g)}),u[Ms])}function xt(){ze.call(this),this.i=new Kr(this),this.M=this,this.F=null}Y(xt,ze),xt.prototype[jt]=!0,xt.prototype.removeEventListener=function(u,g,w,A){Zn(this,u,g,w,A)};function rt(u,g){var w,A=u.F;if(A)for(w=[];A;A=A.F)w.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new nt(g,u);else if(g instanceof nt)g.target=g.target||u;else{var K=g;g=new nt(A,u),P(g,K)}if(K=!0,w)for(var ne=w.length-1;0<=ne;ne--){var me=g.g=w[ne];K=Ds(me,A,!0,g)&&K}if(me=g.g=u,K=Ds(me,A,!0,g)&&K,K=Ds(me,A,!1,g)&&K,w)for(ne=0;ne<w.length;ne++)me=g.g=w[ne],K=Ds(me,A,!1,g)&&K}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],A=0;A<w.length;A++)Jn(w[A]);delete u.g[g],u.h--}}this.F=null},xt.prototype.K=function(u,g,w,A){return this.i.add(String(u),g,!1,w,A)},xt.prototype.L=function(u,g,w,A){return this.i.add(String(u),g,!0,w,A)};function Ds(u,g,w,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var K=!0,ne=0;ne<g.length;++ne){var me=g[ne];if(me&&!me.da&&me.capture==w){var tt=me.listener,Pt=me.ha||me.src;me.fa&&wi(u.i,me),K=tt.call(Pt,A)!==!1&&K}}return K&&!A.defaultPrevented}function Vs(u,g,w){if(typeof u=="function")w&&(u=R(u,w));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function no(u){u.g=Vs(()=>{u.g=null,u.i&&(u.i=!1,no(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ro extends ze{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(u){ze.call(this),this.h=u,this.g={}}Y(Ye,ze);var fe=[];function Bn(u){se(u.g,function(g,w){this.g.hasOwnProperty(w)&&_i(g)},u),u.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),Bn(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=d.JSON.stringify,zs=d.JSON.parse,so=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ls(){}Ls.prototype.h=null;function Nr(u){return u.h||(u.h=u.i())}function Zr(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){nt.call(this,"d")}Y(es,nt);function _t(){nt.call(this,"c")}Y(_t,nt);var Ut={},Un=null;function Rr(){return Un=Un||new xt}Ut.La="serverreachability";function Si(u){nt.call(this,Ut.La,u)}Y(Si,nt);function ts(u){const g=Rr();rt(g,new Si(g))}Ut.STAT_EVENT="statevent";function io(u,g){nt.call(this,Ut.STAT_EVENT,u),this.stat=g}Y(io,nt);function et(u){const g=Rr();rt(g,new io(g,u))}Ut.Ma="timingevent";function ns(u,g){nt.call(this,Ut.Ma,u),this.size=g}Y(ns,nt);function Fe(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function m(){this.g=!0}m.prototype.xa=function(){this.g=!1};function v(u,g,w,A,K,ne){u.info(function(){if(u.g)if(ne)for(var me="",tt=ne.split("&"),Pt=0;Pt<tt.length;Pt++){var Ue=tt[Pt].split("=");if(1<Ue.length){var Xt=Ue[0];Ue=Ue[1];var qt=Xt.split("_");me=2<=qt.length&&qt[1]=="type"?me+(Xt+"="+Ue+"&"):me+(Xt+"=redacted&")}}else me=null;else me=ne;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+g+`
`+w+`
`+me})}function re(u,g,w,A,K,ne,me){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+g+`
`+w+`
`+ne+" "+me})}function b(u,g,w,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+at(u,w)+(A?" "+A:"")})}function V(u,g){u.info(function(){return"TIMEOUT: "+g})}m.prototype.info=function(){};function at(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var A=w[u];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Jr(w)}catch{return g}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function Se(){}Y(Se,Ls),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},Cn=new Se;function Je(u,g,w,A){this.j=u,this.i=g,this.l=w,this.R=A||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var rs={},O={};function _n(u,g,w){u.L=1,u.v=us(er(g)),u.m=w,u.P=!0,q(u,null)}function q(u,g){u.F=Date.now(),ss(u),u.A=er(u.v);var w=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ge(w.i,"t",A),u.C=0,w=u.j.J,u.h=new Rt,u.g=Ea(u.j,w?g:null,!u.m),0<u.O&&(u.M=new ro(R(u.Y,u,u.g),u.O)),g=u.U,w=u.g,A=u.ca;var K="readystatechange";Array.isArray(K)||(K&&(fe[0]=K.toString()),K=fe);for(var ne=0;ne<K.length;ne++){var me=Cr(w,K[ne],A||g.handleEvent,!1,g.h||g);if(!me)break;g.g[me.key]=me}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ts(),v(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const g=this.M;g&&It(u)==3?g.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)e:{const qt=It(this.g);var g=this.g.Ba();const rr=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||go(this.g)))){this.J||qt!=4||g==7||(g==8||0>=rr?ts(3):ts(2)),Ie(this);var w=this.g.Z();this.X=w;t:if(Ei(this)){var A=go(this.g);u="";var K=A.length,ne=It(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),qn(this);var me="";break t}this.h.i=new d.TextDecoder}for(g=0;g<K;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(ne&&g==K-1)});A.length=0,this.h.g+=u,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=w==200,re(this.i,this.u,this.A,this.l,this.R,qt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Pt=this.g;if((tt=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(tt)){var Ue=tt;break t}}Ue=null}if(w=Ue)b(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,w);else{this.o=!1,this.s=3,et(12),Nn(this),qn(this);break e}}if(this.P){w=!0;let Sn;for(;!this.J&&this.C<me.length;)if(Sn=oo(this,me),Sn==O){qt==4&&(this.s=4,et(14),w=!1),b(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==rs){this.s=4,et(15),b(this.i,this.l,me,"[Invalid Chunk]"),w=!1;break}else b(this.i,this.l,Sn,null),Pr(this,Sn);if(Ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||me.length!=0||this.h.h||(this.s=1,et(16),w=!1),this.o=this.o&&w,!w)b(this.i,this.l,me,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(0<me.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ba(Xt),Xt.M=!0,et(11))}}else b(this.i,this.l,me,null),Pr(this,me);qt==4&&Nn(this),this.o&&!this.J&&(qt==4?nr(this.j,this):(this.o=!1,ss(this)))}else wa(this.g),w==400&&0<me.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Nn(this),qn(this)}}}catch{}finally{}};function Ei(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function oo(u,g){var w=u.C,A=g.indexOf(`
`,w);return A==-1?O:(w=Number(g.substring(w,A)),isNaN(w)?rs:(A+=1,A+w>g.length?O:(g=g.slice(A,A+w),u.C=A+w,g)))}Je.prototype.cancel=function(){this.J=!0,Nn(this)};function ss(u){u.S=Date.now()+u.I,is(u,u.I)}function is(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Fe(R(u.ba,u),g)}function Ie(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(V(this.i,this.A),this.L!=2&&(ts(),et(17)),Nn(this),this.s=2,qn(this)):is(this,this.S-u)};function qn(u){u.j.G==0||u.J||nr(u.j,u)}function Nn(u){Ie(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Bn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Pr(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||te(w.h,u))){if(!u.K&&te(w.h,u)&&w.G==3){try{var A=w.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Sa(w),Ke(w);else break e;_a(w),et(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Fe(R(w.Za,w),6e3));if(1>=en(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else yr(w,11)}else if((u.K||w.g==u)&&Sa(w),!M(g))for(K=w.Da.g.parse(g),g=0;g<K.length;g++){let Ue=K[g];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const Xt=Ue[3];Xt!=null&&(w.la=Xt,w.j.info("VER="+w.la));const qt=Ue[4];qt!=null&&(w.Aa=qt,w.j.info("SVER="+w.Aa));const rr=Ue[5];rr!=null&&typeof rr=="number"&&0<rr&&(A=1.5*rr,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Sn=u.g;if(Sn){const Ri=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var ne=A.h;ne.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ae(ne,ne.h),ne.h=null))}if(A.D){const Aa=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.ya=Aa,lt(A.I,A.D,Aa))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var me=u;if(A.qa=yo(A,A.J?A.ia:null,A.W),me.K){we(A.h,me);var tt=me,Pt=A.L;Pt&&(tt.I=Pt),tt.B&&(Ie(tt),ss(tt)),A.g=me}else t0(A);0<w.i.length&&Ii(w)}else Ue[0]!="stop"&&Ue[0]!="close"||yr(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?yr(w,7):tr(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}ts(4)}catch{}}var ga=class{constructor(u,g){this.g=u,this.map=g}};function Mr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function os(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function en(u){return u.h?1:u.g?u.g.size:0}function te(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ae(u,g){u.g?u.g.add(g):u.h=g}function we(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Mr.prototype.cancel=function(){if(this.i=Te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Te(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return ee(u.i)}function ut(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],w=u.length,A=0;A<w;A++)g.push(u[A]);return g}g=[],w=0;for(A in u)g[w++]=u[A];return g}function Os(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const A in u)g[w++]=A;return g}}}function Ot(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=Os(u),A=ut(u),K=A.length,ne=0;ne<K;ne++)g.call(void 0,A[ne],w&&w[ne],u)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mc(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var A=u[w].indexOf("="),K=null;if(0<=A){var ne=u[w].substring(0,A);K=u[w].substring(A+1)}else ne=u[w];g(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ls(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ls){this.h=u.h,ao(this,u.j),this.o=u.o,this.g=u.g,lo(this,u.s),this.l=u.l;var g=u.i,w=new Ti;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Yl(this,w),this.m=u.m}else u&&(g=String(u).match(as))?(this.h=!1,ao(this,g[1]||"",!0),this.o=Fs(g[2]||""),this.g=Fs(g[3]||"",!0),lo(this,g[4]),this.l=Fs(g[5]||"",!0),Yl(this,g[6]||"",!0),this.m=Fs(g[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}ls.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Bs(g,X,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Bs(g,X,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Bs(w,w.charAt(0)=="/"?cs:dt,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Bs(w,pc)),u.join("")};function er(u){return new ls(u)}function ao(u,g,w){u.j=w?Fs(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function lo(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Yl(u,g,w){g instanceof Ti?(u.i=g,uo(u.i,u.h)):(w||(g=Bs(g,mr)),u.i=new Ti(g,u.h))}function lt(u,g,w){u.i.set(g,w)}function us(u){return lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fs(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bs(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,Rm),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var X=/[#\/\?@]/g,dt=/[#\?:]/g,cs=/[#\?]/g,mr=/[#\?@]/g,pc=/#/g;function Ti(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function pr(u){u.g||(u.g=new Map,u.h=0,u.i&&mc(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Ti.prototype,t.add=function(u,g){pr(this),this.i=null,u=Rn(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function ki(u,g){pr(u),g=Rn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ai(u,g){return pr(u),g=Rn(u,g),u.g.has(g)}t.forEach=function(u,g){pr(this),this.g.forEach(function(w,A){w.forEach(function(K){u.call(g,K,A,this)},this)},this)},t.na=function(){pr(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let A=0;A<g.length;A++){const K=u[A];for(let ne=0;ne<K.length;ne++)w.push(g[A])}return w},t.V=function(u){pr(this);let g=[];if(typeof u=="string")Ai(this,u)&&(g=g.concat(this.g.get(Rn(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},t.set=function(u,g){return pr(this),this.i=null,u=Rn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ge(u,g,w){ki(u,g),0<w.length&&(u.i=null,u.g.set(Rn(u,g),ee(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var A=g[w];const ne=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var K=ne;me[A]!==""&&(K+="="+encodeURIComponent(String(me[A]))),u.push(K)}}return this.i=u.join("&")};function Rn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function uo(u,g){g&&!u.j&&(pr(u),u.i=null,u.g.forEach(function(w,A){var K=A.toLowerCase();A!=K&&(ki(this,A),ge(this,K,w))},u)),u.j=g}function bt(u,g){const w=new m;if(d.Image){const A=new Image;A.onload=H(Dr,w,"TestLoadImage: loaded",!0,g,A),A.onerror=H(Dr,w,"TestLoadImage: error",!1,g,A),A.onabort=H(Dr,w,"TestLoadImage: abort",!1,g,A),A.ontimeout=H(Dr,w,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function gr(u,g){const w=new m,A=new AbortController,K=setTimeout(()=>{A.abort(),Dr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(ne=>{clearTimeout(K),ne.ok?Dr(w,"TestPingServer: ok",!0,g):Dr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(K),Dr(w,"TestPingServer: error",!1,g)})}function Dr(u,g,w,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(w)}catch{}}function gc(){this.g=new so}function yc(u,g,w){const A=w||"";try{Ot(u,function(K,ne){let me=K;x(K)&&(me=Jr(K)),g.push(A+ne+"="+encodeURIComponent(me))})}catch(K){throw g.push(A+"type="+encodeURIComponent("_badmap")),K}}function co(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(co,Ls),co.prototype.g=function(){return new gt(this.l,this.j)},co.prototype.i=function(u){return function(){return u}}({});function gt(u,g){xt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(gt,xt),t=gt.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,hs(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ho(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ho(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?js(this):hs(this),this.readyState==3&&ho(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,js(this))},t.Qa=function(u){this.g&&(this.response=u,js(this))},t.ga=function(){this.g&&js(this)};function js(u){u.readyState=4,u.l=null,u.j=null,u.v=null,hs(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function hs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fo(u){let g="";return se(u,function(w,A){g+=A,g+=":",g+=w,g+=`\r
`}),g}function ds(u,g,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=fo(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):lt(u,g,w))}function ke(u){xt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(ke,xt);var mo=/^https?$/i,ya=["POST","PUT"];t=ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Nr(this.o):Nr(Cn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(ne){va(this,ne);return}if(u=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)w.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ne of A.keys())w.set(ne,A.get(ne));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ya,g,void 0))||A||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,me]of w)this.g.setRequestHeader(ne,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{le(this),this.u=!0,this.g.send(u),this.u=!1}catch(ne){va(this,ne)}};function va(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,hn(u),po(u)}function hn(u){u.A||(u.A=!0,rt(u,"complete"),rt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,rt(this,"complete"),rt(this,"abort"),po(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),po(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hn(this):this.bb())},t.bb=function(){Hn(this)};function Hn(u){if(u.h&&typeof c<"u"&&(!u.v[1]||It(u)!=4||u.Z()!=2)){if(u.u&&It(u)==4)Vs(u.Ea,0,u);else if(rt(u,"readystatechange"),It(u)==4){u.h=!1;try{const me=u.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var A;if(A=me===0){var K=String(u.D).match(as)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),A=!mo.test(K?K.toLowerCase():"")}w=A}if(w)rt(u,"complete"),rt(u,"success");else{u.m=6;try{var ne=2<It(u)?u.g.statusText:""}catch{ne=""}u.l=ne+" ["+u.Z()+"]",hn(u)}}finally{po(u)}}}}function po(u,g){if(u.g){le(u);const w=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||rt(u,"ready");try{w.onreadystatechange=A}catch{}}}function le(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function It(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<It(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zs(g)}};function go(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(u){const g={};u=(u.g&&2<=It(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(M(u[A]))continue;var w=U(u[A]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=g[K]||[];g[K]=ne,ne.push(w)}L(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function tn(u){this.Aa=0,this.i=[],this.j=new m,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,u),this.cb=fs("retryDelaySeedMs",1e4,u),this.Wa=fs("forwardChannelMaxRetries",2,u),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(u&&u.concurrentRequestLimit),this.Da=new gc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tn.prototype,t.la=8,t.G=1,t.connect=function(u,g,w,A){et(0),this.W=u,this.H=g||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=yo(this,null,this.W),Ii(this)};function tr(u){if(xa(u),u.G==3){var g=u.U++,w=er(u.I);if(lt(w,"SID",u.K),lt(w,"RID",g),lt(w,"TYPE","terminate"),Ci(u,w),g=new Je(u,u.j,g),g.L=2,g.v=us(er(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Ea(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ss(g)}Ni(u)}function Ke(u){u.g&&(ba(u),u.g.cancel(),u.g=null)}function xa(u){Ke(u),u.u&&(d.clearTimeout(u.u),u.u=null),Sa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Ii(u){if(!os(u.h)&&!u.s){u.s=!0;var g=u.Ga;wn||he(),ye||(wn(),ye=!0),Ne.add(g,u),u.B=0}}function Jl(u,g){return en(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Fe(R(u.Ga,u,g),Pe(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const K=new Je(this,this.j,u);let ne=this.o;if(this.S&&(ne?(ne=S(ne),P(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=e0(this,K,g),w=er(this.I),lt(w,"RID",u),lt(w,"CVER",22),this.D&&lt(w,"X-HTTP-Session-Id",this.D),Ci(this,w),ne&&(this.O?g="headers="+encodeURIComponent(String(fo(ne)))+"&"+g:this.m&&ds(w,this.m,ne)),ae(this.h,K),this.Ua&&lt(w,"TYPE","init"),this.P?(lt(w,"$req",g),lt(w,"SID","null"),K.T=!0,_n(K,w,null)):_n(K,w,g),this.G=2}}else this.G==3&&(u?Zl(this,u):this.i.length==0||os(this.h)||Zl(this))};function Zl(u,g){var w;g?w=g.l:w=u.U++;const A=er(u.I);lt(A,"SID",u.K),lt(A,"RID",w),lt(A,"AID",u.T),Ci(u,A),u.m&&u.o&&ds(A,u.m,u.o),w=new Je(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=e0(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ae(u.h,w),_n(w,A,g)}function Ci(u,g){u.H&&se(u.H,function(w,A){lt(g,A,w)}),u.l&&Ot({},function(w,A){lt(g,A,w)})}function e0(u,g,w){w=Math.min(u.i.length,w);var A=u.l?R(u.l.Na,u.l,u):null;e:{var K=u.i;let ne=-1;for(;;){const me=["count="+w];ne==-1?0<w?(ne=K[0].g,me.push("ofs="+ne)):ne=0:me.push("ofs="+ne);let tt=!0;for(let Pt=0;Pt<w;Pt++){let Ue=K[Pt].g;const Xt=K[Pt].map;if(Ue-=ne,0>Ue)ne=Math.max(0,K[Pt].g-100),tt=!1;else try{yc(Xt,me,"req"+Ue+"_")}catch{A&&A(Xt)}}if(tt){A=me.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,A}function t0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;wn||he(),ye||(wn(),ye=!0),Ne.add(g,u),u.v=0}}function _a(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Fe(R(u.Fa,u),Pe(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Fe(R(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Ke(this),vc(this))};function ba(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function vc(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=er(u.qa);lt(g,"RID","rpc"),lt(g,"SID",u.K),lt(g,"AID",u.T),lt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&lt(g,"TO",u.ja),lt(g,"TYPE","xmlhttp"),Ci(u,g),u.m&&u.o&&ds(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=us(er(g)),w.m=null,w.P=!0,q(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Ke(this),_a(this),et(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function nr(u,g){var w=null;if(u.g==g){Sa(u),ba(u),u.g=null;var A=2}else if(te(u.h,g))w=g.D,we(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var K=u.B;A=Rr(),rt(A,new ns(A,w)),Ii(u)}else t0(u);else if(K=g.s,K==3||K==0&&0<g.X||!(A==1&&Jl(u,g)||A==2&&_a(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),K){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function Pe(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function yr(u,g){if(u.j.info("Error code "+g),g==2){var w=R(u.fb,u),A=u.Xa;const K=!A;A=new ls(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ao(A,"https"),us(A),K?bt(A.toString(),w):gr(A.toString(),w)}else et(2);u.G=0,u.l&&u.l.sa(g),Ni(u),xa(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Ni(u){if(u.G=0,u.ka=[],u.l){const g=Te(u.h);(g.length!=0||u.i.length!=0)&&(G(u.ka,g),G(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function yo(u,g,w){var A=w instanceof ls?er(w):new ls(w);if(A.g!="")g&&(A.g=g+"."+A.g),lo(A,A.s);else{var K=d.location;A=K.protocol,g=g?g+"."+K.hostname:K.hostname,K=+K.port;var ne=new ls(null);A&&ao(ne,A),g&&(ne.g=g),K&&lo(ne,K),w&&(ne.l=w),A=ne}return w=u.D,g=u.ya,w&&g&&lt(A,w,g),lt(A,"VER",u.la),Ci(u,A),A}function Ea(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new ke(new co({eb:w})):new ke(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n0(){}t=n0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ms(){}ms.prototype.g=function(u,g){return new bn(u,g)};function bn(u,g){xt.call(this),this.g=new tn(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!M(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new vr(this)}Y(bn,xt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){tr(this.g)},bn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Jr(u),u=w);g.i.push(new ga(g.Ya++,u)),g.G==3&&Ii(g)},bn.prototype.N=function(){this.g.l=null,delete this.j,tr(this.g),delete this.g,bn.aa.N.call(this)};function Ta(u){es.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}Y(Ta,es);function ka(){_t.call(this),this.status=1}Y(ka,_t);function vr(u){this.g=u}Y(vr,n0),vr.prototype.ua=function(){rt(this.g,"a")},vr.prototype.ta=function(u){rt(this.g,new Ta(u))},vr.prototype.sa=function(u){rt(this.g,new ka)},vr.prototype.ra=function(){rt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,w5=function(){return new ms},v5=function(){return Rr()},y5=Ut,Nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,q0=pe,Lt.COMPLETE="complete",g5=Lt,Zr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,qa=Zr,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,p5=ke}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new l5("@firebase/firestore");function Oa(){return Qi.logLevel}function be(t,...e){if(Qi.logLevel<=Ge.DEBUG){const n=e.map(jf);Qi.debug(`Firestore (${ha}): ${t}`,...n)}}function Is(t,...e){if(Qi.logLevel<=Ge.ERROR){const n=e.map(jf);Qi.error(`Firestore (${ha}): ${t}`,...n)}}function Jo(t,...e){if(Qi.logLevel<=Ge.WARN){const n=e.map(jf);Qi.warn(`Firestore (${ha}): ${t}`,...n)}}function jf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+t;throw Is(e),new Error(e)}function ot(t,e){t||Re()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class sv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iv{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0);let r=this.i;const s=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let o=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bs,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bs)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new x5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new pn(e)}}class ov{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class av{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ov(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ot(this.o===void 0);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=cv(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Zo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Qt(0,0))}static max(){return new Me(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),c=n.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class wt extends Il{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const hv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Il{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return hv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(wt.fromString(e))}static fromName(e){return new Ce(wt.fromString(e).popFirst(5))}static empty(){return new Ce(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new wt(e.slice()))}}function dv(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new di(s,Ce.empty(),e)}function fv(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(Me.min(),Ce.empty(),-1)}static max(){return new di(Me.max(),Ce.empty(),-1)}}function mv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==pv)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},p=>r(p))}),c=!0,o===s&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(s=>s?ce.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const x=p;n(e[x]).next(k=>{c[x]=k,++d,d===o&&r(c)},k=>s(k))}})}static doWhile(e,n){return new ce((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function yv(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uf.oe=-1;function Yu(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function vv(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new A0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new A0(this.root,e,this.comparator,!1)}getReverseIterator(){return new A0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new A0(this.root,e,this.comparator,!0)}}class A0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??rn.RED,this.left=s??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new rn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,o){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t4(this.data.getIterator())}getIteratorFrom(e){return new t4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class t4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new an(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new S5("Invalid base64 string: "+o):o}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const wv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(ot(!!t),typeof t=="string"){let e=0;const n=wv.exec(t);if(ot(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hf(t){const e=t.mapValue.fields.__previous_value__;return qf(e)?Hf(e):e}function Cl(t){const e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,s,o,c,d,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=x}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0={mapValue:{}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qf(t)?4:bv(t)?9007199254740991:_v(t)?10:11:Re()}function Wr(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=fi(s.timestampValue),d=fi(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ki(s.bytesValue).isEqual(Ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Mt(s.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Mt(s.integerValue)===Mt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Mt(s.doubleValue),d=Mt(o.doubleValue);return c===d?Su(c)===Su(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(e4(c)!==e4(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Wr(c[p],d[p])))return!1;return!0}(t,e);default:return Re()}}function Rl(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function ea(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Mt(o.integerValue||o.doubleValue),p=Mt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return n4(t.timestampValue,e.timestampValue);case 4:return n4(Cl(t),Cl(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(o,c){const d=Ki(o),p=Ki(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),p=c.split("/");for(let x=0;x<d.length&&x<p.length;x++){const k=Xe(d[x],p[x]);if(k!==0)return k}return Xe(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Xe(Mt(o.latitude),Mt(c.latitude));return d!==0?d:Xe(Mt(o.longitude),Mt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r4(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,p,x,k;const N=o.fields||{},R=c.fields||{},H=(d=N.value)===null||d===void 0?void 0:d.arrayValue,Y=(p=R.value)===null||p===void 0?void 0:p.arrayValue,ee=Xe(((x=H==null?void 0:H.values)===null||x===void 0?void 0:x.length)||0,((k=Y==null?void 0:Y.values)===null||k===void 0?void 0:k.length)||0);return ee!==0?ee:r4(H,Y)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===I0.mapValue&&c===I0.mapValue)return 0;if(o===I0.mapValue)return 1;if(c===I0.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),x=c.fields||{},k=Object.keys(x);p.sort(),k.sort();for(let N=0;N<p.length&&N<k.length;++N){const R=Xe(p[N],k[N]);if(R!==0)return R;const H=ea(d[p[N]],x[k[N]]);if(H!==0)return H}return Xe(p.length,k.length)}(t.mapValue,e.mapValue);default:throw Re()}}function n4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=fi(t),r=fi(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function r4(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=ea(n[s],r[s]);if(o)return o}return Xe(n.length,r.length)}function ta(t){return Rd(t)}function Rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Rd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${Rd(n.fields[c])}`;return s+"}"}(t.mapValue):Re()}function Pd(t){return!!t&&"integerValue"in t}function $f(t){return!!t&&"arrayValue"in t}function s4(t){return!!t&&"nullValue"in t}function i4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function H0(t){return!!t&&"mapValue"in t}function _v(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bv(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!H0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=sn.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=nl(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());H0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];H0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){da(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new lr(nl(this.value))}}function E5(t){const e=[];return da(t.fields,(n,r)=>{const s=new sn([n]);if(H0(r)){const o=E5(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,Me.min(),Me.min(),Me.min(),lr.empty(),0)}static newFoundDocument(e,n,r,s){return new yn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new yn(e,2,n,Me.min(),Me.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Me.min(),Me.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function o4(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Ce.comparator(Ce.fromName(c.referenceValue),n.key):r=ea(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{}class Wt extends T5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tv(e,n,r):n==="array-contains"?new Iv(e,r):n==="in"?new Cv(e,r):n==="not-in"?new Nv(e,r):n==="array-contains-any"?new Rv(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kv(e,r):new Av(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ea(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends T5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gr(e,n)}matches(e){return k5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k5(t){return t.op==="and"}function A5(t){return Ev(t)&&k5(t)}function Ev(t){for(const e of t.filters)if(e instanceof Gr)return!1;return!0}function Md(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(A5(t))return t.filters.map(e=>Md(e)).join(",");{const e=t.filters.map(n=>Md(n)).join(",");return`${t.op}(${e})`}}function I5(t,e){return t instanceof Wt?function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&Wr(r.value,s.value)}(t,e):t instanceof Gr?function(r,s){return s instanceof Gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&I5(c,s.filters[d]),!0):!1}(t,e):void Re()}function C5(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(C5).join(" ,")+"}"}(t):"Filter"}class Tv extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class kv extends Wt{constructor(e,n){super(e,"in",n),this.keys=N5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Av extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=N5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function N5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class Iv extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $f(n)&&Rl(n.arrayValue,this.value)}}class Cv extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class Nv extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class Rv extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function l4(t,e=null,n=[],r=[],s=null,o=null,c=null){return new Pv(t,e,n,r,s,o,c)}function Wf(t){const e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Md(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.ue=n}return e.ue}function Gf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sv(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a4(t.startAt,e.startAt)&&a4(t.endAt,e.endAt)}function Dd(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Mv(t,e,n,r,s,o,c,d){return new Ju(t,e,n,r,s,o,c,d)}function Zu(t){return new Ju(t)}function u4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dv(t){return t.collectionGroup!==null}function rl(t){const e=De(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new an(sn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(x=>{x.isInequality()&&(d=d.add(x.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tu(o,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Tu(sn.keyField(),r))}return e.ce}function qr(t){const e=De(t);return e.le||(e.le=Vv(e,rl(t))),e.le}function Vv(t,e){if(t.limitType==="F")return l4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Tu(s.field,o)});const n=t.endAt?new Eu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eu(t.startAt.position,t.startAt.inclusive):null;return l4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vd(t,e,n){return new Ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ec(t,e){return Gf(qr(t),qr(e))&&t.limitType===e.limitType}function R5(t){return`${Wf(qr(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>C5(s)).join(", ")}]`),Yu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ta(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ta(s)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function tc(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of rl(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,p){const x=o4(c,d,p);return c.inclusive?x<=0:x<0}(r.startAt,rl(r),s)||r.endAt&&!function(c,d,p){const x=o4(c,d,p);return c.inclusive?x>=0:x>0}(r.endAt,rl(r),s))}(t,e)}function zv(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function P5(t){return(e,n)=>{let r=!1;for(const s of rl(t)){const o=Lv(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Lv(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,c,d){const p=c.data.field(o),x=d.data.field(o);return p!==null&&x!==null?ea(p,x):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return b5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new At(Ce.comparator);function Cs(){return Ov}const M5=new At(Ce.comparator);function Ha(...t){let e=M5;for(const n of t)e=e.insert(n.key,n);return e}function D5(t){let e=M5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return sl()}function V5(){return sl()}function sl(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fv=new At(Ce.comparator),Bv=new an(Ce.comparator);function Be(...t){let e=Bv;for(const n of t)e=e.add(n);return e}const jv=new an(Xe);function Uv(){return jv}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function z5(t){return{integerValue:""+t}}function qv(t,e){return vv(e)?z5(e):Qf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function Hv(t,e,n){return t instanceof ku?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&qf(o)&&(o=Hf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof Pl?O5(t,e):t instanceof Ml?F5(t,e):function(s,o){const c=L5(s,o),d=c4(c)+c4(s.Pe);return Pd(c)&&Pd(s.Pe)?z5(d):Qf(s.serializer,d)}(t,e)}function $v(t,e,n){return t instanceof Pl?O5(t,e):t instanceof Ml?F5(t,e):n}function L5(t,e){return t instanceof Au?function(r){return Pd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ku extends nc{}class Pl extends nc{constructor(e){super(),this.elements=e}}function O5(t,e){const n=B5(e);for(const r of t.elements)n.some(s=>Wr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends nc{constructor(e){super(),this.elements=e}}function F5(t,e){let n=B5(e);for(const r of t.elements)n=n.filter(s=>!Wr(s,r));return{arrayValue:{values:n}}}class Au extends nc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c4(t){return Mt(t.integerValue||t.doubleValue)}function B5(t){return $f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Wv(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Pl&&s instanceof Pl||r instanceof Ml&&s instanceof Ml?Zo(r.elements,s.elements,Wr):r instanceof Au&&s instanceof Au?Wr(r.Pe,s.Pe):r instanceof ku&&s instanceof ku}(t.transform,e.transform)}class Gv{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rc{}function j5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kf(t.key,Hr.none()):new jl(t.key,t.data,Hr.none());{const n=t.data,r=lr.empty();let s=new an(sn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new eo(t.key,r,new Sr(s.toArray()),Hr.none())}}function Qv(t,e,n){t instanceof jl?function(s,o,c){const d=s.value.clone(),p=d4(s.fieldTransforms,o,c.transformResults);d.setAll(p),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(s,o,c){if(!$0(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=d4(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(U5(s)),p.setAll(d),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof jl?function(o,c,d,p){if(!$0(o.precondition,c))return d;const x=o.value.clone(),k=f4(o.fieldTransforms,p,c);return x.setAll(k),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(o,c,d,p){if(!$0(o.precondition,c))return d;const x=f4(o.fieldTransforms,p,c),k=c.data;return k.setAll(U5(o)),k.setAll(x),c.convertToFoundDocument(c.version,k).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(N=>N.field))}(t,e,n,r):function(o,c,d){return $0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function Kv(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=L5(r.transform,s||null);o!=null&&(n===null&&(n=lr.empty()),n.set(r.field,o))}return n||null}function h4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zo(r,s,(o,c)=>Wv(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jl extends rc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eo extends rc{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function U5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d4(t,e,n){const r=new Map;ot(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,$v(c,d,n[s]))}return r}function f4(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,Hv(o,c,e))}return r}class Kf extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xv extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Qv(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V5();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const p=j5(c,d);p!==null&&r.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,r)=>h4(n,r))&&Zo(this.baseMutations,e.baseMutations,(n,r)=>h4(n,r))}}class Xf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ot(e.mutations.length===r.length);let s=function(){return Fv}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Xf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,$e;function ew(t){switch(t){default:return Re();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function q5(t){if(t===void 0)return Is("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Ft.OK:return ue.OK;case Ft.CANCELLED:return ue.CANCELLED;case Ft.UNKNOWN:return ue.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ue.INTERNAL;case Ft.UNAVAILABLE:return ue.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ue.NOT_FOUND;case Ft.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ft.ABORTED:return ue.ABORTED;case Ft.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ft.DATA_LOSS:return ue.DATA_LOSS;default:return Re()}}($e=Ft||(Ft={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Ui([4294967295,4294967295],0);function m4(t){const e=tw().encode(t),n=new m5;return n.update(e),new Uint8Array(n.digest())}function p4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ui([n,r],0),new Ui([s,o],0)]}class Yf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ui.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ui.fromNumber(r)));return s.compare(nw)===1&&(s=new Ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=m4(e),[r,s]=p4(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Yf(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ie===0)return;const n=m4(e),[r,s]=p4(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sc(Me.min(),s,new At(Xe),Cs(),Be())}}class Ul{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ul(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class H5{constructor(e,n){this.targetId=e,this.me=n}}class $5{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g4{constructor(){this.fe=0,this.ge=v4(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Ul(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=v4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rw{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=y4(),this.Qe=new At(Xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(Dd(o))if(r===0){const c=new Ce(o.path);this.Ue(n,c,yn.newNoDocument(c,Me.min()))}else ot(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const x=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,x)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=Ki(r).toUint8Array()}catch(p){if(p instanceof S5)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Yf(c,s,o)}catch(p){return Jo(p instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,c)=>{const d=this.Je(c);if(d){if(o.current&&Dd(d.target)){const p=new Ce(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,yn.newNoDocument(p,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Be();this.qe.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const x=this.Je(p);return!x||x.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new sc(e,n,this.Qe,this.ke,r);return this.ke=Cs(),this.qe=y4(),this.Qe=new At(Xe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(Xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y4(){return new At(Ce.comparator)}function v4(){return new At(Ce.comparator)}const sw={asc:"ASCENDING",desc:"DESCENDING"},iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ow={and:"AND",or:"OR"};class aw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zd(t,e){return t.useProto3Json||Yu(e)?e:{value:e}}function Iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lw(t,e){return Iu(t,e.toTimestamp())}function $r(t){return ot(!!t),Me.fromTimestamp(function(n){const r=fi(n);return new Qt(r.seconds,r.nanos)}(t))}function Jf(t,e){return Ld(t,e).canonicalString()}function Ld(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function G5(t){const e=wt.fromString(t);return ot(J5(e)),e}function Od(t,e){return Jf(t.databaseId,e.path)}function xh(t,e){const n=G5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(K5(n))}function Q5(t,e){return Jf(t.databaseId,e)}function uw(t){const e=G5(t);return e.length===4?wt.emptyPath():K5(e)}function Fd(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K5(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w4(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function cw(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(x,k){return x.useProto3Json?(ot(k===void 0||typeof k=="string"),un.fromBase64String(k||"")):(ot(k===void 0||k instanceof Buffer||k instanceof Uint8Array),un.fromUint8Array(k||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(x){const k=x.code===void 0?ue.UNKNOWN:q5(x.code);return new Ae(k,x.message||"")}(c);n=new $5(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xh(t,r.document.name),o=$r(r.document.updateTime),c=r.document.createTime?$r(r.document.createTime):Me.min(),d=new lr({mapValue:{fields:r.document.fields}}),p=yn.newFoundDocument(s,o,c,d),x=r.targetIds||[],k=r.removedTargetIds||[];n=new W0(x,k,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xh(t,r.document),o=r.readTime?$r(r.readTime):Me.min(),c=yn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new W0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xh(t,r.document),o=r.removedTargetIds||[];n=new W0([],o,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new Zv(s,o),d=r.targetId;n=new H5(d,c)}}return n}function hw(t,e){let n;if(e instanceof jl)n={update:w4(t,e.key,e.value)};else if(e instanceof Kf)n={delete:Od(t,e.key)};else if(e instanceof eo)n={update:w4(t,e.key,e.data),updateMask:xw(e.fieldMask)};else{if(!(e instanceof Xv))return Re();n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Au)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:lw(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function dw(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(s,o){let c=s.updateTime?$r(s.updateTime):$r(o);return c.isEqual(Me.min())&&(c=$r(o)),new Gv(c,s.transformResults||[])}(n,e))):[]}function fw(t,e){return{documents:[Q5(t,e.path)]}}function mw(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q5(t,s);const o=function(x){if(x.length!==0)return Y5(Gr.create(x,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(x){if(x.length!==0)return x.map(k=>function(R){return{field:bo(R.field),direction:yw(R.dir)}}(k))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=zd(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(x){return{before:x.inclusive,values:x.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(e.endAt)),{_t:n,parent:s}}function pw(t){let e=uw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ot(r===1);const k=n.from[0];k.allDescendants?s=k.collectionId:e=e.child(k.collectionId)}let o=[];n.where&&(o=function(N){const R=X5(N);return R instanceof Gr&&A5(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(N){return N.map(R=>function(Y){return new Tu(So(Y.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(R))}(n.orderBy));let d=null;n.limit&&(d=function(N){let R;return R=typeof N=="object"?N.value:N,Yu(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(N){const R=!!N.before,H=N.values||[];return new Eu(H,R)}(n.startAt));let x=null;return n.endAt&&(x=function(N){const R=!N.before,H=N.values||[];return new Eu(H,R)}(n.endAt)),Mv(e,s,c,o,d,"F",p,x)}function gw(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=So(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=So(n.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(So(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gr.create(n.compositeFilter.filters.map(r=>X5(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function yw(t){return sw[t]}function vw(t){return iw[t]}function ww(t){return ow[t]}function bo(t){return{fieldPath:t.canonicalString()}}function So(t){return sn.fromServerFormat(t.fieldPath)}function Y5(t){return t instanceof Wt?function(n){if(n.op==="=="){if(i4(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(s4(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i4(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(s4(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:vw(n.op),value:n.value}}}(t):t instanceof Gr?function(n){const r=n.getFilters().map(s=>Y5(s));return r.length===1?r[0]:{compositeFilter:{op:ww(n.op),filters:r}}}(t):Re()}function xw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,s,o=Me.min(),c=Me.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.ct=e}}function bw(t){const e=pw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.un=new Ew}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(di.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Ew{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new an(wt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new an(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new na(0)}static kn(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&il(r.mutation,s,Sr.empty(),Qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const s=Oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Ha();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=Cs();const c=sl(),d=function(){return sl()}();return n.forEach((p,x)=>{const k=r.get(x.key);s.has(x.key)&&(k===void 0||k.mutation instanceof eo)?o=o.insert(x.key,x):k!==void 0?(c.set(x.key,k.mutation.getFieldMask()),il(k.mutation,x,k.mutation.getFieldMask(),Qt.now())):c.set(x.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((x,k)=>c.set(x,k)),n.forEach((x,k)=>{var N;return d.set(x,new kw(k,(N=c.get(x))!==null&&N!==void 0?N:null))}),d))}recalculateAndSaveOverlays(e,n){const r=sl();let s=new At((c,d)=>c-d),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const x=n.get(p);if(x===null)return;let k=r.get(p)||Sr.empty();k=d.applyToLocalView(x,k),r.set(p,k);const N=(s.get(d.batchId)||Be()).add(p);s=s.insert(d.batchId,N)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),x=p.key,k=p.value,N=V5();k.forEach(R=>{if(!o.has(R)){const H=j5(n.get(R),r.get(R));H!==null&&N.set(R,H),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,x,N))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(Oi());let d=-1,p=o;return c.next(x=>ce.forEach(x,(k,N)=>(d<N.largestBatchId&&(d=N.largestBatchId),o.get(k)?ce.resolve():this.remoteDocumentCache.getEntry(e,k).next(R=>{p=p.insert(k,R)}))).next(()=>this.populateOverlays(e,x,o)).next(()=>this.computeViews(e,p,x,Be())).next(k=>({batchId:d,changes:D5(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let s=Ha();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Ha();return this.indexManager.getCollectionParents(e,o).next(d=>ce.forEach(d,p=>{const x=function(N,R){return new Ju(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(n,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,x,r,s).next(k=>{k.forEach((N,R)=>{c=c.insert(N,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((p,x)=>{const k=x.getKey();c.get(k)===null&&(c=c.insert(k,yn.newInvalidDocument(k)))});let d=Ha();return c.forEach((p,x)=>{const k=o.get(p);k!==void 0&&il(k.mutation,x,Sr.empty(),Qt.now()),tc(n,x)&&(d=d.insert(p,x))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:bw(s.bundledQuery),readTime:$r(s.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.overlays=new At(Ce.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return ce.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Oi(),o=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,x=p.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===o&&p.largestBatchId>r&&s.set(p.getKey(),p)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new At((x,k)=>x-k);const c=this.overlays.getIterator();for(;c.hasNext();){const x=c.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>r){let k=o.get(x.largestBatchId);k===null&&(k=Oi(),o=o.insert(x.largestBatchId,k)),k.set(x.getKey(),x)}}const d=Oi(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((x,k)=>d.set(x,k)),!(d.size()>=s)););return ce.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Jv(n,r));let o=this.Ir.get(n);o===void 0&&(o=Be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this.Tr=new an(Yt.Er),this.dr=new an(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ce(new wt([])),r=new Yt(n,e),s=new Yt(n,e+1),o=[];return this.dr.forEachInRange([r,s],c=>{this.Vr(c),o.push(c.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ce(new wt([])),r=new Yt(n,e),s=new Yt(n,e+1);let o=Be();return this.dr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new Yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ce.comparator(e.key,n.key)||Xe(e.wr,n.wr)}static Ar(e,n){return Xe(e.wr,n.wr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Yt.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Yv(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.br=this.br.add(new Yt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),s=new Yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],c=>{const d=this.Dr(c.wr);o.push(d)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Xe);return n.forEach(s=>{const o=new Yt(s,0),c=new Yt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],d=>{r=r.add(d.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ce.isDocumentKey(o)||(o=o.child(""));const c=new Yt(new Ce(o),0);let d=new an(Xe);return this.br.forEachWhile(p=>{const x=p.key.path;return!!r.isPrefixOf(x)&&(x.length===s&&(d=d.add(p.wr)),!0)},c),ce.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ot(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,s=>{const o=new Yt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Yt(n,0),s=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.Mr=e,this.docs=function(){return new At(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():yn.newInvalidDocument(s))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Cs();const c=n.path,d=new Ce(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:x,value:{document:k}}=p.getNext();if(!c.isPrefixOf(x.path))break;x.path.length>c.length+1||mv(fv(k),r)<=0||(s.has(k.key)||tc(n,k))&&(o=o.insert(k.key,k.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Re()}Or(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mw(this)}getSize(e){return ce.resolve(this.size)}}class Mw extends Tw{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.persistence=e,this.Nr=new fa(n=>Wf(n),Gf),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zf,this.targetCount=0,this.kr=na.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ce.waitFor(o).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Uf(0),this.Kr=!1,this.Kr=!0,this.$r=new Nw,this.referenceDelegate=e(this),this.Ur=new Dw(this),this.indexManager=new Sw,this.remoteDocumentCache=function(s){return new Pw(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _w(n),this.Gr=new Iw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Rw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const s=new zw(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zw extends gv{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Jr=new Zf,this.Yr=null}static Zr(e){return new em(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const s=Ce.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Be(),s=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new tm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return j8()?8:yv(F8())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new Lw;return this.Xi(e,n,c).next(d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Oa()<=Ge.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(Oa()<=Ge.DEBUG&&be("QueryEngine","Query:",_o(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Oa()<=Ge.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ce.resolve())}Yi(e,n){if(u4(n))return ce.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vd(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Be(...o);return this.Ji.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const x=this.ts(n,d);return this.ns(n,x,c,p.readTime)?this.Yi(e,Vd(n,null,"F")):this.rs(e,x,n,p)}))})))}Zi(e,n,r,s){return u4(n)||s.isEqual(Me.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const c=this.ts(n,o);return this.ns(n,c,r,s)?ce.resolve(null):(Oa()<=Ge.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_o(n)),this.rs(e,c,n,dv(s,-1)).next(d=>d))})}ts(e,n){let r=new an(P5(e));return n.forEach((s,o)=>{tc(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Oa()<=Ge.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",_o(n)),this.Ji.getDocumentsMatchingQuery(e,n,di.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new At(Xe),this._s=new fa(o=>Wf(o),Gf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Bw(t,e,n,r){return new Fw(t,e,n,r)}async function Z5(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let p=Be();for(const x of s){c.push(x.batchId);for(const k of x.mutations)p=p.add(k.key)}for(const x of o){d.push(x.batchId);for(const k of x.mutations)p=p.add(k.key)}return n.localDocuments.getDocuments(r,p).next(x=>({hs:x,removedBatchIds:c,addedBatchIds:d}))})})}function jw(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(d,p,x,k){const N=x.batch,R=N.keys();let H=ce.resolve();return R.forEach(Y=>{H=H.next(()=>k.getEntry(p,Y)).next(ee=>{const G=x.docVersions.get(Y);ot(G!==null),ee.version.compareTo(G)<0&&(N.applyToRemoteDocument(ee,x),ee.isValidDocument()&&(ee.setReadTime(x.commitVersion),k.addEntry(ee)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(p,N))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Be();for(let x=0;x<d.mutationResults.length;++x)d.mutationResults[x].transformResults.length>0&&(p=p.add(d.batch.mutations[x].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function e3(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Uw(t,e){const n=De(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const d=[];e.targetChanges.forEach((k,N)=>{const R=s.get(N);if(!R)return;d.push(n.Ur.removeMatchingKeys(o,k.removedDocuments,N).next(()=>n.Ur.addMatchingKeys(o,k.addedDocuments,N)));let H=R.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(N)!==null?H=H.withResumeToken(un.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):k.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(k.resumeToken,r)),s=s.insert(N,H),function(ee,G,F){return ee.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(R,H,k)&&d.push(n.Ur.updateTargetData(o,H))});let p=Cs(),x=Be();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,k))}),d.push(qw(o,c,e.documentUpdates).next(k=>{p=k.Ps,x=k.Is})),!r.isEqual(Me.min())){const k=n.Ur.getLastRemoteSnapshotVersion(o).next(N=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(k)}return ce.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,p,x)).next(()=>p)}).then(o=>(n.os=s,o))}function qw(t,e,n){let r=Be(),s=Be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=Cs();return n.forEach((d,p)=>{const x=o.get(d);p.isFoundDocument()!==x.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!x.isValidDocument()||p.version.compareTo(x.version)>0||p.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):be("LocalStore","Ignoring outdated watch update for ",d,". Current version:",x.version," Watch version:",p.version)}),{Ps:c,Is:s}})}function Hw(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $w(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,ce.resolve(s)):n.Ur.allocateTargetId(r).next(c=>(s=new Js(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Bd(t,e,n){const r=De(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Bl(c))throw c;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function x4(t,e,n){const r=De(t);let s=Me.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,x,k){const N=De(p),R=N._s.get(k);return R!==void 0?ce.resolve(N.os.get(R)):N.Ur.getTargetData(x,k)}(r,c,qr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>r.ss.getDocumentsMatchingQuery(c,e,n?s:Me.min(),n?o:Be())).next(d=>(Ww(r,zv(e),d),{documents:d,Ts:o})))}function Ww(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class _4{constructor(){this.activeTargetIds=Uv()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gw{constructor(){this.so=new _4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0=null;function _h(){return C0===null?C0=function(){return 268435456+Math.round(2147483648*Math.random())}():C0++,"0x"+C0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class Yw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,c){const d=_h(),p=this.xo(n,r.toUriEncodedString());be("RestConnection",`Sending RPC '${n}' ${d}:`,p,s);const x={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(x,o,c),this.No(n,p,x,s).then(k=>(be("RestConnection",`Received RPC '${n}' ${d}: `,k),k),k=>{throw Jo("RestConnection",`RPC '${n}' ${d} failed with error: `,k,"url: ",p,"request:",s),k})}Lo(n,r,s,o,c,d){return this.Mo(n,r,s,o,c)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),s&&s.headers.forEach((o,c)=>n[c]=o)}xo(n,r){const s=Kw[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=_h();return new Promise((c,d)=>{const p=new p5;p.setWithCredentials(!0),p.listenOnce(g5.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case q0.NO_ERROR:const k=p.getResponseJson();be(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(k)),c(k);break;case q0.TIMEOUT:be(mn,`RPC '${e}' ${o} timed out`),d(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case q0.HTTP_ERROR:const N=p.getStatus();if(be(mn,`RPC '${e}' ${o} failed with status:`,N,"response text:",p.getResponseText()),N>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R==null?void 0:R.error;if(H&&H.status&&H.message){const Y=function(G){const F=G.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN}(H.status);d(new Ae(Y,H.message))}else d(new Ae(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{be(mn,`RPC '${e}' ${o} completed.`)}});const x=JSON.stringify(s);be(mn,`RPC '${e}' ${o} sending request:`,s),p.send(n,"POST",x,r,15)})}Bo(e,n,r){const s=_h(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=w5(),d=v5(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const k=o.join("");be(mn,`Creating RPC '${e}' stream ${s}: ${k}`,p);const N=c.createWebChannel(k,p);let R=!1,H=!1;const Y=new Xw({Io:G=>{H?be(mn,`Not sending because RPC '${e}' stream ${s} is closed:`,G):(R||(be(mn,`Opening RPC '${e}' stream ${s} transport.`),N.open(),R=!0),be(mn,`RPC '${e}' stream ${s} sending:`,G),N.send(G))},To:()=>N.close()}),ee=(G,F,M)=>{G.listen(F,j=>{try{M(j)}catch(J){setTimeout(()=>{throw J},0)}})};return ee(N,qa.EventType.OPEN,()=>{H||(be(mn,`RPC '${e}' stream ${s} transport opened.`),Y.yo())}),ee(N,qa.EventType.CLOSE,()=>{H||(H=!0,be(mn,`RPC '${e}' stream ${s} transport closed`),Y.So())}),ee(N,qa.EventType.ERROR,G=>{H||(H=!0,Jo(mn,`RPC '${e}' stream ${s} transport errored:`,G),Y.So(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),ee(N,qa.EventType.MESSAGE,G=>{var F;if(!H){const M=G.data[0];ot(!!M);const j=M,J=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(J){be(mn,`RPC '${e}' stream ${s} received error:`,J);const oe=J.status;let se=function(D){const P=Ft[D];if(P!==void 0)return q5(P)}(oe),L=J.message;se===void 0&&(se=ue.INTERNAL,L="Unknown error status: "+oe+" with message "+J.message),H=!0,Y.So(new Ae(se,L)),N.close()}else be(mn,`RPC '${e}' stream ${s} received:`,M),Y.bo(M)}}),ee(d,y5.STAT_EVENT,G=>{G.stat===Nd.PROXY?be(mn,`RPC '${e}' stream ${s} detected buffering proxy`):G.stat===Nd.NOPROXY&&be(mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Y.wo()},0),Y}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return new aw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,s,o,c,d,p){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new t3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jw extends n3{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=cw(this.serializer,e),r=function(o){if(!("targetChange"in o))return Me.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?$r(c.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Fd(this.serializer),n.addTarget=function(o,c){let d;const p=c.target;if(d=Dd(p)?{documents:fw(o,p)}:{query:mw(o,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=W5(o,c.resumeToken);const x=zd(o,c.expectedCount);x!==null&&(d.expectedCount=x)}else if(c.snapshotVersion.compareTo(Me.min())>0){d.readTime=Iu(o,c.snapshotVersion.toTimestamp());const x=zd(o,c.expectedCount);x!==null&&(d.expectedCount=x)}return d}(this.serializer,e);const r=gw(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Fd(this.serializer),n.removeTarget=e,this.a_(n)}}class Zw extends n3{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=dw(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Fd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hw(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Mo(e,Ld(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ue.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Lo(e,Ld(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(ue.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Is(n),this.D_=!1):be("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(c=>{r.enqueueAndForget(async()=>{to(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(p){const x=De(p);x.L_.add(4),await ql(x),x.q_.set("Unknown"),x.L_.delete(4),await oc(x)}(this))})}),this.q_=new tx(r,s)}}async function oc(t){if(to(t))for(const e of t.B_)await e(!0)}async function ql(t){for(const e of t.B_)await e(!1)}function r3(t,e){const n=De(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),im(n)?sm(n):ma(n).r_()&&rm(n,e))}function nm(t,e){const n=De(t),r=ma(n);n.N_.delete(e),r.r_()&&s3(n,e),n.N_.size===0&&(r.r_()?r.o_():to(n)&&n.q_.set("Unknown"))}function rm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ma(t).A_(e)}function s3(t,e){t.Q_.xe(e),ma(t).R_(e)}function sm(t){t.Q_=new rw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ma(t).start(),t.q_.v_()}function im(t){return to(t)&&!ma(t).n_()&&t.N_.size>0}function to(t){return De(t).L_.size===0}function i3(t){t.Q_=void 0}async function rx(t){t.q_.set("Online")}async function sx(t){t.N_.forEach((e,n)=>{rm(t,e)})}async function ix(t,e){i3(t),im(t)?(t.q_.M_(e),sm(t)):t.q_.set("Unknown")}async function ox(t,e,n){if(t.q_.set("Online"),e instanceof $5&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.N_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.N_.delete(d),s.Q_.removeTarget(d))}(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cu(t,r)}else if(e instanceof W0?t.Q_.Ke(e):e instanceof H5?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await e3(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach((p,x)=>{if(p.resumeToken.approximateByteSize()>0){const k=o.N_.get(x);k&&o.N_.set(x,k.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,x)=>{const k=o.N_.get(p);if(!k)return;o.N_.set(p,k.withResumeToken(un.EMPTY_BYTE_STRING,k.snapshotVersion)),s3(o,p);const N=new Js(k.target,p,x,k.sequenceNumber);rm(o,N)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await Cu(t,r)}}async function Cu(t,e,n){if(!Bl(e))throw e;t.L_.add(1),await ql(t),t.q_.set("Offline"),n||(n=()=>e3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await oc(t)})}function o3(t,e){return e().catch(n=>Cu(t,n,e))}async function ac(t){const e=De(t),n=mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ax(e);)try{const s=await Hw(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,lx(e,s)}catch(s){await Cu(e,s)}a3(e)&&l3(e)}function ax(t){return to(t)&&t.O_.length<10}function lx(t,e){t.O_.push(e);const n=mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function a3(t){return to(t)&&!mi(t).n_()&&t.O_.length>0}function l3(t){mi(t).start()}async function ux(t){mi(t).p_()}async function cx(t){const e=mi(t);for(const n of t.O_)e.m_(n.mutations)}async function hx(t,e,n){const r=t.O_.shift(),s=Xf.from(r,e,n);await o3(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ac(t)}async function dx(t,e){e&&mi(t).V_&&await async function(r,s){if(function(c){return ew(c)&&c!==ue.ABORTED}(s.code)){const o=r.O_.shift();mi(r).s_(),await o3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await ac(r)}}(t,e),a3(t)&&l3(t)}async function S4(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=to(n);n.L_.add(3),await ql(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await oc(n)}async function fx(t,e){const n=De(t);e?(n.L_.delete(2),await oc(n)):e||(n.L_.add(2),await ql(n),n.q_.set("Unknown"))}function ma(t){return t.K_||(t.K_=function(n,r,s){const o=De(n);return o.w_(),new Jw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:rx.bind(null,t),Ro:sx.bind(null,t),mo:ix.bind(null,t),d_:ox.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),im(t)?sm(t):t.q_.set("Unknown")):(await t.K_.stop(),i3(t))})),t.K_}function mi(t){return t.U_||(t.U_=function(n,r,s){const o=De(n);return o.w_(),new Zw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ux.bind(null,t),mo:dx.bind(null,t),f_:cx.bind(null,t),g_:hx.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ac(t)):(await t.U_.stop(),t.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new om(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(t,e){if(Is("AsyncQueue",`${e}: ${t}`),Bl(t))return new Ae(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.W_=new At(Ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,s,o,c,d,p,x){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=x}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new ra(e,n,qo.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class px{constructor(){this.queries=T4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=De(n),o=s.queries;s.queries=T4(),o.forEach((c,d)=>{for(const p of d.j_)p.onError(r)})})(this,new Ae(ue.ABORTED,"Firestore shutting down"))}}function T4(){return new fa(t=>R5(t),ec)}async function lm(t,e){const n=De(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new mx,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=am(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&cm(n)}async function um(t,e){const n=De(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gx(t,e){const n=De(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(s)&&(r=!0);c.z_=s}}r&&cm(n)}function yx(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function cm(t){t.Y_.forEach(e=>{e.next()})}var jd,k4;(k4=jd||(jd={})).ea="default",k4.Cache="cache";class hm{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.key=e}}class c3{constructor(e){this.key=e}}class vx{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=P5(e),this.Ra=new qo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new E4,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,x=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((k,N)=>{const R=s.get(k),H=tc(this.query,N)?N:null,Y=!!R&&this.mutatedKeys.has(R.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let G=!1;R&&H?R.data.isEqual(H.data)?Y!==ee&&(r.track({type:3,doc:H}),G=!0):this.ga(R,H)||(r.track({type:2,doc:H}),G=!0,(p&&this.Aa(H,p)>0||x&&this.Aa(H,x)<0)&&(d=!0)):!R&&H?(r.track({type:0,doc:H}),G=!0):R&&!H&&(r.track({type:1,doc:R}),G=!0,(p||x)&&(d=!0)),G&&(H?(c=c.add(H),o=ee?o.add(k):o.delete(k)):(c=c.delete(k),o=o.delete(k)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const k=this.query.limitType==="F"?c.last():c.first();c=c.delete(k.key),o=o.delete(k.key),r.track({type:1,doc:k})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((k,N)=>function(H,Y){const ee=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return ee(H)-ee(Y)}(k.type,N.type)||this.Aa(k.doc,N.doc)),this.pa(r),s=s!=null&&s;const d=n&&!s?this.ya():[],p=this.da.size===0&&this.current&&!s?1:0,x=p!==this.Ea;return this.Ea=p,c.length!==0||x?{snapshot:new ra(this.query,e.Ra,o,c,e.mutatedKeys,p===0,x,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new E4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new c3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new u3(r))}),n}ba(e){this.Ta=e.Ts,this.da=Be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xx{constructor(e){this.key=e,this.va=!1}}class _x{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new fa(d=>R5(d),ec),this.Ma=new Map,this.xa=new Set,this.Oa=new At(Ce.comparator),this.Na=new Map,this.La=new Zf,this.Ba={},this.ka=new Map,this.qa=na.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bx(t,e,n=!0){const r=g3(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await h3(r,e,n,!0),s}async function Sx(t,e){const n=g3(t);await h3(n,e,!0,!1)}async function h3(t,e,n,r){const s=await $w(t.localStore,qr(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await Ex(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&r3(t.remoteStore,s),d}async function Ex(t,e,n,r,s){t.Ka=(N,R,H)=>async function(ee,G,F,M){let j=G.view.ma(F);j.ns&&(j=await x4(ee.localStore,G.query,!1).then(({documents:L})=>G.view.ma(L,j)));const J=M&&M.targetChanges.get(G.targetId),oe=M&&M.targetMismatches.get(G.targetId)!=null,se=G.view.applyChanges(j,ee.isPrimaryClient,J,oe);return I4(ee,G.targetId,se.wa),se.snapshot}(t,N,R,H);const o=await x4(t.localStore,e,!0),c=new vx(e,o.Ts),d=c.ma(o.documents),p=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),x=c.applyChanges(d,t.isPrimaryClient,p);I4(t,n,x.wa);const k=new wx(e,n,c);return t.Fa.set(e,k),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),x.snapshot}async function Tx(t,e,n){const r=De(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(c=>!ec(c,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&nm(r.remoteStore,s.targetId),Ud(r,s.targetId)}).catch(Fl)):(Ud(r,s.targetId),await Bd(r.localStore,s.targetId,!0))}async function kx(t,e){const n=De(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nm(n.remoteStore,r.targetId))}async function Ax(t,e,n){const r=Dx(t);try{const s=await function(c,d){const p=De(c),x=Qt.now(),k=d.reduce((H,Y)=>H.add(Y.key),Be());let N,R;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=Cs(),ee=Be();return p.cs.getEntries(H,k).next(G=>{Y=G,Y.forEach((F,M)=>{M.isValidDocument()||(ee=ee.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,Y)).next(G=>{N=G;const F=[];for(const M of d){const j=Kv(M,N.get(M.key).overlayedDocument);j!=null&&F.push(new eo(M.key,j,E5(j.value.mapValue),Hr.exists(!0)))}return p.mutationQueue.addMutationBatch(H,x,F,d)}).next(G=>{R=G;const F=G.applyToLocalDocumentSet(N,ee);return p.documentOverlayCache.saveOverlays(H,G.batchId,F)})}).then(()=>({batchId:R.batchId,changes:D5(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,p){let x=c.Ba[c.currentUser.toKey()];x||(x=new At(Xe)),x=x.insert(d,p),c.Ba[c.currentUser.toKey()]=x}(r,s.batchId,n),await Hl(r,s.changes),await ac(r.remoteStore)}catch(s){const o=am(s,"Failed to persist write");n.reject(o)}}async function d3(t,e){const n=De(t);try{const r=await Uw(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Na.get(o);c&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.va=!0:s.modifiedDocuments.size>0?ot(c.va):s.removedDocuments.size>0&&(ot(c.va),c.va=!1))}),await Hl(n,r,e)}catch(r){await Fl(r)}}function A4(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,c)=>{const d=c.view.Z_(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const p=De(c);p.onlineState=d;let x=!1;p.queries.forEach((k,N)=>{for(const R of N.j_)R.Z_(d)&&(x=!0)}),x&&cm(p)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ix(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let c=new At(Ce.comparator);c=c.insert(o,yn.newNoDocument(o,Me.min()));const d=Be().add(o),p=new sc(Me.min(),new Map,new At(Xe),c,d);await d3(r,p),r.Oa=r.Oa.remove(o),r.Na.delete(e),dm(r)}else await Bd(r.localStore,e,!1).then(()=>Ud(r,e,n)).catch(Fl)}async function Cx(t,e){const n=De(t),r=e.batch.batchId;try{const s=await jw(n.localStore,e);m3(n,r,null),f3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hl(n,s)}catch(s){await Fl(s)}}async function Nx(t,e,n){const r=De(t);try{const s=await function(c,d){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let k;return p.mutationQueue.lookupMutationBatch(x,d).next(N=>(ot(N!==null),k=N.keys(),p.mutationQueue.removeMutationBatch(x,N))).next(()=>p.mutationQueue.performConsistencyCheck(x)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(x,k,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,k)).next(()=>p.localDocuments.getDocuments(x,k))})}(r.localStore,e);m3(r,e,n),f3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hl(r,s)}catch(s){await Fl(s)}}function f3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m3(t,e,n){const r=De(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ud(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||p3(t,r)})}function p3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dm(t))}function I4(t,e,n){for(const r of n)r instanceof u3?(t.La.addReference(r.key,e),Rx(t,r)):r instanceof c3?(be("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||p3(t,r.key)):Re()}function Rx(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(be("SyncEngine","New document in limbo: "+n),t.xa.add(r),dm(t))}function dm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ce(wt.fromString(e)),r=t.qa.next();t.Na.set(r,new xx(n)),t.Oa=t.Oa.insert(n,r),r3(t.remoteStore,new Js(qr(Zu(n.path)),r,"TargetPurposeLimboResolution",Uf.oe))}}async function Hl(t,e,n){const r=De(t),s=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach((d,p)=>{c.push(r.Ka(p,e,n).then(x=>{var k;if((x||n)&&r.isPrimaryClient){const N=x?!x.fromCache:(k=n==null?void 0:n.targetChanges.get(p.targetId))===null||k===void 0?void 0:k.current;r.sharedClientState.updateQueryState(p.targetId,N?"current":"not-current")}if(x){s.push(x);const N=tm.Wi(p.targetId,x);o.push(N)}}))}),await Promise.all(c),r.Ca.d_(s),await async function(p,x){const k=De(p);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ce.forEach(x,R=>ce.forEach(R.$i,H=>k.persistence.referenceDelegate.addReference(N,R.targetId,H)).next(()=>ce.forEach(R.Ui,H=>k.persistence.referenceDelegate.removeReference(N,R.targetId,H)))))}catch(N){if(!Bl(N))throw N;be("LocalStore","Failed to update sequence numbers: "+N)}for(const N of x){const R=N.targetId;if(!N.fromCache){const H=k.os.get(R),Y=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(Y);k.os=k.os.insert(R,ee)}}}(r.localStore,o))}async function Px(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await Z5(n.localStore,e);n.currentUser=e,function(o,c){o.ka.forEach(d=>{d.forEach(p=>{p.reject(new Ae(ue.CANCELLED,c))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hl(n,r.hs)}}function Mx(t,e){const n=De(t),r=n.Na.get(e);if(r&&r.va)return Be().add(r.key);{let s=Be();const o=n.Ma.get(e);if(!o)return s;for(const c of o){const d=n.Fa.get(c);s=s.unionWith(d.view.Va)}return s}}function g3(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.Ca.d_=gx.bind(null,e.eventManager),e.Ca.$a=yx.bind(null,e.eventManager),e}function Dx(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nx.bind(null,e),e}class Nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ic(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Bw(this.persistence,new Ow,e.initialUser,this.serializer)}Ga(e){return new Vw(em.Zr,this.serializer)}Wa(e){return new Gw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nu.provider={build:()=>new Nu};class qd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new px}()}createDatastore(e){const n=ic(e.databaseInfo.databaseId),r=function(o){return new Yw(o)}(e.databaseInfo);return function(o,c,d,p){return new ex(o,c,d,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new nx(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>A4(this.syncEngine,n,0),function(){return b4.D()?new b4:new Qw}())}createSyncEngine(e,n){return function(s,o,c,d,p,x,k){const N=new _x(s,o,c,d,p,x);return k&&(N.Qa=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=De(s);be("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ql(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=_5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{be("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=am(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sh(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Z5(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zx(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S4(e.remoteStore,s)),t._onlineComponents=e}async function zx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await Sh(t,new Nu)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Sh(t,new Nu);return t._offlineComponents}async function y3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await C4(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await C4(t,new qd))),t._onlineComponents}function Lx(t){return y3(t).then(e=>e.syncEngine)}async function Ru(t){const e=await y3(t),n=e.eventManager;return n.onListen=bx.bind(null,e.syncEngine),n.onUnlisten=Tx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kx.bind(null,e.syncEngine),n}function Ox(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,p,x){const k=new fm({next:R=>{k.Za(),c.enqueueAndForget(()=>um(o,N));const H=R.docs.has(d);!H&&R.fromCache?x.reject(new Ae(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&p&&p.source==="server"?x.reject(new Ae(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(R)},error:R=>x.reject(R)}),N=new hm(Zu(d.path),k,{includeMetadataChanges:!0,_a:!0});return lm(o,N)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}function Fx(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,p,x){const k=new fm({next:R=>{k.Za(),c.enqueueAndForget(()=>um(o,N)),R.fromCache&&p.source==="server"?x.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(R)},error:R=>x.reject(R)}),N=new hm(d,k,{includeMetadataChanges:!0,_a:!0});return lm(o,N)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){if(!n)throw new Ae(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bx(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R4(t){if(!Ce.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P4(t){if(Ce.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rv;switch(r.type){case"firstParty":return new av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N4.get(n);r&&(be("ComponentProvider","Removing Datastore"),N4.delete(n),r.terminate())}(this),Promise.resolve()}}function jx(t,e,n,r={}){var s;const o=(t=kr(t,lc))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=pn.MOCK_USER;else{d=O8(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ae(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pn(x)}t._authCredentials=new sv(new x5(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class ui extends $l{constructor(e,n,r){super(e,n,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ce(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function x3(t,e,...n){if(t=Yo(t),w3("collection","path",e),t instanceof lc){const r=wt.fromString(e,...n);return P4(r),new ui(t,null,r)}{if(!(t instanceof On||t instanceof ui))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return P4(r),new ui(t.firestore,null,r)}}function pm(t,e,...n){if(t=Yo(t),arguments.length===1&&(e=_5.newId()),w3("doc","path",e),t instanceof lc){const r=wt.fromString(e,...n);return R4(r),new On(t,null,new Ce(r))}{if(!(t instanceof On||t instanceof ui))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return R4(r),new On(t.firestore,t instanceof ui?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new t3(this,"async_queue_retry"),this.Vu=()=>{const r=bh();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bl(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw Is("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=om.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function V4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Yi extends lc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new D4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D4(e),this._firestoreClient=void 0,await e}}}function Ux(t,e){const n=typeof t=="object"?t:G9(),r=typeof t=="string"?t:"(default)",s=q9(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=z8("firestore");o&&jx(s,...o)}return s}function uc(t){if(t._terminated)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qx(t),t._firestoreClient}function qx(t){var e,n,r;const s=t._freezeSettings(),o=function(d,p,x,k){return new xv(d,p,x,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,v3(k.experimentalLongPollingOptions),k.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Vx(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(un.fromBase64String(e))}catch(n){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sa(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=/^__.*__$/;class $x{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new jl(e,this.data,n,this.fieldTransforms)}}function b3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class wm{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(b3(this.Cu)&&Hx.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Wx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ic(e)}Qu(e,n,r,s=!1){return new wm({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gx(t){const e=t._freezeSettings(),n=ic(t._databaseId);return new Wx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qx(t,e,n,r,s,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);k3("Data must be an object, but it was:",c,r);const d=E3(r,c);let p,x;if(o.merge)p=new Sr(c.fieldMask),x=c.fieldTransforms;else if(o.mergeFields){const k=[];for(const N of o.mergeFields){const R=Kx(e,N,n);if(!c.contains(R))throw new Ae(ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Yx(k,R)||k.push(R)}p=new Sr(k),x=c.fieldTransforms.filter(N=>p.covers(N.field))}else p=null,x=c.fieldTransforms;return new $x(new lr(d),p,x)}function S3(t,e){if(T3(t=Yo(t)))return k3("Unsupported field value:",e,t),E3(t,e);if(t instanceof _3)return function(r,s){if(!b3(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let p=S3(d,s.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Yo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qv(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Qt.fromDate(r);return{timestampValue:Iu(s.serializer,o)}}if(r instanceof Qt){const o=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Iu(s.serializer,o)}}if(r instanceof ym)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sa)return{bytesValue:W5(s.serializer,r._byteString)};if(r instanceof On){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vm)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return Qf(d.serializer,p)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${mm(r)}`)}(t,e)}function E3(t,e){const n={};return b5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,s)=>{const o=S3(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function T3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof ym||t instanceof sa||t instanceof On||t instanceof _3||t instanceof vm)}function k3(t,e,n){if(!T3(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=mm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Kx(t,e,n){if((e=Yo(e))instanceof gm)return e._internalPath;if(typeof e=="string")return A3(t,e);throw Pu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xx=new RegExp("[~\\*/\\[\\]]");function A3(t,e,n){if(e.search(Xx)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gm(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pu(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${r}`),c&&(p+=` in document ${s}`),p+=")"),new Ae(ue.INVALID_ARGUMENT,d+t+p)}function Yx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jx extends I3{data(){return super.data()}}function C3(t,e){return typeof e=="string"?A3(t,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zx{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return da(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>Mt(c.doubleValue));return new vm(o)}convertGeoPoint(e){return new ym(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=fi(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ot(J5(r));const s=new Nl(r.get(1),r.get(3)),o=new Ce(r.popFirst(5));return s.isEqual(n)||Is(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R3 extends I3{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new G0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class G0 extends R3{data(e={}){return super.data(e)}}class P3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new G0(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const p=new G0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Wa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const p=new G0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Wa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let x=-1,k=-1;return d.type!==0&&(x=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),k=c.indexOf(d.doc.key)),{type:t_(d.type),doc:p,oldIndex:x,newIndex:k}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){t=kr(t,On);const e=kr(t.firestore,Yi);return Ox(uc(e),t._key).then(n=>V3(e,t,n))}class xm extends Zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function _m(t){t=kr(t,$l);const e=kr(t.firestore,Yi),n=uc(e),r=new xm(e);return N3(t._query),Fx(n,t._query).then(s=>new P3(e,r,t,s))}function M3(t,e,n){t=kr(t,On);const r=kr(t.firestore,Yi),s=e_(t.converter,e,n);return D3(r,[Qx(Gx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hr.none())])}function bm(t){return D3(kr(t.firestore,Yi),[new Kf(t._key,Hr.none())])}function r_(t,...e){var n,r,s;t=Yo(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||V4(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(V4(e[c])){const N=e[c];e[c]=(n=N.next)===null||n===void 0?void 0:n.bind(N),e[c+1]=(r=N.error)===null||r===void 0?void 0:r.bind(N),e[c+2]=(s=N.complete)===null||s===void 0?void 0:s.bind(N)}let p,x,k;if(t instanceof On)x=kr(t.firestore,Yi),k=Zu(t._key.path),p={next:N=>{e[c]&&e[c](V3(x,t,N))},error:e[c+1],complete:e[c+2]};else{const N=kr(t,$l);x=kr(N.firestore,Yi),k=N._query;const R=new xm(x);p={next:H=>{e[c]&&e[c](new P3(x,R,N,H))},error:e[c+1],complete:e[c+2]},N3(t._query)}return function(R,H,Y,ee){const G=new fm(ee),F=new hm(H,G,Y);return R.asyncQueue.enqueueAndForget(async()=>lm(await Ru(R),F)),()=>{G.Za(),R.asyncQueue.enqueueAndForget(async()=>um(await Ru(R),F))}}(uc(x),k,d,p)}function D3(t,e){return function(r,s){const o=new bs;return r.asyncQueue.enqueueAndForget(async()=>Ax(await Lx(r),s,o)),o.promise}(uc(t),e)}function V3(t,e,n){const r=n.docs.get(e._key),s=new xm(t);return new R3(t,s,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ha=s})(W9),bu(new kl("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Yi(new iv(r.getProvider("auth-internal")),new uv(r.getProvider("app-check-internal")),function(x,k){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(x.options.projectId,k)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Uo(Zp,"4.7.3",e),Uo(Zp,"4.7.3","esm2017")})();var s_="firebase",i_="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo(s_,i_,"app");const o_=null,a_=(()=>{var n;if(typeof globalThis>"u")return null;const t=(n=globalThis.__FIREBASE_DEFAULTS__)==null?void 0:n.config;if(t!=null&&t.projectId)return t;const e=globalThis.__FIREBASE_CONFIG__;return e!=null&&e.projectId?e:null})(),z4=o_??a_??null;let L4,Qr=null,Mu=!1;if(z4)try{L4=h5(z4),Qr=Ux(L4),Mu=!0}catch(t){Mu=!1,Qr=null,console.warn("Failed to initialize Firebase. Falling back to local data.",t)}const ol=()=>Mu&&!!Qr,z3=()=>{Mu=!1,Qr=null},l_="omniExamStudio.db",u_=1,L3="omniExamStudio.persist";let Fi=null,$s=null;const cc={users:{},exams:{},sessions:{},attempts:{}},c_=()=>typeof indexedDB<"u"&&typeof indexedDB.open=="function",h_=()=>{if(typeof window>"u"||!window.localStorage)return!1;try{const t=`${L3}:test`;return window.localStorage.setItem(t,"1"),window.localStorage.removeItem(t),!0}catch{return!1}},O3=()=>new Promise((t,e)=>{const n=indexedDB.open(l_,u_);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("users")||r.createObjectStore("users"),r.objectStoreNames.contains("exams")||r.createObjectStore("exams")},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error??new Error("IndexedDB error"))}),hc=async()=>{if($s)return $s;if(c_())try{return Fi||(Fi=O3()),await Fi,$s="indexedDB",$s}catch{Fi=null}return h_()?($s="localStorage",$s):($s="memory",$s)},Sm=t=>new Promise((e,n)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>n(t.error??new Error("IndexedDB request error"))}),dc=async(t,e,n)=>{Fi||(Fi=O3());const r=await Fi;return new Promise((s,o)=>{const c=r.transaction(t,e);c.oncomplete=()=>{},c.onerror=()=>{o(c.error??new Error("IndexedDB transaction failed"))};const d=c.objectStore(t);n(d).then(p=>s(p)).catch(p=>o(p))})},F3=t=>`${L3}:${t}`,fc=t=>{try{const e=window.localStorage.getItem(F3(t));return e?JSON.parse(e):{}}catch{return{}}},B3=(t,e)=>{try{window.localStorage.setItem(F3(t),JSON.stringify(e))}catch{}},j3=async()=>{if(typeof navigator>"u"||!navigator.storage||!navigator.storage.persist)return!1;try{return await navigator.storage.persisted()?!0:navigator.storage.persist()}catch{return!1}},Em=async(t,e)=>{const n=await hc();return n==="indexedDB"?dc(t,"readonly",async r=>{const s=r.get(e);return await Sm(s)??void 0}):n==="localStorage"?fc(t)[e]:cc[t][e]},Wl=async(t,e,n)=>{const r=await hc();if(r==="indexedDB"){await dc(t,"readwrite",async s=>{const o=s.put(n,e);await Sm(o)});return}if(r==="localStorage"){const s=fc(t);s[e]=n,B3(t,s);return}cc[t][e]=n},U3=async(t,e)=>{const n=await hc();if(n==="indexedDB"){await dc(t,"readwrite",async r=>{const s=r.delete(e);await Sm(s)});return}if(n==="localStorage"){const r=fc(t);delete r[e],B3(t,r);return}delete cc[t][e]},Tm=async t=>{const e=await hc();if(e==="indexedDB")return dc(t,"readonly",async n=>{const r=[],s=n.openCursor();return await new Promise((o,c)=>{s.onsuccess=()=>{const d=s.result;d?(r.push({key:String(d.key),value:d.value}),d.continue()):o()},s.onerror=()=>c(s.error??new Error("IndexedDB cursor error"))}),r});if(e==="localStorage"){const n=fc(t);return Object.entries(n).map(([r,s])=>({key:r,value:s}))}return Object.entries(cc[t]).map(([n,r])=>({key:n,value:r}))},d_="users",f_="exams";let q3=!0;const m_=()=>q3&&ol()&&!!Qr,Gl=t=>{q3=!1,z3(),console.warn("Firestore unavailable. Falling back to local exams.",t)},Ql=t=>!Qr||!t||!m_()?null:x3(Qr,d_,t,f_),ia=async t=>{const e=await Em("exams",t);return e?e.map(n=>({...n,ownerId:t})):[]},km=async(t,e)=>{await Wl("exams",t,e.map(n=>({...n,ownerId:t})))},p_=(t,e,n)=>{const r=Ql(t);return r?r_(r,s=>{const o=s.docs.map(c=>({...c.data(),id:c.id,ownerId:t}));e(o,{fromCache:s.metadata.fromCache})},s=>{Gl(s),n&&n(s),(async()=>{const o=await ia(t);e(o,{fromCache:!1})})()}):((async()=>{const s=await ia(t);e(s,{fromCache:!1})})(),()=>{})},Eh=async(t,e)=>{const n=Ql(t);if(n)try{await M3(pm(n,e.id),{...e,ownerId:t},{merge:!0});return}catch(o){Gl(o)}const r=await ia(t),s=(()=>{const o=r.findIndex(c=>c.id===e.id);if(o>=0){const c=[...r];return c[o]={...e,ownerId:t},c}return[...r,{...e,ownerId:t}]})();await km(t,s)},O4=async(t,e)=>{const n=Ql(t);if(n)try{await bm(pm(n,e));return}catch(o){Gl(o)}const s=(await ia(t)).filter(o=>o.id!==e);await km(t,s)},Th=async t=>{const e=Ql(t);if(!e)return ia(t);try{return(await _m(e)).docs.map(r=>({...r.data(),id:r.id,ownerId:t}))}catch(n){return Gl(n),ia(t)}},F4=async t=>{const e=Ql(t);if(e)try{const n=await _m(e);await Promise.all(n.docs.map(r=>bm(r.ref)));return}catch(n){Gl(n)}await U3("exams",t)},kh=async(t,e)=>{await km(t,e)},g_="users",al="admin",y_="chingon",v_="Administrator",N0="admin",Kl=t=>t.trim().toLowerCase(),Am=()=>Date.now(),B4=(()=>{try{return new TextEncoder}catch{return null}})(),Im=async t=>{var n;const e=(n=globalThis==null?void 0:globalThis.crypto)==null?void 0:n.subtle;if(e&&B4){const r=B4.encode(t),s=await e.digest("SHA-256",r);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}return typeof btoa=="function"?btoa(t):t};let H3=!0;const $3=()=>H3&&ol()&&!!Qr,Xl=t=>{H3=!1,z3(),console.warn("Firestore unavailable. Falling back to local storage.",t)},W3=()=>!$3()||!Qr?null:x3(Qr,g_),Cm=t=>{const e=W3();if(!e)return null;try{return pm(e,t)}catch(n){return Xl(n),null}},w_=async()=>{const t=W3();if(!t)return{};try{const e=await _m(t),n={};return e.forEach(r=>{const s=r.data();n[r.id]={...s,id:r.id,login:r.id}}),n}catch(e){return Xl(e),{}}},x_=async()=>(await Tm("users")).reduce((e,n)=>(e[n.key]=n.value,e),{}),Nm=async t=>{const e=Kl(t),n=Cm(e);if(n){try{const s=await n_(n);if(s.exists())return{...s.data(),id:e,login:e}}catch(s){Xl(s)}return null}const r=await Em("users",e);return r?{...r,id:e,login:e}:null},Du=async t=>{const e=Cm(t.login);if(e)try{await M3(e,t,{merge:!0});return}catch(n){Xl(n)}await Wl("users",t.login,t)},oa=t=>({id:t.id,login:t.login,displayName:t.displayName,createdAt:t.createdAt,lastLoginAt:t.lastLoginAt,role:t.role}),__=t=>{if(Kl(t)===al)throw new xs("The admin account is managed internally.")};class xs extends Error{constructor(e,n){super(e),this.cause=n,this.name="UserAuthError"}}const b_=async({login:t,password:e,displayName:n})=>{const r=Kl(t);if(!r)throw new xs("Login is required.");if(r===al)throw new xs("That login is reserved.");const s=n.trim();if(!s)throw new xs("Display name is required.");const o=await Im(e);if(await Nm(r))throw new xs("That login is already in use.");const d=Am(),p={id:r,login:r,displayName:s,passwordHash:o,createdAt:d,lastLoginAt:d,role:"user"};return await Du(p),oa(p)},S_=async(t,e)=>{const n=Kl(t);if(!n)throw new xs("Enter your login to continue.");const r=await Nm(n);if(!r)throw new xs("We could not find that login.");if(await Im(e)!==r.passwordHash)throw new xs("Incorrect password.");const o={...r,lastLoginAt:Am()};return await Du(o),oa(o)},E_=async()=>{if($3()){const e=await w_();if(Object.keys(e).length>0)return Object.values(e).map(n=>oa(n)).sort((n,r)=>n.createdAt-r.createdAt)}const t=await x_();return Object.values(t).map(e=>oa(e)).sort((e,n)=>e.createdAt-n.createdAt)},T_=async t=>{const e=Kl(t);__(e);const n=Cm(e);if(n)try{await bm(n);return}catch(r){Xl(r)}await U3("users",e)},k_=async()=>{await j3();const t=await Nm(al);if(t)return t.role!==N0&&await Du({...t,role:N0}),oa({...t,role:N0});const e=await Im(y_),n=Am(),r={id:al,login:al,displayName:v_,role:N0,createdAt:n,lastLoginAt:n,passwordHash:e};return await Du(r),oa(r)},G3=t=>`${t}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,j4=async t=>{const e={id:G3("session"),userId:t.id,userLogin:t.login,userName:t.displayName,loginAt:Date.now()};return await Wl("sessions",e.id,e),e},A_=async t=>{const e=await Em("sessions",t);if(!e||e.logoutAt)return;const n=Date.now();await Wl("sessions",t,{...e,logoutAt:n,durationMs:Math.max(n-e.loginAt,0)})},I_=async t=>{const e=Math.max(t.finishedAt-t.startedAt,0),n={id:G3("attempt"),sessionId:t.sessionId??null,userId:t.user.id,userLogin:t.user.login,userName:t.user.displayName,examId:t.exam.id,examTitle:t.exam.title,startedAt:t.startedAt,finishedAt:t.finishedAt,durationMs:e,score:Math.max(t.score,0),total:Math.max(t.total,0)};return await Wl("attempts",n.id,n),n},C_=async()=>(await Tm("sessions")).map(e=>e.value).sort((e,n)=>n.loginAt-e.loginAt),N_=async()=>(await Tm("attempts")).map(e=>e.value).sort((e,n)=>n.finishedAt-e.finishedAt),Ah="omniExamStudio.session",U4="admin-starter-exam",q4=t=>{const e=[...t];for(let n=e.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},R_=(t,e)=>(e.shuffleQuestions?q4(t.questions):t.questions.slice()).map(r=>{if(!wu(r)||!e.shuffleAnswers)return wu(r)?{...r,options:r.options.map(d=>({...d})),correctIndex:r.correctIndex}:{...r};const s=r.options.map((d,p)=>({...d,originalIndex:p})),o=q4(s).map((d,p)=>({label:String.fromCharCode(97+p),text:d.text,originalIndex:d.originalIndex})),c=o.findIndex(d=>d.originalIndex===r.correctIndex);return{...r,options:o.map(({originalIndex:d,...p})=>p),correctIndex:c>=0?c:r.correctIndex}}),H4=t=>t.trim().toLowerCase().replace(/\s+/g," "),Ih=({size:t="md",withText:e=!1,className:n=""})=>{const r=t==="lg"?"h-28 w-28 text-4xl":"h-14 w-14 text-xl",s=t==="lg"?"text-4xl sm:text-5xl":"text-2xl sm:text-3xl";return I.jsxs("div",{className:`flex items-center gap-4 ${n}`,children:[I.jsxs("div",{"aria-hidden":!0,className:`relative flex ${r} items-center justify-center overflow-hidden rounded-[32px] bg-gradient-to-br from-rose-500 via-rose-400 to-amber-200 shadow-xl ring-4 ring-white/40`,children:[I.jsx("img",{src:"/assets/omni-logo.png",alt:"",className:"pointer-events-none absolute inset-3 h-auto w-auto object-contain opacity-90"}),I.jsx("span",{className:"relative z-10 font-display font-semibold tracking-tight text-white",children:"OE"})]}),e&&I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.45em] text-rose-300",children:"Omni Exam Studio"}),I.jsx("span",{className:`font-display font-semibold text-cocoa-600 ${s}`,children:"Omni Exam Studio"})]})]})},P_=()=>{const t=y8(),[e,n]=ve.useState(null),[r,s]=ve.useState(!0),[o,c]=ve.useState("login"),[d,p]=ve.useState({login:"",password:"",displayName:""}),[x,k]=ve.useState(null),[N,R]=ve.useState(!1),[H,Y]=ve.useState([]),[ee,G]=ve.useState(""),[F,M]=ve.useState(0),[j,J]=ve.useState([]),[oe,se]=ve.useState(!1),[L,S]=ve.useState(null),[D,P]=ve.useState(!1),[U,$]=ve.useState(!1),[z,Vt]=ve.useState(!1),[Ve,Fn]=ve.useState(null),[wn,ye]=ve.useState(!1),[Ne,he]=ve.useState(!1),[je,ze]=ve.useState(!1),nt=ve.useRef(null),xn=ve.useRef(null),zt=ve.useRef({}),cn=ve.useRef({}),jt=ve.useRef(null),[pa,vi]=ve.useState(!1),[Jn,Kr]=ve.useState([]),[wi,Rs]=ve.useState(!1),[xi,Ir]=ve.useState(null),[Cr,Kt]=ve.useState(null),[Ps,Zn]=ve.useState([]),[_i,Xr]=ve.useState(!1),[bi,fr]=ve.useState(null),[Ms,Yr]=ve.useState({}),[xt,rt]=ve.useState(null),[Ds,Vs]=ve.useState([]),[no,ro]=ve.useState([]),[Ye,fe]=ve.useState(!1),[Bn,Jr]=ve.useState(null);ve.useEffect(()=>{j3(),(async()=>{try{const ae=await k_();if(!(await Th(ae.id)).some(ut=>ut.id===U4)){const ut={...Sd,id:U4,title:"Omni Starter Exam",ownerId:ae.id};await Eh(ae.id,ut)}}catch(ae){console.error("Failed to ensure admin workspace.",ae)}})()},[]),ve.useEffect(()=>{if(typeof window>"u"){s(!1);return}try{const te=window.localStorage.getItem(Ah);if(te){const ae=JSON.parse(te);ae!=null&&ae.id&&(n(ae),(async()=>{try{const we=await j4(ae);rt(we.id)}catch(we){console.error("Failed to log restored session.",we)}})())}}catch{}finally{s(!1)}},[]),ve.useEffect(()=>{if(!(typeof window>"u")){if(!e){window.localStorage.removeItem(Ah);return}window.localStorage.setItem(Ah,JSON.stringify(e))}},[e]),ve.useEffect(()=>{if(!e){Y([]),G(""),Fn(null),Vt(!1),ze(!1),J([]),M(0),$(!1),se(!1);return}Y([]),G(""),Fn(null),Vt(!1),ze(!1),J([]),M(0),$(!1),se(!1)},[e]),ve.useEffect(()=>{if(!e||ol())return;cn.current[e.id]=!1;let te=!1;return(async()=>{try{const we=await Th(e.id),Te=we.length>0?we.map(ut=>({...ut,ownerId:e.id})):Bp.map(ut=>({...ut,ownerId:e.id}));we.length||await kh(e.id,Te),te||(Y(Te),cn.current[e.id]=!0)}catch(we){if(console.error("Failed to load exams from local storage.",we),te)return;const Te=Bp.map(ut=>({...ut,ownerId:e.id}));Y(Te),cn.current[e.id]=!0,await kh(e.id,Te)}})(),()=>{te=!0}},[e]),ve.useEffect(()=>{!e||ol()||cn.current[e.id]&&kh(e.id,H)},[e,H]),ve.useEffect(()=>{if(!e||!ol())return;const te=p_(e.id,async(ae,{fromCache:we})=>{if(ae.length===0){if(!we&&!zt.current[e.id])try{const Te={...Sd,ownerId:e.id};await Eh(e.id,Te),zt.current[e.id]=!0,Y([Te]);return}catch(Te){console.error("Failed to seed default exam in Firestore.",Te)}Y([]);return}zt.current[e.id]=!0,Y(ae)},ae=>{console.error("Failed to sync exams from Firestore.",ae),S({text:"Could not sync exams with cloud storage. Showing local copy.",type:"error"})});return()=>{te()}},[e]),ve.useEffect(()=>{se(!t&&z),P(!1)},[t,z]),ve.useEffect(()=>{if(!D)return;const te=we=>{var Te;(Te=xn.current)!=null&&Te.contains(we.target)||P(!1)},ae=we=>{we.key==="Escape"&&P(!1)};return document.addEventListener("mousedown",te),document.addEventListener("keydown",ae),()=>{document.removeEventListener("mousedown",te),document.removeEventListener("keydown",ae)}},[D]);const zs=te=>ae=>{const{value:we}=ae.target;p(Te=>({...Te,[te]:we}))},so=()=>{p({login:"",password:"",displayName:""}),k(null)},Ls=async te=>{if(te.preventDefault(),!N){R(!0),k(null);try{let ae;o==="login"?ae=await S_(d.login,d.password):ae=await b_({login:d.login,password:d.password,displayName:d.displayName||d.login}),n(ae);try{const we=await j4(ae);rt(we.id)}catch(we){console.error("Failed to record login session.",we)}so(),S({text:o==="login"?`Welcome back, ${ae.displayName}!`:`Account created. Hello, ${ae.displayName}!`,type:"success"})}catch(ae){ae instanceof xs?k(ae.message):k("Something went wrong. Please try again in a moment.")}finally{R(!1)}}},Nr=()=>{(async()=>{if(xt)try{await A_(xt)}catch(te){console.error("Failed to close session log.",te)}rt(null)})(),n(null),so(),c("login"),P(!1),vi(!1),Kt(null),Zn([]),Kr([]),Ir(null),fr(null),jt.current=null,S({text:"Signed out safely.",type:"info"})},Zr=()=>{c(te=>te==="login"?"register":"login"),k(null),p(te=>({...te,password:"",displayName:te.displayName}))},jn=ve.useCallback(async()=>{Rs(!0),Ir(null);try{const te=await E_();Kr(te)}catch(te){console.error("Failed to load users list.",te),Ir("Unable to load users right now.")}finally{Rs(!1)}},[]),es=ve.useCallback(async()=>{fe(!0),Jr(null);try{const[te,ae]=await Promise.all([C_(),N_()]);Vs(te),ro(ae)}catch(te){console.error("Failed to load activity logs.",te),Jr("Unable to load activity right now.")}finally{fe(!1)}},[]),_t=ve.useCallback(async te=>{Xr(!0),fr(null);try{const ae=await Th(te);Zn(ae.map(we=>({...we,ownerId:te})))}catch(ae){console.error("Failed to load exams for user.",ae),Zn([]),fr("Unable to load exams for that user.")}finally{Xr(!1)}},[]),Ut=ve.useCallback(()=>{vi(!0),Kt(null),Zn([]),fr(null),jn(),es()},[jn,es]),Un=ve.useCallback(()=>{vi(!1),Kt(null),Zn([]),fr(null)},[]),Rr=ve.useCallback(te=>{Kt(te),_t(te)},[_t]),Si=ve.useCallback(async(te,ae)=>{try{await O4(te,ae),await _t(te),(e==null?void 0:e.id)===te&&Y(we=>we.filter(Te=>Te.id!==ae)),S({text:"Removed exam successfully.",type:"info"})}catch(we){console.error("Failed to delete exam for user.",we),S({text:"Could not delete that exam right now.",type:"error"})}},[_t,S,e]),ts=ve.useCallback(async te=>{let ae=!0;if(typeof window<"u"&&(ae=window.confirm("Delete all exams for this user?")),!!ae)try{await F4(te),await _t(te),(e==null?void 0:e.id)===te&&(Y([]),G(""),Fn(null),Vt(!1),ze(!1),J([]),M(0)),S({text:"Cleared all exams for that user.",type:"info"})}catch(we){console.error("Failed to delete all exams for user.",we),S({text:"Could not clear exams for that user.",type:"error"})}},[_t,e]),io=ve.useCallback(async te=>{const ae=Jn.find(Te=>Te.id===te);if(!ae)return;if(ae.role==="admin"){S({text:"Admin accounts cannot be deleted.",type:"error"});return}let we=!0;if(typeof window<"u"&&(we=window.confirm(`Delete user "${ae.displayName}" and all of their exams?`)),!!we)try{await T_(te),await F4(te),S({text:`Deleted "${ae.displayName}" and their exams.`,type:"info"}),Cr===te&&(Kt(null),Zn([])),await jn()}catch(Te){console.error("Failed to delete user.",Te),S({text:"Could not delete that user.",type:"error"})}},[Cr,Jn,jn]),et=ve.useMemo(()=>{if(ee)return H.find(te=>te.id===ee)},[H,ee]),ns=ve.useMemo(()=>Cr?Jn.find(te=>te.id===Cr)??null:null,[Jn,Cr]);ve.useEffect(()=>{if(!Ve||!z){J([]),M(0),ze(!1),Yr({});return}J(Array(Ve.questions.length).fill(null)),M(0),ze(!1),Yr({})},[Ve==null?void 0:Ve.id,z]);const Fe=(Ve==null?void 0:Ve.questions.length)??0,m=z&&Fe>0?Ve==null?void 0:Ve.questions[F]:void 0,v=!!(z&&Ve&&Fe>0&&m),re=Ms[F]??"",b=ve.useMemo(()=>j.reduce((te,ae)=>ae!=null&&ae.isCorrect?te+1:te,0),[j]),V=!!j[F],at=F>0,pe=F<Fe-1,Lt=!!(j[F]&&v&&!je),Cn=ve.useCallback(te=>{const ae=H.find(Te=>Te.id===te);if(!ae)return;G(te),ze(!1),Vt(!0),$(!1),P(!1);const we=R_(ae,{shuffleQuestions:wn,shuffleAnswers:Ne});jt.current={examId:ae.id,title:ae.title,startedAt:Date.now()},Fn({id:ae.id,title:ae.title,questions:we})},[H,Ne,wn]),Se=te=>{H.some(we=>we.id===te)&&G(te)},Je=(te,ae)=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),Se(ae))},Rt=te=>{const we=(te==null?void 0:te.preserveSelection)??!0?(Ve==null?void 0:Ve.id)??ee:"",Te=we&&H.some(ut=>ut.id===we)?we:"";Vt(!1),Fn(null),se(!1),M(0),J([]),$(!1),P(!1),ze(!1),G(Te),jt.current=null},rs=te=>{!z||!m||je||wu(m)&&J(ae=>{const we=[...ae];return we[F]={kind:"choice",optionIndex:te,isCorrect:te===m.correctIndex},we})},O=te=>{!z||!m||je||vu(m)&&Yr(ae=>({...ae,[F]:te}))},_n=()=>{if(!z||!m||je||!vu(m))return;const te=(Ms[F]??"").trim();if(!te){S({text:"Type an answer before checking.",type:"info"});return}const ae=H4(te)===H4(m.correctAnswer);J(we=>{const Te=[...we];return Te[F]={kind:"fill",response:te,isCorrect:ae},Te})},q=()=>{je||M(te=>Math.max(0,te-1))},Ei=()=>{je||M(te=>Math.min(Fe-1,te+1))},oo=()=>{if(!Ve||!e)return;const te=Date.now(),ae=jt.current&&jt.current.examId===Ve.id?jt.current:{examId:Ve.id,title:Ve.title,startedAt:te};(async()=>{try{await I_({sessionId:xt,user:e,exam:{id:ae.examId,title:ae.title},startedAt:ae.startedAt,finishedAt:te,score:b,total:Ve.questions.length})}catch(we){console.error("Failed to log exam attempt.",we)}})(),jt.current=null,ze(!0),se(!1)},ss=()=>{const te=(Ve==null?void 0:Ve.id)??ee;if(!te)return;if(!H.some(we=>we.id===te)){S({text:"That exam is no longer available.",type:"info"});return}Cn(te)},is=te=>{Cn(te)},Ie=async te=>{const ae=H.find(Te=>Te.id===te);if(!ae)return;let we=!0;if(typeof window<"u"&&(we=window.confirm(`Delete "${ae.title}" from your stored exams?`)),!!we&&(Y(Te=>Te.filter(ut=>ut.id!==te)),(te===ee||(Ve==null?void 0:Ve.id)===te)&&Rt({preserveSelection:!1}),S({text:`Deleted "${ae.title}".`,type:"info"}),e))try{await O4(e.id,te)}catch(Te){console.error("Failed to delete exam from storage.",Te),S({text:"Deleted locally but could not remove from storage yet.",type:"error"})}},qn=()=>{var te;(te=nt.current)==null||te.click()},Nn=async te=>{var we;const ae=(we=te.target.files)==null?void 0:we[0];if(ae){if(!e){S({text:"Please sign in before importing exams.",type:"error"});return}try{const Te=await ae.text(),ut=T8(Te);if(!ut.success)S({text:ut.message,type:"error"});else{const Os=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`exam-${Date.now()}`,Ot={id:Os,title:ut.data.title,questions:ut.data.questions,ownerId:e.id};Y(as=>[...as,Ot]),G(Os);try{await Eh(e.id,Ot),S({text:`Imported "${ut.data.title}" successfully.`,type:"success"})}catch(as){console.error("Failed to persist exam to storage.",as),S({text:`Imported "${ut.data.title}" locally. Sync will retry soon.`,type:"info"})}}}catch{S({text:"Could not read that file. Please try another plain-text export.",type:"error"})}finally{te.target.value=""}}},Pr=()=>{if(!et){S({text:"Select an exam before exporting.",type:"info"});return}if(!et.questions.length){S({text:"No questions to export yet.",type:"info"});return}const te=k8(et),ae=new Blob([te],{type:"text/plain"}),we=URL.createObjectURL(ae),Te=document.createElement("a"),ut=et.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");Te.href=we,Te.download=`${ut||"exam"}.txt`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(we),S({text:`Exported "${et.title}" as a text file.`,type:"success"})},ga=`Title: My Custom Exam

Question 1: puella, puellae, f.
a. girl
b. boy
c. child
d. pull
Answer: a

Question 2: Translate "salve"
Type: fill
Answer: hello`,Mr=`Question: Identify the correct translation for "puella".
a. boy
b. girl
c. book
d. town
Answer: b`,os=`Question: Translate "salve".
Type: fill
Answer: hello`,en=te=>{S({text:`${te} is coming soon.`,type:"info"})};return r?I.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-cream-50 px-6 text-cocoa-500",children:[I.jsx(Ih,{size:"lg",withText:!0}),I.jsx("p",{className:"text-sm font-medium text-cocoa-400",children:"Restoring your Omni Exam Studio workspace"})]}):e?I.jsx("div",{className:"min-h-screen bg-cream-50 px-4 py-6 sm:px-8 sm:py-10",children:I.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6",children:[I.jsxs("header",{className:"flex flex-col gap-4 rounded-[32px] bg-white/70 px-6 py-6 shadow-card backdrop-blur-sm sm:flex-row sm:items-center sm:justify-between",children:[I.jsx(Ih,{withText:!0,className:"justify-center sm:justify-start"}),I.jsxs("div",{className:"flex flex-col items-center gap-3 sm:flex-row sm:items-center sm:gap-4",children:[I.jsxs("div",{className:"text-center sm:text-right",children:[I.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-rose-300",children:"Signed in as"}),I.jsx("p",{className:"text-base font-semibold text-cocoa-600",children:e.displayName}),I.jsx("p",{className:"text-xs font-medium text-cocoa-400",children:e.login})]}),e.role==="admin"&&I.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-500 transition hover:bg-rose-100",onClick:Ut,children:"Manage workspace"}),I.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:Nr,children:"Sign out"}),I.jsxs("div",{ref:xn,className:"relative",children:[I.jsxs("button",{type:"button",className:"flex h-11 w-11 items-center justify-center rounded-full border border-cream-100 bg-white text-cocoa-500 shadow-sm transition hover:border-rose-200 hover:text-rose-400","aria-haspopup":"menu","aria-expanded":D,onClick:()=>P(te=>!te),children:[I.jsx("span",{className:"sr-only",children:D?"Close workspace actions":"Open workspace actions"}),I.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-current",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})]}),D&&I.jsxs("div",{role:"menu",className:"absolute right-0 z-20 mt-3 w-60 rounded-2xl border border-cream-100 bg-white p-2 shadow-xl",children:[I.jsx("button",{type:"button",role:"menuitem",disabled:!z,className:`w-full rounded-xl px-3 py-2 text-left text-sm font-semibold transition ${z?"text-cocoa-500 hover:bg-cream-50":"cursor-not-allowed text-cocoa-300"}`,onClick:()=>{z&&(P(!1),Rt())},children:"Go to exam hub"}),I.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{P(!1),en("Question sharing")},children:"Share current question"}),I.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{P(!1),en("Bulk edit")},children:"Bulk edit exams"}),I.jsx("div",{className:"my-1 h-px bg-cream-100"}),I.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{P(!1),Pr()},children:"Export exam (.txt)"}),I.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{P(!1),qn()},children:"Import exam (.txt)"}),I.jsx("button",{type:"button",role:"menuitem",className:"mt-1 w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-cocoa-500 transition hover:bg-cream-50",onClick:()=>{P(!1),$(te=>!te)},children:U?"Hide help guide":"Show help guide"})]})]})]})]}),I.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[I.jsxs("main",{className:"flex-1",children:[I.jsx("input",{ref:nt,type:"file",accept:".txt,text/plain",className:"hidden",onChange:Nn}),z?I.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-8 shadow-card sm:px-10 sm:py-12",children:[I.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[I.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>Rt(),children:"Back to exam hub"}),I.jsx("button",{type:"button",className:"rounded-full border border-cream-100 bg-cream-50 px-4 py-2 text-sm font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>se(te=>!te),children:oe?"Hide exam list":"Show exam list"})]}),v?je&&Ve?I.jsx(h8,{title:Ve.title,score:b,total:Fe,onRetake:ss,onExit:Rt}):I.jsxs(I.Fragment,{children:[I.jsx(Jy,{title:(Ve==null?void 0:Ve.title)??(et==null?void 0:et.title)??"Exam",score:b,total:Fe,questionIndex:F}),I.jsx("section",{className:"mt-8",children:I.jsx(Tl,{text:(m==null?void 0:m.entry)??"",displayMode:"block",className:`${t?"text-xl":"text-2xl"} font-semibold text-cocoa-500`})}),I.jsx("div",{className:"mt-6 space-y-4",children:wu(m)?m.options.map((te,ae)=>{var we,Te;return I.jsx(o8,{option:te,isSelected:((we=j[F])==null?void 0:we.kind)==="choice"&&((Te=j[F])==null?void 0:Te.optionIndex)===ae,isCorrectChoice:ae===m.correctIndex,showStatus:Lt,onSelect:()=>rs(ae)},`${m.entry}-${te.label}`)}):I.jsx(a8,{prompt:m.entry,value:re,onChange:O,onSubmit:_n,disabled:!z,isLocked:!!j[F]})}),I.jsx(l8,{selection:j[F],question:m}),I.jsx(u8,{hasPrev:at,hasNext:pe,canProceed:V,onPrev:q,onNext:Ei,onFinish:oo})]}):I.jsxs("div",{className:"rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[I.jsx("p",{className:"text-lg font-semibold",children:"No questions are loaded yet."}),I.jsx("p",{className:"mt-2 text-sm",children:"Import a .txt file that follows the provided template to start practicing."})]})]}):I.jsxs("div",{className:"rounded-[32px] bg-white px-6 py-10 shadow-card sm:px-10 sm:py-16",children:[I.jsxs("header",{className:"max-w-3xl",children:[I.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-rose-400",children:"Omni Exam Studio"}),I.jsx("h1",{className:"mt-3 font-display text-4xl font-semibold text-cocoa-600",children:"Choose an exam to begin practicing"}),I.jsx("p",{className:"mt-4 text-base text-cocoa-400",children:"Tap one of the stored exams below or import a new list of questions."})]}),I.jsx("div",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:H.map(te=>{const ae=te.id===ee,we=ae?"border-rose-400 bg-blush-200/60 shadow-xl":"border-transparent bg-cream-50/70 shadow-card hover:-translate-y-1 hover:shadow-2xl";return I.jsxs("div",{className:"group relative",children:[I.jsxs("div",{role:"button",tabIndex:0,"aria-pressed":ae,className:`flex w-full flex-col overflow-hidden rounded-[36px] border px-8 py-10 text-left transition-transform duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 ${we}`,onClick:()=>Se(te.id),onKeyDown:Te=>Je(Te,te.id),children:[I.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-rose-400",children:"Exam"}),I.jsx("h2",{className:"mt-4 font-display text-2xl font-semibold text-cocoa-600",children:te.title}),I.jsxs("p",{className:"mt-6 text-sm font-medium text-cocoa-400",children:[te.questions.length," ",te.questions.length===1?"question":"questions"]}),I.jsxs("div",{className:"mt-8 flex flex-wrap items-center gap-3 text-sm",children:[I.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${ae?"bg-white/90 text-rose-500":"bg-white/60 text-cocoa-300"}`,children:ae?"Selected for export":"Click to select"}),I.jsx("button",{type:"button",className:"rounded-full border border-cream-200 bg-white/70 px-4 py-2 text-xs font-semibold text-cocoa-500 transition hover:border-rose-200 hover:text-rose-500",onClick:Te=>{Te.stopPropagation(),Cn(te.id)},children:"Start practice"})]})]}),I.jsx("button",{type:"button","aria-label":`Delete ${te.title}`,className:"absolute right-6 top-6 rounded-full border border-transparent bg-white/80 px-4 py-2 text-xs font-semibold text-rose-500 shadow-sm transition hover:border-rose-200 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2",onClick:Te=>{Te.stopPropagation(),Ie(te.id)},children:"Delete"})]},te.id)})}),H.length===0&&I.jsxs("div",{className:"mt-8 rounded-3xl border border-dashed border-cream-100 bg-cream-50/60 px-6 py-10 text-center text-cocoa-400",children:[I.jsx("p",{className:"text-lg font-semibold",children:"No exams stored yet."}),I.jsx("p",{className:"mt-2 text-sm",children:"Import a plain-text exam file to get started."})]}),I.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[I.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-5 py-3 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:qn,children:"Import exam (.txt)"}),I.jsx("button",{type:"button",className:`rounded-2xl border px-5 py-3 text-sm font-semibold transition ${et?"border-rose-200 text-rose-500 hover:bg-blush-200/40":"cursor-not-allowed border-cream-100 text-cocoa-300"}`,onClick:Pr,disabled:!et,children:"Export current exam (.txt)"}),I.jsx("button",{type:"button",className:"rounded-2xl border border-cream-100 px-5 py-3 text-sm font-semibold text-cocoa-400 transition hover:border-rose-200 hover:text-rose-500",onClick:()=>$(te=>!te),children:U?"Hide format guide":"View format guide"})]}),I.jsx("p",{className:"mt-3 text-xs font-medium text-cocoa-400",children:et?`Selected exam: ${et.title}`:"Select an exam above to enable exporting."}),I.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm",children:[I.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[I.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:wn,onChange:te=>ye(te.target.checked)}),"Shuffle questions"]}),I.jsxs("label",{className:"flex items-center gap-2 font-semibold text-cocoa-500",children:[I.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-cream-200 text-rose-500 focus:ring-rose-400",checked:Ne,onChange:te=>he(te.target.checked)}),"Shuffle answers"]}),I.jsx("span",{className:"text-xs font-medium text-cocoa-400",children:"Shuffle changes apply next session; math renders automatically when detected."})]})]}),U&&I.jsxs("section",{className:"mt-10 rounded-3xl border border-cream-100 bg-cream-50/60 px-6 py-6 sm:px-10",children:[I.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-display text-xl font-semibold text-rose-500",children:"Plain-text exam format guide"}),I.jsx("p",{className:"text-sm text-cocoa-400",children:"Follow these patterns to build imports for multiple choice and fill-in responses."})]}),I.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[I.jsxs("div",{className:"flex flex-wrap gap-3 sm:justify-end",children:[I.jsx("button",{type:"button",className:"rounded-2xl border border-rose-200 px-4 py-2 text-sm font-semibold text-rose-500 transition hover:bg-blush-200/40",onClick:Pr,children:"Export exam (.txt)"}),I.jsx("button",{type:"button",className:"rounded-2xl bg-rose-400 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-500",onClick:qn,children:"Import exam (.txt)"})]}),I.jsx("button",{type:"button",className:"self-end rounded-2xl border border-cream-100 px-4 py-2 text-sm font-semibold text-cocoa-400 transition hover:border-rose-200 hover:text-rose-400",onClick:()=>$(!1),children:"Hide guide"})]})]}),I.jsxs("div",{className:"mt-6 grid gap-5 text-sm text-cocoa-500 md:grid-cols-2",children:[I.jsxs("article",{className:"rounded-2xl bg-white/80 p-4 shadow-card",children:[I.jsx("h4",{className:"font-semibold text-cocoa-600",children:"Multiple choice"}),I.jsxs("p",{className:"mt-2 text-xs",children:["Use lettered answer options (a.d.) and finish with an ",I.jsx("code",{children:"Answer:"})," line that matches one of the option letters."]}),I.jsx("pre",{className:"mt-3 overflow-x-auto rounded-2xl bg-cream-50 p-4 font-mono text-xs leading-6 text-cocoa-600",children:Mr})]}),I.jsxs("article",{className:"rounded-2xl bg-white/80 p-4 shadow-card",children:[I.jsx("h4",{className:"font-semibold text-cocoa-600",children:"Fill in the blank"}),I.jsxs("p",{className:"mt-2 text-xs",children:["Add a ",I.jsx("code",{children:"Type: fill"})," line under the prompt so the importer treats the question as open response."]}),I.jsx("pre",{className:"mt-3 overflow-x-auto rounded-2xl bg-cream-50 p-4 font-mono text-xs leading-6 text-cocoa-600",children:os})]})]}),I.jsxs("div",{className:"mt-6 rounded-2xl bg-white/80 p-4 text-sm text-cocoa-400",children:[I.jsx("p",{className:"font-semibold text-cocoa-500",children:"Full sample (title + both question types):"}),I.jsx("pre",{className:"mt-3 overflow-x-auto rounded-2xl bg-cream-50 p-4 font-mono text-xs leading-6 text-cocoa-500",children:ga})]})]}),L&&I.jsx("div",{className:"mt-6",children:I.jsx(m8,{text:L.text,type:L.type,onDismiss:()=>S(null)})})]}),z&&I.jsx(c8,{exams:H,activeExamId:ee,isOpen:oe,onSelect:is,onToggle:()=>se(te=>!te),onDelete:Ie}),(e==null?void 0:e.role)==="admin"&&I.jsx(p8,{isOpen:pa,onClose:Un,users:Jn,isLoadingUsers:wi,usersError:xi,onRefreshUsers:jn,onSelectUser:Rr,selectedUser:ns,selectedUserExams:Ps,isLoadingExams:_i,examsError:bi,onDeleteExam:Si,onDeleteAllExams:ts,onDeleteUser:io,currentUserId:e.id,sessionLogs:Ds,examAttemptLogs:no,isLoadingActivity:Ye,activityError:Bn,onRefreshActivity:es})]})]})}):I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 via-white to-rose-50 px-6 py-12 sm:px-10",children:I.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-12 lg:flex-row lg:items-center",children:[I.jsxs("div",{className:"flex flex-1 flex-col items-center rounded-[40px] bg-white/70 p-10 text-center shadow-2xl backdrop-blur-sm lg:items-start lg:text-left",children:[I.jsx(Ih,{size:"lg",withText:!0,className:"mb-8"}),I.jsx("p",{className:"max-w-md text-lg text-cocoa-500",children:"Build, review, and deliver personalized exams for every teammate."}),I.jsxs("ul",{className:"mt-10 space-y-4 text-left text-sm text-cocoa-400",children:[I.jsxs("li",{className:"flex items-start gap-3",children:[I.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"1"}),I.jsx("span",{children:"Save unique exam sets for each login."})]}),I.jsxs("li",{className:"flex items-start gap-3",children:[I.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"2"}),I.jsx("span",{children:"Import plain-text question banks in one click."})]}),I.jsxs("li",{className:"flex items-start gap-3",children:[I.jsx("span",{className:"mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-rose-100 font-semibold text-rose-500",children:"3"}),I.jsx("span",{children:"Track progress while Omni Exam Studio handles the scoring."})]})]})]}),I.jsxs("div",{className:"w-full max-w-md rounded-[36px] border border-cream-100 bg-white px-8 py-10 shadow-2xl sm:px-10",children:[I.jsxs("form",{className:"flex flex-col gap-5",onSubmit:Ls,children:[I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-login",children:"Login"}),I.jsx("input",{id:"auth-login",type:"text",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.login,onChange:zs("login"),autoComplete:"username",required:!0})]}),o==="register"&&I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-display-name",children:"Display name"}),I.jsx("input",{id:"auth-display-name",type:"text",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.displayName,onChange:zs("displayName"),autoComplete:"name",required:o==="register"})]}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-sm font-semibold text-cocoa-400",htmlFor:"auth-password",children:"Password"}),I.jsx("input",{id:"auth-password",type:"password",className:"rounded-2xl border border-cream-200 bg-cream-50 px-4 py-3 text-sm font-medium text-cocoa-600 transition focus:border-rose-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-rose-200",value:d.password,onChange:zs("password"),autoComplete:o==="login"?"current-password":"new-password",required:!0})]}),x?I.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-500",children:x}):null,I.jsx("button",{type:"submit",className:"rounded-2xl bg-rose-400 px-5 py-3 text-sm font-semibold text-white transition hover:bg-rose-500 disabled:cursor-not-allowed disabled:opacity-50",disabled:N,children:N?"Just a moment...":o==="login"?"Sign in to Omni":"Create account"})]}),I.jsx("p",{className:"mt-6 text-center text-sm text-cocoa-400",children:o==="login"?I.jsxs(I.Fragment,{children:["Need an account?"," ",I.jsx("button",{type:"button",className:"font-semibold text-rose-500 transition hover:text-rose-600",onClick:Zr,children:"Create one"})]}):I.jsxs(I.Fragment,{children:["Already registered?"," ",I.jsx("button",{type:"button",className:"font-semibold text-rose-500 transition hover:text-rose-600",onClick:Zr,children:"Sign in instead"})]})})]})]})})};Ch.createRoot(document.getElementById("root")).render(I.jsx(B6.StrictMode,{children:I.jsx(P_,{})}));
